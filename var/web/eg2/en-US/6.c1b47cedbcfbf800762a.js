(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"4uox":function(e,c,i){"use strict";i.d(c,"a",(function(){return Kt}));var a=i("LRne"),l=i("HDdC"),t=i("Osig"),b=i("cm5s"),d=i("8PDw"),o=i("Q4dc"),n=i("OsfI"),s=i("MWGh"),r=i("9Zsr"),h=i("KBUj"),f=i("ItyU"),u=i("+hKF"),g=i("EQDH"),p=i("YRS1"),m=i("rRT/"),R=i("tNQm"),v=i("fXoL"),Q=i("1kSV"),_=i("ofXK"),x=function(e,c,i,a){return new(i||(i=Promise))((function(l,t){function b(e){try{o(a.next(e))}catch(c){t(c)}}function d(e){try{o(a.throw(e))}catch(c){t(c)}}function o(e){var c;e.done?l(e.value):(c=e.value,c instanceof i?c:new i((function(e){e(c)}))).then(b,d)}o((a=a.apply(e,c||[])).next())}))};const y=["successMsg"],z=["errorMsg"],$=["text",$localize`:␟40b11bf348fefc336550aa0f456b39b5eb699482␟5552216497596741739:Successfully Retargeted Hold`],I=["text",$localize`:␟8b9ea167ad6478de244f36c0d8baa1918842a01b␟4197802276237162970:Failed To Retarget Hold`];var w;w=$localize`:␟cf0ed9d04931955a1434ee09aa20a3bb64971534␟6830316509193544562:Retarget Hold`;const C=["aria-label",$localize`:␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`];var S,M,k;function X(e,c){if(1&e&&(v.Rb(0,"div",13),v.Rb(1,"div",14),v.Vb(2,S),v.Qb(),v.Qb()),2&e){const e=v.hc(2);v.xb(2),v.Zb(e.numSucceeded),v.Wb(2)}}function T(e,c){if(1&e&&(v.Rb(0,"div",13),v.Rb(1,"div",14),v.Rb(2,"div",15),v.Mc(3),v.Qb(),v.Qb(),v.Qb()),2&e){const e=v.hc(2);v.xb(3),v.Oc(" ",e.numFailed," Hold(s) Failed to Retarget. ")}}function D(e,c){if(1&e){const e=v.Sb();v.Pb(0),v.Rb(1,"button",16),v.fc("click",(function(){return v.Bc(e),v.hc(2).close()})),v.Vb(2,M),v.Qb(),v.Rb(3,"button",17),v.fc("click",(function(){return v.Bc(e),v.hc(2).retargetBatch()})),v.Vb(4,k),v.Qb(),v.Ob()}}function P(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",4),v.Rb(1,"h4",5),v.Rb(2,"span"),v.Vb(3,w),v.Qb(),v.Qb(),v.Rb(4,"button",6),v.Xb(5,C),v.fc("click",(function(){return v.Bc(e),v.hc().close()})),v.Rb(6,"span",7),v.Mc(7,"\xd7"),v.Qb(),v.Qb(),v.Qb(),v.Rb(8,"div",8),v.Rb(9,"div",9),v.Rb(10,"h5"),v.Mc(11),v.Qb(),v.Qb(),v.Kc(12,X,3,1,"div",10),v.Kc(13,T,4,1,"div",10),v.Qb(),v.Rb(14,"div",11),v.Kc(15,D,5,0,"ng-container",12),v.Qb()}if(2&e){const e=v.hc();v.xb(11),v.Oc("Retarget ",e.holdIds.length," Holds?"),v.xb(1),v.oc("ngIf",e.numSucceeded>0),v.xb(1),v.oc("ngIf",e.numFailed>0),v.xb(2),v.oc("ngIf",!e.chargeResponse)}}S=$localize`:␟fd3f4e55460f0b27e57b8de3a6baf899c0812893␟5526746293582403519: ${"\ufffd0\ufffd"}:INTERPOLATION: Hold(s) Successfully Retargeted `,M=$localize`:␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,k=$localize`:␟a6efcfdea62c7371785a73f1fe888c0658b58fb0␟7092691235780941755:Retarget`;let B=(()=>{class e extends m.a{constructor(e,c,i,a,l){super(e),this.modal=e,this.toast=c,this.net=i,this.evt=a,this.auth=l}ngOnInit(){}open(e){return this.numSucceeded=0,this.numFailed=0,this.holdIds=[].concat(this.holdIds),super.open(e)}retargetNext(e){return x(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve():this.net.request("open-ils.circ","open-ils.circ.hold.reset",this.auth.token(),e.pop()).toPromise().then(c=>x(this,void 0,void 0,(function*(){1===Number(c)?(this.numSucceeded++,this.toast.success(yield this.successMsg.current())):(this.numFailed++,console.error(this.evt.parse(c)),this.toast.warning(yield this.errorMsg.current())),this.retargetNext(e)})))}))}retargetBatch(){return x(this,void 0,void 0,(function*(){this.numSucceeded=0,this.numFailed=0;const e=[].concat(this.holdIds);yield this.retargetNext(e),this.close(this.numSucceeded>0)}))}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(Q.s),v.Lb(p.a),v.Lb(t.b),v.Lb(g.a),v.Lb(d.a))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-hold-retarget-dialog"]],viewQuery:function(e,c){var i;1&e&&(v.Ic(y,!0),v.Ic(z,!0)),2&e&&(v.yc(i=v.gc())&&(c.successMsg=i.first),v.yc(i=v.gc())&&(c.errorMsg=i.first))},inputs:{holdIds:"holdIds"},features:[v.ub],decls:8,vars:0,consts:[[6,"text"],["successMsg",""],["errorMsg",""],["dialogContent",""],[1,"modal-header","bg-info"],[1,"modal-title"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-hidden","true"],[1,"modal-body"],[1,"row","d-flex","justify-content-center"],["class","row",4,"ngIf"],[1,"modal-footer"],[4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"alert","alert-warning"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,c){1&e&&(v.Rb(0,"eg-string",0,1),v.Xb(2,$),v.Qb(),v.Rb(3,"eg-string",0,2),v.Xb(5,I),v.Qb(),v.Kc(6,P,16,4,"ng-template",null,3,v.Lc))},directives:[R.a,_.v],encapsulation:2}),e})();var F=i("z6cu"),L=i("OXuP"),H=function(e,c,i,a){return new(i||(i=Promise))((function(l,t){function b(e){try{o(a.next(e))}catch(c){t(c)}}function d(e){try{o(a.throw(e))}catch(c){t(c)}}function o(e){var c;e.done?l(e.value):(c=e.value,c instanceof i?c:new i((function(e){e(c)}))).then(b,d)}o((a=a.apply(e,c||[])).next())}))};const V=["successMsg"],N=["errorMsg"],O=["targetNeeded"],K=["text",$localize`:␟ad06ab3d23281239acd4aa48fa37020ed4fb5f6e␟6610891642878951751:Successfully Transfered Hold`],A=["text",$localize`:␟530f50d353da448c9458ebdd8a9aeb3b664bcd29␟7571966282635080402:Failed To Transfer Hold`],E=["text",$localize`:␟8ec65b1fb7ab5871d6cd1e60a044248b72d64fd1␟92195369585943581:Transfer Target Required`];var q;q=$localize`:␟d45a788957d01c45ee3caa3078f80b2d03224439␟8130434264916136119:Transfer Hold(s) To Marked Target`;const G=["aria-label",$localize`:␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`];var j,W,U;function Z(e,c){if(1&e&&(v.Rb(0,"div",14),v.Rb(1,"div",15),v.Rb(2,"div",16),v.Mc(3),v.Qb(),v.Qb(),v.Qb()),2&e){const e=v.hc(3);v.xb(3),v.Oc(" ",e.numFailed," Hold(s) Failed to Transfer. ")}}function J(e,c){if(1&e&&(v.Rb(0,"div",14),v.Rb(1,"div",15),v.Vb(2,j),v.Qb(),v.Kc(3,Z,4,1,"div",11),v.Qb()),2&e){const e=v.hc(2);v.xb(2),v.Zb(e.numSucceeded),v.Wb(2),v.xb(1),v.oc("ngIf",e.numFailed>0)}}function Y(e,c){if(1&e){const e=v.Sb();v.Pb(0),v.Rb(1,"button",17),v.fc("click",(function(){return v.Bc(e),v.hc(2).close()})),v.Vb(2,W),v.Qb(),v.Rb(3,"button",18),v.fc("click",(function(){return v.Bc(e),v.hc(2).transferBatch()})),v.Vb(4,U),v.Qb(),v.Ob()}}function ee(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",5),v.Rb(1,"h4",6),v.Rb(2,"span"),v.Vb(3,q),v.Qb(),v.Qb(),v.Rb(4,"button",7),v.Xb(5,G),v.fc("click",(function(){return v.Bc(e),v.hc().close()})),v.Rb(6,"span",8),v.Mc(7,"\xd7"),v.Qb(),v.Qb(),v.Qb(),v.Rb(8,"div",9),v.Rb(9,"div",10),v.Rb(10,"h5"),v.Mc(11),v.Qb(),v.Qb(),v.Kc(12,J,4,2,"div",11),v.Qb(),v.Rb(13,"div",12),v.Kc(14,Y,5,0,"ng-container",13),v.Qb()}if(2&e){const e=v.hc();v.xb(11),v.Pc("Transfer ",e.holdIds.length," Holds To Record ",e.transferTarget,"?"),v.xb(1),v.oc("ngIf",e.numSucceeded>0),v.xb(2),v.oc("ngIf",!e.chargeResponse)}}j=$localize`:␟ae88a44007d3defbc4cb86a54da85597b9da29d2␟7879816584524453313: ${"\ufffd0\ufffd"}:INTERPOLATION: Hold(s) Successfully Transferred. `,W=$localize`:␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,U=$localize`:␟798f7720c371eda6d7931bc590b771a02e2881bb␟8402696305361715603:Transfer`;let ce=(()=>{class e extends m.a{constructor(e,c,i,a,l,t){super(e),this.modal=e,this.toast=c,this.store=i,this.net=a,this.evt=l,this.auth=t}ngOnInit(){}open(e){return this.numSucceeded=0,this.numFailed=0,this.holdIds=[].concat(this.holdIds),this.transferTarget=this.store.getLocalItem("eg.circ.hold.title_transfer_target"),this.transferTarget?super.open(e):(this.targetNeeded.current().then(e=>this.toast.warning(e)),Object(F.a)("Transfer Target Required"))}transferHolds(){return H(this,void 0,void 0,(function*(){return this.net.request("open-ils.circ","open-ils.circ.hold.change_title.specific_holds",this.auth.token(),this.transferTarget,this.holdIds).toPromise().then(e=>H(this,void 0,void 0,(function*(){1===Number(e)?(this.numSucceeded++,this.toast.success(yield this.successMsg.current())):(this.numFailed++,console.error("Retarget Failed",this.evt.parse(e)),this.toast.warning(yield this.errorMsg.current()))})))}))}transferBatch(){return H(this,void 0,void 0,(function*(){this.numSucceeded=0,this.numFailed=0,yield this.transferHolds(),this.close(this.numSucceeded>0)}))}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(Q.s),v.Lb(p.a),v.Lb(L.a),v.Lb(t.b),v.Lb(g.a),v.Lb(d.a))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-hold-transfer-dialog"]],viewQuery:function(e,c){var i;1&e&&(v.Ic(V,!0),v.Ic(N,!0),v.Ic(O,!0)),2&e&&(v.yc(i=v.gc())&&(c.successMsg=i.first),v.yc(i=v.gc())&&(c.errorMsg=i.first),v.yc(i=v.gc())&&(c.targetNeeded=i.first))},inputs:{holdIds:"holdIds"},features:[v.ub],decls:11,vars:0,consts:[[6,"text"],["successMsg",""],["errorMsg",""],["targetNeeded",""],["dialogContent",""],[1,"modal-header","bg-info"],[1,"modal-title"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-hidden","true"],[1,"modal-body"],[1,"row","d-flex","justify-content-center"],["class","row",4,"ngIf"],[1,"modal-footer"],[4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"alert","alert-warning"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,c){1&e&&(v.Rb(0,"eg-string",0,1),v.Xb(2,K),v.Qb(),v.Rb(3,"eg-string",0,2),v.Xb(5,A),v.Qb(),v.Rb(6,"eg-string",0,3),v.Xb(8,E),v.Qb(),v.Kc(9,ee,15,4,"ng-template",null,4,v.Lc))},directives:[R.a,_.v],encapsulation:2}),e})();var ie=i("iA0r"),ae=i("9rfo"),le=i("3Pt+"),te=function(e,c,i,a){return new(i||(i=Promise))((function(l,t){function b(e){try{o(a.next(e))}catch(c){t(c)}}function d(e){try{o(a.throw(e))}catch(c){t(c)}}function o(e){var c;e.done?l(e.value):(c=e.value,c instanceof i?c:new i((function(e){e(c)}))).then(b,d)}o((a=a.apply(e,c||[])).next())}))};const be=["successMsg"],de=["errorMsg"],oe=["text",$localize`:␟df599a704890db46e3588c6f77c4a3b294de3765␟6571807160648078969:Successfully Canceled Hold`],ne=["text",$localize`:␟506ff4b9785a793fc41734459b52f341d1ddeba7␟3176153206503675084:Failed To Cancel Hold`];var se;se=$localize`:␟f8ead0a36b353b4f5c76026fa243facaae837fec␟9205210417117933018:Cancel Hold`;const re=["aria-label",$localize`:␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`];var he,fe,ue,ge,pe;function me(e,c){if(1&e&&(v.Rb(0,"div",22),v.Rb(1,"div",20),v.Rb(2,"div",23),v.Mc(3),v.Qb(),v.Qb(),v.Qb()),2&e){const e=v.hc(3);v.xb(3),v.Oc(" ",e.numFailed," Hold(s) Failed to Cancel. ")}}function Re(e,c){if(1&e&&(v.Rb(0,"div",10),v.Rb(1,"div",20),v.Vb(2,ue),v.Qb(),v.Kc(3,me,4,1,"div",21),v.Qb()),2&e){const e=v.hc(2);v.xb(2),v.Zb(e.numSucceeded),v.Wb(2),v.xb(1),v.oc("ngIf",e.numFailed>0)}}function ve(e,c){if(1&e){const e=v.Sb();v.Pb(0),v.Rb(1,"button",24),v.fc("click",(function(){return v.Bc(e),v.hc(2).close()})),v.Vb(2,ge),v.Qb(),v.Rb(3,"button",25),v.fc("click",(function(){return v.Bc(e),v.hc(2).cancelBatch()})),v.Vb(4,pe),v.Qb(),v.Ob()}}function Qe(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",4),v.Rb(1,"h4",5),v.Rb(2,"span"),v.Vb(3,se),v.Qb(),v.Qb(),v.Rb(4,"button",6),v.Xb(5,re),v.fc("click",(function(){return v.Bc(e),v.hc().close()})),v.Rb(6,"span",7),v.Mc(7,"\xd7"),v.Qb(),v.Qb(),v.Qb(),v.Rb(8,"div",8),v.Rb(9,"div",9),v.Rb(10,"h5"),v.Mc(11),v.Qb(),v.Qb(),v.Rb(12,"div",10),v.Rb(13,"div",11),v.Rb(14,"label",12),v.Vb(15,he),v.Qb(),v.Qb(),v.Rb(16,"div",13),v.Rb(17,"eg-combobox",14),v.fc("onChange",(function(c){return v.Bc(e),v.hc().cancelReason=c?c.id:null})),v.Qb(),v.Qb(),v.Qb(),v.Rb(18,"div",10),v.Rb(19,"div",11),v.Rb(20,"label",15),v.Vb(21,fe),v.Qb(),v.Qb(),v.Rb(22,"div",13),v.Rb(23,"textarea",16),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc().cancelNote=c})),v.Qb(),v.Qb(),v.Qb(),v.Kc(24,Re,4,2,"div",17),v.Qb(),v.Rb(25,"div",18),v.Kc(26,ve,5,0,"ng-container",19),v.Qb()}if(2&e){const e=v.hc();v.xb(11),v.Oc("Cancel ",e.holdIds.length," Holds?"),v.xb(6),v.oc("entries",e.cancelReasons)("startId",5),v.xb(6),v.oc("ngModel",e.cancelNote),v.xb(1),v.oc("ngIf",e.numSucceeded>0),v.xb(2),v.oc("ngIf",!e.chargeResponse)}}he=$localize`:␟ecb9c76f788948fdf39949f816228f3627873e8a␟5125279863266781721:Cancel Reason`,fe=$localize`:␟448978e03e048a58a89d52c16a8e35bb9cb0248b␟4848280198338869932:Cancel Note`,ue=$localize`:␟37c63e0d78a47489c999784dfdb459187f1dd381␟4281775887783706685: ${"\ufffd0\ufffd"}:INTERPOLATION: Hold(s) Successfully Canceled `,ge=$localize`:␟d7b35c384aecd25a516200d6921836374613dfe7␟2159130950882492111:Cancel`,pe=$localize`:␟f8ead0a36b353b4f5c76026fa243facaae837fec␟9205210417117933018:Cancel Hold`;let _e=(()=>{class e extends m.a{constructor(e,c,i,a,l,t){super(e),this.modal=e,this.toast=c,this.net=i,this.evt=a,this.pcrud=l,this.auth=t,this.cancelReasons=[]}ngOnInit(){}open(e){return this.numSucceeded=0,this.numFailed=0,0===this.cancelReasons.length&&this.pcrud.retrieveAll("ahrcc",{},{atomic:!0}).toPromise().then(e=>{this.cancelReasons=e.map(e=>({id:e.id(),label:e.label()}))}),super.open(e)}cancelNext(e){return te(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve():this.net.request("open-ils.circ","open-ils.circ.hold.cancel",this.auth.token(),e.pop(),this.cancelReason,this.cancelNote).toPromise().then(c=>te(this,void 0,void 0,(function*(){1===Number(c)?(this.numSucceeded++,this.toast.success(yield this.successMsg.current())):(this.numFailed++,console.error(this.evt.parse(c)),this.toast.warning(yield this.errorMsg.current())),this.cancelNext(e)})))}))}cancelBatch(){return te(this,void 0,void 0,(function*(){this.numSucceeded=0,this.numFailed=0;const e=[].concat(this.holdIds);yield this.cancelNext(e),this.close(this.numSucceeded>0)}))}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(Q.s),v.Lb(p.a),v.Lb(t.b),v.Lb(g.a),v.Lb(ie.a),v.Lb(d.a))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-hold-cancel-dialog"]],viewQuery:function(e,c){var i;1&e&&(v.Ic(be,!0),v.Ic(de,!0)),2&e&&(v.yc(i=v.gc())&&(c.successMsg=i.first),v.yc(i=v.gc())&&(c.errorMsg=i.first))},inputs:{holdIds:"holdIds"},features:[v.ub],decls:8,vars:0,consts:[[6,"text"],["successMsg",""],["errorMsg",""],["dialogContent",""],[1,"modal-header","bg-info"],[1,"modal-title"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-hidden","true"],[1,"modal-body"],[1,"row","d-flex","justify-content-center"],[1,"row","mt-2"],[1,"col-lg-4"],["for","cance-reasons"],[1,"col-lg-8"],["id","cancel-reasons",3,"entries","startId","onChange"],["for","cance-note"],["id","cancel-note",1,"form-control",3,"ngModel","ngModelChange"],["class","row mt-2",4,"ngIf"],[1,"modal-footer"],[4,"ngIf"],[1,"col-lg-12"],["class","row",4,"ngIf"],[1,"row"],[1,"alert","alert-warning"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,c){1&e&&(v.Rb(0,"eg-string",0,1),v.Xb(2,oe),v.Qb(),v.Rb(3,"eg-string",0,2),v.Xb(5,ne),v.Qb(),v.Kc(6,Qe,27,6,"ng-template",null,3,v.Lc))},directives:[R.a,ae.a,le.c,le.t,le.w,_.v],encapsulation:2}),e})();var xe,ye,ze,$e,Ie,we,Ce,Se,Me,ke,Xe=i("wBwE"),Te=i("hdyx"),De=i("wVJ/"),Pe=i("LTyc");xe=$localize`:␟5250a24af6f2244326451c9ef7c212c23bfb6378␟2454368065281043061:Pickup Library:`,ye=$localize`:␟ff9bd72feec967a0900fcec1997c5a0656296b4f␟7631985941626166681:Desired Item Condition:`,ze=$localize`:␟29b217768283d0fd3cc5e78993a71e9bf9f74564␟4137273194240492813:Hold is Suspended:`,$e=$localize`:␟b738a9f5a0e49bb2fbf4b453db68f3780597043f␟2415082772875013655:Top of Queue:`,Ie=$localize`:␟2fa4e20721146bdded919d7a1fccfbb5ab5e6882␟6512787130270910460:Activate Date:`,we=$localize`:␟6e5e7d0441fadbd72e39d53d7de5f05afd535d2a␟7784470873556678953:Request Date:`,Ce=$localize`:␟d56a5713031588c81d5c033e17434ac695cedf6f␟6877005221925048890:Expire Date:`,Se=$localize`:␟dbff8301ee8c0c0f24fb8fd2652c3c99ab2e907a␟3498549294396359774:Shelf Expire Date:`,Me=$localize`:␟17768b48558799643b320eef7298618af26e5f10␟7875490568719607892:Send Emails:`,ke=$localize`:␟9988ada51fbf826595b77a8de10fdcea198b4e82␟1579676670064384220:Phone Number:`;const Be=["placeholder",$localize`:␟f2664ddc942601799a79654a6eedde7b5521f0cd␟8623045216132981102:Phone Number...`];var Fe,Le;Fe=$localize`:␟a5433ae2324496bea9537caa5e8a2719d8e958d8␟4134917114666618814: Cancel `,Le=$localize`:␟1f2844c3994cf2b4b4dd7f7cf000d61b25c7437b␟8390228382547191913: Apply `;const He=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function Ve(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",35),v.Xb(3,He),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.pickup_lib=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.pickup_lib)}}const Ne=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function Oe(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",36),v.Xb(3,Ne),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.mint_condition=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.mint_condition)}}const Ke=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function Ae(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",37),v.Xb(3,Ke),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.frozen=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.frozen)}}const Ee=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function qe(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",38),v.Xb(3,Ee),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.cut_in_line=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.cut_in_line)}}const Ge=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function je(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",39),v.Xb(3,Ge),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.thaw_date=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.thaw_date)}}const We=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function Ue(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",40),v.Xb(3,We),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.request_time=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.request_time)}}const Ze=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function Je(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",41),v.Xb(3,Ze),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.expire_time=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.expire_time)}}const Ye=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function ec(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",42),v.Xb(3,Ye),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.shelf_expire_time=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.shelf_expire_time)}}const cc=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function ic(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",43),v.Xb(3,cc),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.email_notify=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.email_notify)}}const ac=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function lc(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",44),v.Xb(3,ac),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).activeFields.phone_notify=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(2),v.oc("ngModel",e.activeFields.phone_notify)}}var tc;tc=$localize`:␟39a421db886bc354a8750fee35e6f086654b362f␟6755484265772753339:Text/SMS Number:`;const bc=["placeholder",$localize`:␟e5bbe94d0a4028c685c76257569b6bfa31c83b1b␟8448690617357798076:SMS Number...`];var dc;dc=$localize`:␟39a421db886bc354a8750fee35e6f086654b362f␟6755484265772753339:Text/SMS Number:`;const oc=["placeholder",$localize`:␟d0ce431384426946ad8753bbd61a9150af78ec78␟5153453663642537871:SMS Carrier...`],nc=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function sc(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",49),v.Xb(3,nc),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(3).activeFields.sms_notify=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(3);v.xb(2),v.oc("ngModel",e.activeFields.sms_notify)}}const rc=["title",$localize`:␟24b0de00c2f251a678f8950f670a89f5991f61b2␟4197929319665856163:Activate Column Editing`];function hc(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",34),v.Rb(1,"div",9),v.Rb(2,"input",50),v.Xb(3,rc),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(3).activeFields.sms_carrier=c})),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(3);v.xb(2),v.oc("ngModel",e.activeFields.sms_carrier)}}function fc(e,c){if(1&e){const e=v.Sb();v.Pb(0),v.Rb(1,"div",12),v.Rb(2,"div",4),v.Kc(3,sc,4,1,"div",5),v.Rb(4,"div",6),v.Rb(5,"label",45),v.Vb(6,tc),v.Qb(),v.Qb(),v.Qb(),v.Rb(7,"div",7),v.Rb(8,"input",46),v.Xb(9,bc),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc(2).hold.sms_notify(c)})),v.Qb(),v.Qb(),v.Rb(10,"div",4),v.Kc(11,hc,4,1,"div",5),v.Rb(12,"div",6),v.Rb(13,"label",47),v.Vb(14,dc),v.Qb(),v.Qb(),v.Qb(),v.Rb(15,"div",7),v.Rb(16,"eg-combobox",48),v.Xb(17,oc),v.fc("onChange",(function(c){return v.Bc(e),v.hc(2).hold.sms_carrier(c.id)})),v.Qb(),v.Qb(),v.Qb(),v.Ob()}if(2&e){const e=v.hc(2);v.xb(3),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.sms_notify)("ngModel",e.hold.sms_notify()),v.xb(3),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.sms_carrier)("startId",e.hold.sms_carrier())("entries",e.smsCarriers)}}function uc(e,c){if(1&e){const e=v.Sb();v.Rb(0,"form",1,2),v.Rb(2,"div",3),v.Rb(3,"div",4),v.Kc(4,Ve,4,1,"div",5),v.Rb(5,"div",6),v.Rb(6,"label"),v.Vb(7,xe),v.Qb(),v.Qb(),v.Qb(),v.Rb(8,"div",7),v.Rb(9,"eg-org-select",8),v.fc("onChange",(function(c){return v.Bc(e),v.hc().pickupLibChanged(c)})),v.Qb(),v.Qb(),v.Rb(10,"div",4),v.Kc(11,Oe,4,1,"div",5),v.Rb(12,"div",6),v.Rb(13,"label"),v.Vb(14,ye),v.Qb(),v.Qb(),v.Qb(),v.Rb(15,"div",7),v.Rb(16,"div",9),v.Rb(17,"input",10),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc().hold.mint_condition(c?"t":"f")})),v.Qb(),v.Rb(18,"label",11),v.Mc(19," Good Condition Only "),v.Qb(),v.Qb(),v.Qb(),v.Qb(),v.Rb(20,"div",12),v.Rb(21,"div",4),v.Kc(22,Ae,4,1,"div",5),v.Rb(23,"div",6),v.Rb(24,"label",13),v.Vb(25,ze),v.Qb(),v.Qb(),v.Qb(),v.Rb(26,"div",7),v.Rb(27,"div",9),v.Rb(28,"input",14),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc().hold.frozen(c?"t":"f")})),v.Qb(),v.Qb(),v.Qb(),v.Rb(29,"div",4),v.Kc(30,qe,4,1,"div",5),v.Rb(31,"div",6),v.Rb(32,"label",15),v.Vb(33,$e),v.Qb(),v.Qb(),v.Qb(),v.Rb(34,"div",7),v.Rb(35,"div",9),v.Rb(36,"input",16),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc().hold.cut_in_line(c?"t":"f")})),v.Qb(),v.Qb(),v.Qb(),v.Qb(),v.Rb(37,"div",17),v.Rb(38,"div",12),v.Rb(39,"div",4),v.Kc(40,je,4,1,"div",5),v.Rb(41,"div",6),v.Rb(42,"label",18),v.Vb(43,Ie),v.Qb(),v.Qb(),v.Qb(),v.Rb(44,"div",7),v.Rb(45,"eg-date-select",19),v.fc("onChangeAsIso",(function(c){return v.Bc(e),v.hc().hold.thaw_date(c)})),v.Qb(),v.Qb(),v.Rb(46,"div",4),v.Kc(47,Ue,4,1,"div",5),v.Rb(48,"div",6),v.Rb(49,"label",20),v.Vb(50,we),v.Qb(),v.Qb(),v.Qb(),v.Rb(51,"div",7),v.Rb(52,"eg-date-select",21),v.fc("onChangeAsIso",(function(c){return v.Bc(e),v.hc().hold.request_time(c)})),v.Qb(),v.Qb(),v.Qb(),v.Rb(53,"div",12),v.Rb(54,"div",4),v.Kc(55,Je,4,1,"div",5),v.Rb(56,"div",6),v.Rb(57,"label",22),v.Vb(58,Ce),v.Qb(),v.Qb(),v.Qb(),v.Rb(59,"div",7),v.Rb(60,"eg-date-select",23),v.fc("onChangeAsIso",(function(c){return v.Bc(e),v.hc().hold.expire_time(c)})),v.Qb(),v.Qb(),v.Rb(61,"div",4),v.Kc(62,ec,4,1,"div",5),v.Rb(63,"div",6),v.Rb(64,"label",24),v.Vb(65,Se),v.Qb(),v.Qb(),v.Qb(),v.Rb(66,"div",7),v.Rb(67,"eg-date-select",25),v.fc("onChangeAsIso",(function(c){return v.Bc(e),v.hc().hold.shelf_expire_time(c)})),v.Qb(),v.Qb(),v.Qb(),v.Qb(),v.Rb(68,"div",12),v.Rb(69,"div",4),v.Kc(70,ic,4,1,"div",5),v.Rb(71,"div",6),v.Rb(72,"label",26),v.Vb(73,Me),v.Qb(),v.Qb(),v.Qb(),v.Rb(74,"div",7),v.Rb(75,"div",9),v.Rb(76,"input",27),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc().hold.email_notify(c?"t":"f")})),v.Qb(),v.Qb(),v.Qb(),v.Rb(77,"div",4),v.Kc(78,lc,4,1,"div",5),v.Rb(79,"div",6),v.Rb(80,"label",28),v.Vb(81,ke),v.Qb(),v.Qb(),v.Qb(),v.Rb(82,"div",7),v.Rb(83,"input",29),v.Xb(84,Be),v.fc("ngModelChange",(function(c){return v.Bc(e),v.hc().hold.phone_notify(c)})),v.Qb(),v.Qb(),v.Qb(),v.Kc(85,fc,18,7,"ng-container",30),v.Rb(86,"div",31),v.Rb(87,"div"),v.Rb(88,"button",32),v.fc("click",(function(){return v.Bc(e),v.hc().exit()})),v.Vb(89,Fe),v.Qb(),v.Rb(90,"button",33),v.fc("click",(function(){return v.Bc(e),v.hc().save()})),v.Vb(91,Le),v.Qb(),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc();v.xb(4),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("initialOrgId",e.hold.pickup_lib())("disabled",e.isBatch()&&!e.activeFields.pickup_lib),v.xb(2),v.oc("ngIf",e.isBatch()),v.xb(6),v.oc("disabled",e.isBatch()&&!e.activeFields.mint_condition)("ngModel","t"==e.hold.mint_condition()),v.xb(5),v.oc("ngIf",e.isBatch()),v.xb(6),v.oc("disabled",e.isBatch()&&!e.activeFields.frozen)("ngModel","t"==e.hold.frozen()),v.xb(2),v.oc("ngIf",e.isBatch()),v.xb(6),v.oc("disabled",e.isBatch()&&!e.activeFields.cut_in_line)("ngModel","t"==e.hold.cut_in_line()),v.xb(4),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.thaw_date)("initialIso",e.hold.thaw_date()),v.xb(2),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.request_time)("initialIso",e.hold.request_time()),v.xb(3),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.expire_time)("initialIso",e.hold.expire_time()),v.xb(2),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.shelf_expire_time)("initialIso",e.hold.shelf_expire_time()),v.xb(3),v.oc("ngIf",e.isBatch()),v.xb(6),v.oc("ngModel","t"==e.hold.email_notify())("disabled",e.isBatch()&&!e.activeFields.email_notify),v.xb(2),v.oc("ngIf",e.isBatch()),v.xb(5),v.oc("disabled",e.isBatch()&&!e.activeFields.phone_notify)("ngModel",e.hold.phone_notify()),v.xb(2),v.oc("ngIf",e.smsEnabled)}}let gc=(()=>{class e{constructor(e,c,i,a){this.idl=e,this.org=c,this.pcrud=i,this.holds=a,this.onComplete=new v.n,this.smsCarriers=[],this.holdIds=[],this.activeFields={}}ngOnInit(){this.org.settings("sms.enable").then(e=>{this.smsEnabled=e["sms.enable"],this.smsEnabled&&this.pcrud.search("csc",{active:"t"},{order_by:{csc:"name"}}).subscribe(e=>{this.smsCarriers.push({id:e.id(),label:e.name()})})}),this.fetchHold()}fetchHold(){this.hold=null,0!==this.holdIds.length&&(this.isBatch()?this.hold=this.idl.create("ahr"):this.pcrud.retrieve("ahr",this.holdIds[0]).subscribe(e=>this.hold=e))}toFormData(){}isBatch(){return this.holdIds.length>1}pickupLibChanged(e){e&&this.hold.pickup_lib(e.id())}save(){if(this.isBatch()){const e=Object.keys(this.activeFields).filter(e=>this.activeFields[e]),c=[];this.pcrud.search("ahr",{id:this.holdIds}).subscribe(i=>{e.forEach(e=>i[e](this.hold[e]())),c.push(i)},e=>{},()=>{this.saveBatch(c)})}else this.saveBatch([this.hold])}saveBatch(e){let c=0;this.holds.updateHolds(e).subscribe(e=>{Number(e)>0&&(c++,console.debug("hold update succeeded with ",e))},e=>console.error("hold update failed with ",e),()=>{c===e.length?this.onComplete.emit(!0):console.error("Some holds failed to update")})}exit(){this.onComplete.emit(!1)}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(Xe.a),v.Lb(b.a),v.Lb(ie.a),v.Lb(Te.a))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-hold-manage"]],inputs:{holdIds:"holdIds"},outputs:{onComplete:"onComplete"},decls:1,vars:1,consts:[["role","form","class","form-validated common-form striped-odd",4,"ngIf"],["role","form",1,"form-validated","common-form","striped-odd"],["holdManageForm",""],[1,"form-group","row","d-flex"],[1,"col-lg-2","d-flex"],["class","",4,"ngIf"],[1,"flex-1"],[1,"col-lg-4"],[3,"initialOrgId","disabled","onChange"],[1,"form-check","form-check-inline"],["type","checkbox","id","mint-condition","name","mint","value","mint",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","mint-condition",1,"form-check-label"],[1,"form-group","row"],["for","frozen"],["type","checkbox","id","frozen","name","frozen",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","cut_in_line"],["type","checkbox","id","cut_in_line","name","cut_in_line",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],[1,"w-100","border","border-primary","rounded"],["for","thaw_date"],["domId","thaw_date",3,"disabled","initialIso","onChangeAsIso"],["for","request_time"],["domId","request_time",3,"disabled","initialIso","onChangeAsIso"],["for","expire_time"],["domId","expire_time",3,"disabled","initialIso","onChangeAsIso"],["for","shelf_expire_time"],["domId","shelf_expire_time",3,"disabled","initialIso","onChangeAsIso"],["for","email"],["type","checkbox","id","email","name","email",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["for","phone"],["type","text","name","phone","id","phone",1,"form-control",3,"disabled","ngModel","ngModelChange",6,"placeholder"],[4,"ngIf"],[1,"row","d-flex","justify-content-end"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-success","ml-2",3,"click"],[1,""],["type","checkbox","name","active_pickup_lib",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_mint_condition",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_frozen",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_cut_in_line",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_thaw_date",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_request_time",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_expire_time",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_shelf_expire_time",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_email_notify",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_phone_notify",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["for","sms_notify"],["type","text","name","sms_notify","id","sms_notify",1,"form-control",3,"disabled","ngModel","ngModelChange",6,"placeholder"],["for","sms_carrier"],["id","sms_carrier",3,"disabled","startId","entries","onChange",6,"placeholder"],["type","checkbox","name","active_sms_notify",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"],["type","checkbox","name","active_sms_carrier",1,"form-check-input",3,"ngModel","ngModelChange",6,"title"]],template:function(e,c){1&e&&v.Kc(0,uc,92,31,"form",0),2&e&&v.oc("ngIf",c.hold)},directives:[_.v,le.J,le.u,le.v,De.a,le.a,le.t,le.w,Pe.a,le.c,ae.a],encapsulation:2}),e})();const pc=["aria-label",$localize`:␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`];var mc;function Rc(e,c){if(1&e&&(v.Pb(0),v.Rb(1,"h4",7),v.Vb(2,mc),v.Qb(),v.Ob()),2&e){const e=v.hc(2);v.xb(2),v.Zb(e.holdIds[0]),v.Wb(2)}}function vc(e,c){if(1&e&&(v.Pb(0),v.Rb(1,"h4",7),v.Mc(2),v.Qb(),v.Ob()),2&e){const e=v.hc(2);v.xb(2),v.Oc("Batch Modify ",e.holdIds.length," Holds")}}function Qc(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",1),v.Kc(1,Rc,3,1,"ng-container",2),v.Kc(2,vc,3,1,"ng-container",2),v.Rb(3,"button",3),v.Xb(4,pc),v.fc("click",(function(){return v.Bc(e),v.hc().close()})),v.Rb(5,"span",4),v.Mc(6,"\xd7"),v.Qb(),v.Qb(),v.Qb(),v.Rb(7,"div",5),v.Rb(8,"eg-hold-manage",6),v.fc("onComplete",(function(c){return v.Bc(e),v.hc().onComplete(c)})),v.Qb(),v.Qb()}if(2&e){const e=v.hc();v.xb(1),v.oc("ngIf",1==e.holdIds.length),v.xb(1),v.oc("ngIf",e.holdIds.length>1),v.xb(6),v.oc("holdIds",e.holdIds)}}mc=$localize`:␟bcb81a19bc6de9bc9abb7ea7585ae6c011533514␟389718792174474468:Modify Hold (#${"\ufffd0\ufffd"}:INTERPOLATION:)`;let _c=(()=>{class e extends m.a{constructor(e){super(e),this.modal=e}open(e){return super.open(e)}onComplete(e){this.close(e)}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(Q.s))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-hold-manage-dialog"]],inputs:{holdIds:"holdIds"},features:[v.ub],decls:2,vars:0,consts:[["dialogContent",""],[1,"modal-header","bg-info"],[4,"ngIf"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-hidden","true"],[1,"modal-body"],[3,"holdIds","onComplete"],[1,"modal-title"]],template:function(e,c){1&e&&v.Kc(0,Qc,9,3,"ng-template",null,0,v.Lc)},directives:[_.v,gc],encapsulation:2}),e})();var xc=i("E45d"),yc=i("WC/f"),zc=i("ufrD"),$c=i("ZvpF");const Ic=["bannerText",$localize`:␟11717ee5d3b59f12ce1a7c8f9369146f2fb796f0␟5453003315322379565:Hold Details (#${"\ufffd0\ufffd"}:INTERPOLATION:)`];var wc,Cc,Sc,Mc,kc,Xc,Tc,Dc,Pc,Bc,Fc,Lc,Hc,Vc,Nc,Oc,Kc,Ac,Ec,qc,Gc,jc,Wc,Uc,Zc,Jc,Yc,ei,ci,ii,ai,li;function ti(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Wc),v.Qb())}function bi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Uc),v.Qb())}function di(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Zc),v.Qb())}function oi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Jc),v.Qb())}function ni(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Yc),v.Qb())}function si(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,ei),v.Qb())}function ri(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,ci),v.Qb())}function hi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,ii),v.Qb())}function fi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,ai),v.Qb())}function ui(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,li),v.Qb())}wc=$localize`:␟c2de610ab94c4c69cfe245828b9f487e31ed0f95␟7387382518119780362:List View`,Cc=$localize`:␟b93ce45a1d7998470f7a2b35c059aa6f61c0edb5␟4926083753933394202:Request Date`,Sc=$localize`:␟ae1fe9f8dc7f3c7038598644243fd641e9a9893a␟1826468428193309350:Capture Date`,Mc=$localize`:␟6db61f30884542d578e033a9f0fb13294d36e158␟4574281185633864528:Available On`,kc=$localize`:␟6e6f6683ff3b42eedeca357ff898b74169c11bba␟8193124700707651497:hold Type`,Xc=$localize`:␟0d9d8c65f4eb8454eef76571e180a74888ce83b1␟2105948048369918244:Current Item`,Tc=$localize`:␟115508ef944d0bdb066e511220b8679efd7fb4b2␟6100860029551607069:Call Number`,Dc=$localize`:␟715bafaf8e87183794fe005157ed2bb145be7b59␟5151411856682330373:Pickup Lib`,Pc=$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`,Bc=$localize`:␟0b9bc2a24e6cb58f4905ed146a6913e3c7f348d2␟8592382212406738016:Behind Desk`,Fc=$localize`:␟7409c059b73fcf3bf8b03b6833e74ccc6007a926␟3046011181186139448:Current Shelf Lib`,Lc=$localize`:␟672d3349bf3d03dbdda7f6423352b69caba2db2e␟2487925064224682113:Current Shelving Location`,Hc=$localize`:␟fe54622b6923fe6704da6d87b27380de33a7458f␟7036147726283666985:Force Item Quality`,Vc=$localize`:␟6048dd3c0e683394bd55a56849c60f9057893922␟7614970494537899461:Email Notify`,Nc=$localize`:␟bcbd7112c24b6d8294006bafaf97189a704c5583␟422708261855767062:Phone Notify`,Oc=$localize`:␟8d919349c4d064fe08c1854e5514a3d8f911436f␟5796692848764977764:SMS Notify`,Kc=$localize`:␟bfce023bada0bc99e62776f3fc6c7bb3c74539a4␟1442708485719985415:Cancel Cause`,Ac=$localize`:␟eaf0ee6cfa102f9cafed60f97f114fe76937024a␟3462664307886435255:Cancel Time`,Ec=$localize`:␟448978e03e048a58a89d52c16a8e35bb9cb0248b␟4848280198338869932:Cancel Note`,qc=$localize`:␟89fcda7f67eab708caf518527399964365421440␟6010427314203256268:Patron Name`,Gc=$localize`:␟4d4597ee3c58936bb098905299b6d49240d53ab4␟1191865578113917590:Patron Barcode`,jc=$localize`:␟23e27e681a374d5239d07689a594a7017d491395␟7532816155738758305:Hopeless Date`,Wc=$localize`:␟6542c6c44cf499041c67118c15f946dbe41a3ac3␟153674187856813645:Unknown Error`,Uc=$localize`:␟5b893fb2d9bc1e6303b2c56f199c7a275a44fca2␟4798348841388141858:Waiting for Item`,Zc=$localize`:␟0072a498e3c50ae1db8f65fefb8f8af41f805ed3␟4974361313913325061:Waiting for Capture`,Jc=$localize`:␟414e455ab0a06271a8dd5967810b43c9539258eb␟5740713328031639670:In Transit`,Yc=$localize`:␟48bc244d1e2a2002dc989ab875f16045dfc450c5␟6190547279909686731:Ready for Pickup`,ei=$localize`:␟4b1f03998283e6e3db589bce9ebc250c75692d75␟1466676608987183284:Hold Shelf Delay`,ci=$localize`:␟96d56ec71c6e78cb4d6204c4a9359a3d38fcdb59␟4381944803872489731:Canceled`,ii=$localize`:␟92f3f203270a29b3001871153f02c063484a1574␟5851424994801012357:Suspended`,ai=$localize`:␟ea1a1a2c3c588d1080dde9204d8c03875983214a␟2914449283256379475:Wrong Shelf`,li=$localize`:␟978400f15c37436cbacf2e8d61370c92f25398e4␟2325028062393506896:Fulfilled`;let gi=(()=>{class e{constructor(e,c,i){this.net=e,this.org=c,this.auth=i,this.onShowList=new v.n}set holdId(e){this._holdId=e,this.initDone&&this.fetchHold()}set wideHold(e){this.hold=e}ngOnInit(){this.initDone=!0,this.fetchHold()}fetchHold(){this._holdId&&this.net.request("open-ils.circ","open-ils.circ.hold.wide_hash.stream",this.auth.token(),{id:this._holdId}).subscribe(e=>{this.hold=e})}getOrgName(e){if(e)return this.org.get(e).shortname()}showListView(){this.onShowList.emit()}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(t.b),v.Lb(b.a),v.Lb(d.a))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-hold-detail"]],inputs:{holdId:"holdId",wideHold:"wideHold"},outputs:{onShowList:"onShowList"},decls:116,vars:50,consts:[[6,"bannerText"],[1,"row"],[1,"col-lg-3"],[1,"btn","btn-info",3,"click"],[1,"well-table"],[1,"well-row"],[1,"well-label"],[1,"well-value"],[3,"href"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,c){1&e&&(v.Rb(0,"eg-staff-banner",0),v.Xb(1,Ic),v.Qb(),v.Rb(2,"div",1),v.Rb(3,"div",2),v.Rb(4,"button",3),v.fc("click",(function(){return c.showListView()})),v.Vb(5,wc),v.Qb(),v.Qb(),v.Qb(),v.Rb(6,"div",4),v.Rb(7,"div",5),v.Rb(8,"div",6),v.Vb(9,Cc),v.Qb(),v.Rb(10,"div",7),v.Mc(11),v.ic(12,"formatValue"),v.Qb(),v.Rb(13,"div",6),v.Vb(14,Sc),v.Qb(),v.Rb(15,"div",7),v.Mc(16),v.ic(17,"formatValue"),v.Qb(),v.Rb(18,"div",6),v.Vb(19,Mc),v.Qb(),v.Rb(20,"div",7),v.Mc(21),v.ic(22,"formatValue"),v.Qb(),v.Qb(),v.Rb(23,"div",5),v.Rb(24,"div",6),v.Vb(25,kc),v.Qb(),v.Rb(26,"div",7),v.Mc(27),v.Qb(),v.Rb(28,"div",6),v.Vb(29,Xc),v.Qb(),v.Rb(30,"div",7),v.Rb(31,"a",8),v.Mc(32),v.Qb(),v.Qb(),v.Rb(33,"div",6),v.Vb(34,Tc),v.Qb(),v.Rb(35,"div",7),v.Mc(36),v.Qb(),v.Qb(),v.Rb(37,"div",5),v.Rb(38,"div",6),v.Vb(39,Dc),v.Qb(),v.Rb(40,"div",7),v.Mc(41),v.Qb(),v.Rb(42,"div",6),v.Vb(43,Pc),v.Qb(),v.Rb(44,"div",7),v.Pb(45,9),v.Kc(46,ti,2,0,"div",10),v.Kc(47,bi,2,0,"div",10),v.Kc(48,di,2,0,"div",10),v.Kc(49,oi,2,0,"div",10),v.Kc(50,ni,2,0,"div",10),v.Kc(51,si,2,0,"div",10),v.Kc(52,ri,2,0,"div",10),v.Kc(53,hi,2,0,"div",10),v.Kc(54,fi,2,0,"div",10),v.Kc(55,ui,2,0,"div",10),v.Ob(),v.Qb(),v.Rb(56,"div",6),v.Vb(57,Bc),v.Qb(),v.Rb(58,"div",7),v.Mc(59),v.Qb(),v.Qb(),v.Rb(60,"div",5),v.Rb(61,"div",6),v.Vb(62,Fc),v.Qb(),v.Rb(63,"div",7),v.Mc(64),v.Qb(),v.Rb(65,"div",6),v.Vb(66,Lc),v.Qb(),v.Rb(67,"div",7),v.Mc(68),v.Qb(),v.Rb(69,"div",6),v.Vb(70,Hc),v.Qb(),v.Rb(71,"div",7),v.Mc(72),v.Qb(),v.Qb(),v.Rb(73,"div",5),v.Rb(74,"div",6),v.Vb(75,Vc),v.Qb(),v.Rb(76,"div",7),v.Mc(77),v.Qb(),v.Rb(78,"div",6),v.Vb(79,Nc),v.Qb(),v.Rb(80,"div",7),v.Mc(81),v.Qb(),v.Rb(82,"div",6),v.Vb(83,Oc),v.Qb(),v.Rb(84,"div",7),v.Mc(85),v.Qb(),v.Qb(),v.Rb(86,"div",5),v.Rb(87,"div",6),v.Vb(88,Kc),v.Qb(),v.Rb(89,"div",7),v.Mc(90),v.Qb(),v.Rb(91,"div",6),v.Vb(92,Ac),v.Qb(),v.Rb(93,"div",7),v.Mc(94),v.ic(95,"formatValue"),v.Qb(),v.Rb(96,"div",6),v.Vb(97,Ec),v.Qb(),v.Rb(98,"div",7),v.Mc(99),v.Qb(),v.Qb(),v.Rb(100,"div",5),v.Rb(101,"div",6),v.Vb(102,qc),v.Qb(),v.Rb(103,"div",7),v.Rb(104,"a",8),v.Mc(105),v.Qb(),v.Qb(),v.Rb(106,"div",6),v.Vb(107,Gc),v.Qb(),v.Rb(108,"div",7),v.Rb(109,"a",8),v.Mc(110),v.Qb(),v.Qb(),v.Rb(111,"div",6),v.Vb(112,jc),v.Qb(),v.Rb(113,"div",7),v.Mc(114),v.ic(115,"formatValue"),v.Qb(),v.Qb(),v.Qb()),2&e&&(v.Zb(c.hold.id),v.Wb(1),v.xb(11),v.Nc(v.kc(12,35,c.hold.request_time,"timestamp")),v.xb(5),v.Nc(v.kc(17,38,c.hold.capture_time,"timestamp")),v.xb(5),v.Nc(v.kc(22,41,c.hold.shelf_time,"timestamp")),v.xb(6),v.Oc(" ",c.hold.hold_type," "),v.xb(4),v.qc("href","/eg/staff/cat/item/",c.hold.cp_id,"",v.Ec),v.xb(1),v.Nc(c.hold.cp_barcode),v.xb(4),v.Nc(c.hold.cn_full_label),v.xb(5),v.Nc(c.hold.pl_shortname),v.xb(4),v.oc("ngSwitch",c.hold.hold_status),v.xb(1),v.oc("ngSwitchCase",-1),v.xb(1),v.oc("ngSwitchCase",1),v.xb(1),v.oc("ngSwitchCase",2),v.xb(1),v.oc("ngSwitchCase",3),v.xb(1),v.oc("ngSwitchCase",4),v.xb(1),v.oc("ngSwitchCase",5),v.xb(1),v.oc("ngSwitchCase",6),v.xb(1),v.oc("ngSwitchCase",7),v.xb(1),v.oc("ngSwitchCase",8),v.xb(1),v.oc("ngSwitchCase",9),v.xb(4),v.Nc("1"==c.hold.behind_desk),v.xb(5),v.Nc(c.getOrgName(c.hold.current_shelf_lib)),v.xb(4),v.Nc(c.hold.acpl_name),v.xb(4),v.Nc("1"==c.hold.mint_condition),v.xb(5),v.Nc("1"==c.hold.email_notify),v.xb(4),v.Nc(c.hold.phone_notify),v.xb(4),v.Nc(c.hold.sms_notify),v.xb(5),v.Nc(c.hold.cancel_cause),v.xb(4),v.Nc(v.kc(95,44,c.hold.cancel_time,"timestamp")),v.xb(5),v.Nc(c.hold.cancel_note),v.xb(5),v.qc("href","/eg/staff/circ/patron/",c.hold.usr_id,"/checkout",v.Ec),v.xb(1),v.Oc(" ",c.hold.usr_display_name," "),v.xb(4),v.qc("href","/eg/staff/circ/patron/",c.hold.usr_id,"/checkout",v.Ec),v.xb(1),v.Oc(" ",c.hold.ucard_barcode," "),v.xb(4),v.Nc(v.kc(115,47,c.hold.hopeless_date,"timestamp")))},directives:[zc.a,_.z,_.A],pipes:[$c.b],encapsulation:2}),e})();var pi=i("QGNW"),mi=i("t7hH"),Ri=i("gtj8"),vi=i("tyNb"),Qi=function(e,c,i,a){return new(i||(i=Promise))((function(l,t){function b(e){try{o(a.next(e))}catch(c){t(c)}}function d(e){try{o(a.throw(e))}catch(c){t(c)}}function o(e){var c;e.done?l(e.value):(c=e.value,c instanceof i?c:new i((function(e){e(c)}))).then(b,d)}o((a=a.apply(e,c||[])).next())}))};const _i=["holdsGrid"],xi=["progressDialog"],yi=["transferDialog"],zi=["markDamagedDialog"],$i=["markMissingDialog"],Ii=["retargetDialog"],wi=["cancelDialog"],Ci=["manageDialog"];var Si,Mi,ki,Xi,Ti,Di,Pi,Bi,Fi,Li;function Hi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Si),v.Qb())}function Vi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Mi),v.Qb())}function Ni(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,ki),v.Qb())}function Oi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Xi),v.Qb())}function Ki(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Ti),v.Qb())}function Ai(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Di),v.Qb())}function Ei(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Pi),v.Qb())}function qi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Bi),v.Qb())}function Gi(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Fi),v.Qb())}function ji(e,c){1&e&&(v.Rb(0,"div"),v.Vb(1,Li),v.Qb())}function Wi(e,c){1&e&&(v.Pb(0,10),v.Kc(1,Hi,2,0,"div",11),v.Kc(2,Vi,2,0,"div",11),v.Kc(3,Ni,2,0,"div",11),v.Kc(4,Oi,2,0,"div",11),v.Kc(5,Ki,2,0,"div",11),v.Kc(6,Ai,2,0,"div",11),v.Kc(7,Ei,2,0,"div",11),v.Kc(8,qi,2,0,"div",11),v.Kc(9,Gi,2,0,"div",11),v.Kc(10,ji,2,0,"div",11),v.Ob()),2&e&&(v.oc("ngSwitch",c.row.hold_status),v.xb(1),v.oc("ngSwitchCase",-1),v.xb(1),v.oc("ngSwitchCase",1),v.xb(1),v.oc("ngSwitchCase",2),v.xb(1),v.oc("ngSwitchCase",3),v.xb(1),v.oc("ngSwitchCase",4),v.xb(1),v.oc("ngSwitchCase",5),v.xb(1),v.oc("ngSwitchCase",6),v.xb(1),v.oc("ngSwitchCase",7),v.xb(1),v.oc("ngSwitchCase",8),v.xb(1),v.oc("ngSwitchCase",9))}function Ui(e,c){if(1&e){const e=v.Sb();v.Pb(0),v.Rb(1,"eg-hold-detail",12),v.fc("onShowList",(function(){return v.Bc(e),v.hc().mode="list"})),v.Qb(),v.Ob()}if(2&e){const e=v.hc();v.xb(1),v.oc("wideHold",e.detailHold)}}Si=$localize`:␟6542c6c44cf499041c67118c15f946dbe41a3ac3␟153674187856813645:Unknown Error`,Mi=$localize`:␟5b893fb2d9bc1e6303b2c56f199c7a275a44fca2␟4798348841388141858:Waiting for Item`,ki=$localize`:␟0072a498e3c50ae1db8f65fefb8f8af41f805ed3␟4974361313913325061:Waiting for Capture`,Xi=$localize`:␟414e455ab0a06271a8dd5967810b43c9539258eb␟5740713328031639670:In Transit`,Ti=$localize`:␟48bc244d1e2a2002dc989ab875f16045dfc450c5␟6190547279909686731:Ready for Pickup`,Di=$localize`:␟4b1f03998283e6e3db589bce9ebc250c75692d75␟1466676608987183284:Hold Shelf Delay`,Pi=$localize`:␟96d56ec71c6e78cb4d6204c4a9359a3d38fcdb59␟4381944803872489731:Canceled`,Bi=$localize`:␟92f3f203270a29b3001871153f02c063484a1574␟5851424994801012357:Suspended`,Fi=$localize`:␟ea1a1a2c3c588d1080dde9204d8c03875983214a␟2914449283256379475:Wrong Shelf`,Li=$localize`:␟978400f15c37436cbacf2e8d61370c92f25398e4␟2325028062393506896:Fulfilled`;const Zi=["label",$localize`:␟c624e987b11c441797e77bd700e236b7cc8521b8␟1749152557012436087:Show Hold Details`,"group",$localize`:␟4c6608edb9124da4bd113bef005e7892355e3032␟589343800587215810:Hold`],Ji=["label",$localize`:␟4182f67deabd80ff64e461e532845a8aa317952a␟7313211128563024363:Modify Hold(s)`,"group",$localize`:␟4c6608edb9124da4bd113bef005e7892355e3032␟589343800587215810:Hold`],Yi=["label",$localize`:␟0c20c31bbdb65aa20ccbcc0106b5187b56cb4c46␟2795588824872471804:Show Last Few Circulations`,"group",$localize`:␟9bca420227979312de74f0a932a003437410b1ab␟8075168556531069883:Item`],ea=["label",$localize`:␟b792967e4831772e0caa61b1065cc17e5c7f29a0␟8704460760200285591:Retrieve Patron`,"group",$localize`:␟d0412597c5d60cbdd32e84529e973ba9d6573063␟6562250546582244415:Patron`],ca=["group",$localize`:␟4c6608edb9124da4bd113bef005e7892355e3032␟589343800587215810:Hold`,"label",$localize`:␟e9b03a6ba9cc2013baac15a33084811cca8dda5f␟8488292119237625472:Transfer To Marked Title`],ia=["group",$localize`:␟9bca420227979312de74f0a932a003437410b1ab␟8075168556531069883:Item`,"label",$localize`:␟f5f12a4e25ce9e9a43b92bd508b3c47abdecc1a1␟2673254818468878353:Mark Item Damaged`],aa=["group",$localize`:␟9bca420227979312de74f0a932a003437410b1ab␟8075168556531069883:Item`,"label",$localize`:␟6461cdc419feca98e82e8443773f921adf49e5f7␟5007030082081715697:Mark Item Missing`],la=["group",$localize`:␟4c6608edb9124da4bd113bef005e7892355e3032␟589343800587215810:Hold`,"label",$localize`:␟285789c465a7fbecc4c8b52db79605924933688a␟3656061005868944770:Find Another Target`],ta=["label",$localize`:␟f8ead0a36b353b4f5c76026fa243facaae837fec␟9205210417117933018:Cancel Hold`],ba=["label",$localize`:␟e03539e6c98ea82d30a5317883df86b4b7b9b1e2␟2837814024778396963:Print Holds`],da=["label",$localize`:␟70491007d0c8d96af68425ad6616a43828def275␟4145296112424291008:Hold ID`],oa=["label",$localize`:␟0d9d8c65f4eb8454eef76571e180a74888ce83b1␟2105948048369918244:Current Item`],na=["label",$localize`:␟4d4597ee3c58936bb098905299b6d49240d53ab4␟1191865578113917590:Patron Barcode`],sa=["label",$localize`:␟f7a7177a45b2043725efb94cc8b4b8e06cc7e7fb␟3706978543620092484:Patron alias`],ra=["label",$localize`:␟b93ce45a1d7998470f7a2b35c059aa6f61c0edb5␟4926083753933394202:Request Date`],ha=["label",$localize`:␟ae1fe9f8dc7f3c7038598644243fd641e9a9893a␟1826468428193309350:Capture Date`],fa=["label",$localize`:␟619701e2ef8f33afd0a83d48f8a6c9a8c9484ce9␟8296622428370822141:Available Date`],ua=["label",$localize`:␟1b3912a63a72d09b3f6ba938e148a0b01e07a1ca␟1744456884157854920:Hold Type`],ga=["label",$localize`:␟65a8a675a471a13f7603f6aeb18508c66e5e2010␟2872561745779576101:Pickup Library`],pa=["label",$localize`:␟fdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e␟5701618810648052610:Title`],ma=["label",$localize`:␟d7293b61e9088c66421df2e367e0ccc00346cf9f␟7071470734400948493:Author`],Ra=["label",$localize`:␟eab0e582331c8ba0d330a0d0d0ddfa0a89c01117␟8126834983869274020:Potential Items`],va=["label",$localize`:␟81b97b8ea996ad1e4f9fca8415021850214884b1␟5611592591303869712:Status`],Qa=["label",$localize`:␟363f314460723ad26effe02d5f407b5ebde8e7f4␟8750569257147678685:Queue Position`],_a=["label",$localize`:␟83c4d4d764d2e2725ab8e919ec16ac400e1f290a␟2128755808672960949:User ID`],xa=["label",$localize`:␟08c74dc9762957593b91f6eb5d65efdfc975bf48␟5248717555542428023:Username`],ya=["label",$localize`:␟c83b838d845690bcb897f775f53b5316535306dc␟6028371114637047813:First Name`],za=["label",$localize`:␟166b2cc65003221ff5f3ec05d5baca41e6821396␟4407559560004943843:Last Name`],$a=["label",$localize`:␟a53f7d505c17f0a622d8e568a8e1a176cc42f98a␟7324901898118271825:Requestor ID`],Ia=["label",$localize`:␟85af792837a442995183aca0edd61c6dfc1d23d1␟3925505332626461442:Requestor Username`],wa=["label",$localize`:␟06056db1c8d4fa9ca80746f967a6223f964a8f9e␟3108971652395278417:Item Status`],Ca=["label",$localize`:␟83f66ab6b9d191d47a7e471c92f11f0a59dbe117␟4152409811587413536:CN Prefix`],Sa=["label",$localize`:␟487bfca04d3adc2ec969c764da87564103fce076␟3229404104503571320:CN Suffix`],Ma=["label",$localize`:␟0a34566e976a6eb968b266bb0292e78c3ea29f70␟873660456070153614:Fulfillment Date/Time`],ka=["label",$localize`:␟4178ca0c1db56c391401297c263dfbc1c2f77fb6␟131528614579290808:Checkin Time`],Xa=["label",$localize`:␟cc2df2dab4672760c645ceb3439b20ba56f5d7ad␟4305440954640725227:Return Time`],Ta=["label",$localize`:␟e9ee1ac159389f743a7d89b16e6d33917324b7c1␟3313647879041482936:Last Targeting Date/Time`],Da=["label",$localize`:␟dbc8a94f865cf7ee04c458257a3c6150441cd61c␟4660198301272888238:Expire Time`],Pa=["label",$localize`:␟e9a3106d109e2924fcff4cfceb81a314e2c38943␟8064808365838783184:Hold Cancel Date/Time`],Ba=["label",$localize`:␟b054ed21c079bd66c078a95cb9d1590f5345496d␟9060004845605683891:Cancelation note`],Fa=["label",$localize`:␟06e1eb1942da05db18ad2bdba6493bb4296759e4␟5486497222166539553:Hold Target`],La=["label",$localize`:␟0d9d8c65f4eb8454eef76571e180a74888ce83b1␟2105948048369918244:Current Item`],Ha=["label",$localize`:␟637bb97700afc94d31859523c465009ce418e0e7␟2287061834446859282:Fulfilling Staff`],Va=["label",$localize`:␟63a9aa54a0bc3d170e9019f4694f76268501f77b␟2740970998764771822:Fulfilling Library`],Na=["label",$localize`:␟4081c847e3fa3efd4877e5e65f0c93046ab47466␟8451113944219725121:Requesting Library`],Oa=["label",$localize`:␟4c7a9f9616a1e4b5e41c368e58ff61e261d476f2␟7744459407814928851:Requesting User`],Ka=["label",$localize`:␟e08a77594f3d89311cdf6da5090044270909c194␟2392488717875840729:User`],Aa=["label",$localize`:␟d8d557a0d8f95d944a1f548827bf3f2a63748b82␟4299689482725511110:Selection Library`],Ea=["label",$localize`:␟fc30fd620434c0df5fe4305ee9395fdde5b9b057␟6910416324335882971:Item Selection Depth`],qa=["label",$localize`:␟7c8223f38d68e2a4ed9d81e857a5d2d9f1a998e0␟2075560339644403121:Holdable Formats (for M-type hold)`],Ga=["label",$localize`:␟27cba58c051296e2865218702e5b10425cd03a36␟1367582350507204252:Notifications Phone Number`],ja=["label",$localize`:␟9bd40d9b5d1e5e4ed410b4adf496a61815702cea␟3908036079664382842:Notifications SMS Number`],Wa=["label",$localize`:␟8dbd398b0edcebec897797459bc5a8ad94f640a6␟5509999488177114883:Notify by Email?`],Ua=["label",$localize`:␟d7e077515491b0f5a3b71070e2db8755183030f5␟2796988493219471622:SMS Carrier`],Za=["label",$localize`:␟d81e078b1252b90717c418f5b3088615bf917578␟6875379754359805144:Currently Frozen`],Ja=["label",$localize`:␟473b17a918e7a34632e87cd5d9146a0735bf6c32␟3896558543773467433:Activation Date`],Ya=["label",$localize`:␟45e76112f76aa8ddb11fb7b156a23b275ad1e2cd␟7805702852572324652:Top of Queue`],el=["label",$localize`:␟61d3d2b9199b50998616074f7f2ee1fdf906dee6␟2653001452772505134:Is Mint Condition`],cl=["label",$localize`:␟68a66482cde8d8a750b2d309815f76f6759954a6␟8648296844726381719:Shelf Expire Time`],il=["label",$localize`:␟d8154101b8c2a10597749b27480e49f545b0cc11␟8788197319436140043:Current Shelf Library`],al=["label",$localize`:␟0b9bc2a24e6cb58f4905ed146a6913e3c7f348d2␟8592382212406738016:Behind Desk`],ll=["label",$localize`:␟23e27e681a374d5239d07689a594a7017d491395␟7532816155738758305:Hopeless Date`],tl=["label",$localize`:␟3305dc72492d8d88a3895d4fedb7564e77f42c4e␟7278893052790915982:Clearable`],bl=["label",$localize`:␟2cc0716668e6adfa211ef7807d0dcd345d795b57␟8702906201474019891:Is Staff-placed Hold`],dl=["label",$localize`:␟d39f375611844b6b8394fce3c89a8de60a0713e0␟1488400337275765891:Cancelation Cause ID`],ol=["label",$localize`:␟15dcb873925e11eafdc043287491fd6e5e18f6a3␟8648962896415665328:Cancelation Cause`],nl=["label",$localize`:␟65a8a675a471a13f7603f6aeb18508c66e5e2010␟2872561745779576101:Pickup Library`],sl=["label",$localize`:␟2503947760599c9f41e059e8ed8f19932e31aa79␟8539179055926631778:Pickup Library Name`],rl=["label",$localize`:␟d7a1c063993018bf71e354dd5b59ac6cc6a99867␟1694808904100601343:Pickup Library Email`],hl=["label",$localize`:␟810c6cb6f76f91741fd4288e89ef5fd176abdee2␟6591315945412970935:Pickup Library Phone`],fl=["label",$localize`:␟2f95552ef04e527c75c39bf8f2b626490960ff1a␟8016157102844172977:Pickup Library Opac Visible`],ul=["label",$localize`:␟b0123508a408d54b407ce7ae9e2efa4fc8053f56␟942278124313211765:Transit ID`],gl=["label",$localize`:␟c91a93c74ad138d996a95338a986aadfd6ee2ef7␟1944697003047745780:Transit Send Time`],pl=["label",$localize`:␟f11a9e27a72330ba9f6e2ba5c0e1ecb21940f772␟8734680156369952901:Transit Receive Time`],ml=["label",$localize`:␟af19846da440f786d72183f2a29b3f0b130444cb␟549038738599175898:Transit Item`],Rl=["label",$localize`:␟448a6882ba0c6c20fdd6407a5f069732b1b98815␟1975957427599265216:Transit Source`],vl=["label",$localize`:␟e8ca90591ed8bea2b579b8daedf36d9ad729c2d3␟9111728372746032528:Transit Destination`],Ql=["label",$localize`:␟cc0f6d9a13e44d5cf4c9be0054c473140c5964d1␟4355883009240307336:Transit Item Status`],_l=["label",$localize`:␟e0f7d07b14382ae1d7c324ff1f33530e0a266284␟6441737629997709827:Transit Hold`],xl=["label",$localize`:␟45ba17eb425bd53296efafb04ccece53113f3e46␟4082506698455097081:Transit Cancel Time`],yl=["label",$localize`:␟31324cf0f9e81659be3fc8552f446f90c7c72f8e␟1478170963296069549:Hold Note Count`],zl=["label",$localize`:␟a3a4356cde275ee3d2c4d444ede9e7a9e382f71c␟6046973772676650262:User Display Name`],$l=["label",$localize`:␟85af792837a442995183aca0edd61c6dfc1d23d1␟3925505332626461442:Requestor Username`],Il=["label",$localize`:␟27e0b1e650bef276e8c29dd8d547e3fc8c4f833f␟194067946846246769:Item ID`],wl=["label",$localize`:␟f676de635178c0bb0177296bbf5bc281e36312e0␟4292991530981134461:Item Number on Call Number`],Cl=["label",$localize`:␟bc914ec1f95f190781f78e61422226a0b187e2f2␟620177348447277557:Fine Level`],Sl=["label",$localize`:␟a7bd82c9f97244ba9b290d0e9f4251910a1cdf89␟8471035650429410802:Can Circulate`],Ml=["label",$localize`:␟069e1b1ff0629ad1b348c60048ea4ad50b7c8fb6␟4481344588466827844:Deposit Amount`],kl=["label",$localize`:␟646307ddae421b84cb7eeeefb00624571a1f2391␟6855389939211710425:Is Deposit Required`],Xl=["label",$localize`:␟ea8d158828749910b4784cb4d047afb84a3ba587␟7662855149238519889:Is Reference`],Tl=["label",$localize`:␟51df136cc12ba214f392c4381da4a20ad009e1ca␟3123984422601315419:Is Holdable`],Dl=["label",$localize`:␟4d6ee53858628de558a18623894a03c8673bce9e␟8894377483833272091:Price`],Pl=["label",$localize`:␟1e12554886683414162ae15ea0338d3391ebfb42␟865668397856791272:Item Barcode`],Bl=["label",$localize`:␟172a27bb1b7db1ef4a56779c6dcdc20a602a16e7␟3860933437516464957:Circulation Modifier`],Fl=["label",$localize`:␟2f5b0c5c6963e50cf7f2f83c6e828c2395960460␟5138484498947782905:Circulate as MARC Type`],Ll=["label",$localize`:␟72d5ea0b3f3fd28ff235f1c57d5a6a3fecd32e9d␟1462523458910765309:Precat Dummy Title`],Hl=["label",$localize`:␟fe9bf4382014c1873b504f5b5d5bbdbd6024ccae␟6005135173758424396:Precat Dummy Author`],Vl=["label",$localize`:␟4446e742c21c27071414e8192b4e76913e39187c␟2464007889803244185:Item Alert Message (deprecated)`],Nl=["label",$localize`:␟47f1fe728dd4c6c2e165b48d574d7673118ffc6c␟8207147248145737579:Item OPAC Visible`],Ol=["label",$localize`:␟e51bf23dc492abaa8b35e118102dd5bd6a487c7f␟2344305438591080261:Item Deleted`],Kl=["label",$localize`:␟e949fa6981858c6af26e9d6c27eaad18fb6e458c␟1599175256860523865:Floating Group`],Al=["label",$localize`:␟f46a6b0ae94a538166ddb207f8f051883846f7fc␟5000572383252163063:Precat Dummy ISBN`],El=["label",$localize`:␟3f8f39e52e49c6146d9a727e0e346d35f57e245b␟6631322941650601688:Item Status Change Time`],ql=["label",$localize`:␟8e84864b9b5c0eee72649322229ea47e5aeed3ea␟190267929771368890:Item Active Date`],Gl=["label",$localize`:␟5fda77fd7615f936684ae4a73e1a564df4f8e4fa␟7505198472760234753:Item Is Mint Condition`],jl=["label",$localize`:␟1a50eb9129c942ca56bf38f9e7d45d06606a384c␟2578732368187466916:Cost`],Wl=["label",$localize`:␟b3be6cb2fc02522b39bc03d7c0ab130107c815e8␟1654590968957908222:Status Is Holdable`],Ul=["label",$localize`:␟1b1ac653a622b3ac897556a038b208f13ede9b41␟327877591865566241:Status Is OPAC Visible`],Zl=["label",$localize`:␟df7942b3b66de419d4fb1e93da8f77b1d14d066f␟6390846851971922880:Status Is Item-Active`],Jl=["label",$localize`:␟fb3eca0dabe056311c6822e52f32186721646f82␟1135231675731391183:Status Is Deleted`],Yl=["label",$localize`:␟f1451b5986027d6e5b1065b4e3e5dc9837f6073b␟9210267296323241154:Status Is Available`],et=["label",$localize`:␟61b2dfabb394af152404bd1036c2ddafd8d442b5␟4704628981876047845:Issuance label`],ct=["label",$localize`:␟12c2d7f29f1598afa8c3d52a5baf5042e3e1041a␟1407332882545400518:Call Number ID`],it=["label",$localize`:␟2416dd66328cadee3cb51384140b15006bc975ff␟4748277851127480569:CN label`],at=["label",$localize`:␟03cc0777438bde12e632fe3631dabcb1843c2ded␟4591151408294802183:CN label Class`],lt=["label",$localize`:␟fc265459b7c6cbe05f8b7726b1c55fc7cb123119␟1864102786594277120:CN Sort Key`],tt=["label",$localize`:␟e6c4633cfcb44e4459c905b26e2291dfb03f21fb␟2099781163954082933:Part ID`],bt=["label",$localize`:␟7a6d7010c4f51fa5c464e373241c03e89acf36b6␟7343370343478083891:Part label`],dt=["label",$localize`:␟0daedbdea6982ca4aa670512424c4d373a638f75␟5751771004114514872:Part Sort Key`],ot=["label",$localize`:␟7e8a66a1580336ad91d7fddd0f00f9c8590e2f7f␟868330527776167869:Part Is Deleted`],nt=["label",$localize`:␟df67e8ab798be7abd5c14eaf2831c0d24fed5b48␟5949340167693851954:CN Full label`],st=["label",$localize`:␟9d32401749378ad8eda12a3c49cfbbb70bb0dae4␟2486844773394769749:Record ID`],rt=["label",$localize`:␟211bbda654a0c3e79e229ee414d65c9f81b852f7␟585797405165091565:Item Location ID`],ht=["label",$localize`:␟038aefdc7935feb86c6bbc4fc4d899225e696cb5␟6605460653727166768:Item Location`],ft=["label",$localize`:␟2726c193c9cc401f2dab0e300a69e66d4f99474e␟5779225019421946215:Item Location Holdable`],ut=["label",$localize`:␟4192f48c0af24118aa1d5650c1cd758a8f37babe␟725277567339914264:Item Location Hold-Verify`],gt=["label",$localize`:␟1180fa92cde9b9845770325c0c0455d0b8d52500␟5141802800839950006:Item Location OPAC Visible`],pt=["label",$localize`:␟0cc493481326d38d8659cc8e7addc2e868b7174b␟1630555544218775156:Item Location Can Circulate`],mt=["label",$localize`:␟efe0382629593ae5f4901848fd7ecf46c5fae9a4␟1109166451696693923:Item Location Prefix`],Rt=["label",$localize`:␟51260f41b0d1b7a5f2e427942e9ae55456b4a0c5␟1889856292183488054:Item Location Suffix`],vt=["label",$localize`:␟fb6cdd014f2973b6c8e8512a435e10dbb70d535c␟1210254831829862558:Item Location Checkin Alert`],Qt=["label",$localize`:␟8acf33656e694d80128ca725f996970ab1b1a2b3␟3027987649138060199:Item Location Is Deleted`],_t=["label",$localize`:␟72bbd1f67793a0f00abf7fd12dd360d0a039ce0a␟1442538241765593808:Item Location URL`],xt=["label",$localize`:␟ad4df1b3278dadd0102197303bfb177aa86f47ef␟7506442574530302483:Item Location Order`],yt=["label",$localize`:␟54434c037edbe4a0e2295256a5904eee2ddc6160␟3185635250613763332:Default Estimated Wait Time`],zt=["label",$localize`:␟127d35458878a97c1e32ea173b348cbf3bc6a94d␟6983996348864984603:Minimum Estimated Wait Time`],$t=["label",$localize`:␟ebc7bdfeb110fd163cb9b1c8a566a71d82fd8755␟988025967847567777:Peer Hold Count`],It=["label",$localize`:␟dd8d3087e835597738e80d66f927b756c816b426␟2648075639987717523:Total Wait Time`],wt=["label",$localize`:␟d722dd630f9a39f0cb52c3860ec5432d7d519eb5␟3220395356216966788:Notify Count`],Ct=["label",$localize`:␟3049635cee45e9c69c524fd438afe00c312f5724␟8903457951449994928:Last Notify Time`];var St;function Mt(e,c){if(1&e){const e=v.Sb();v.Rb(0,"div",154),v.Rb(1,"div",155),v.Rb(2,"div",156),v.Rb(3,"div",157),v.Rb(4,"div",158),v.Vb(5,St),v.Qb(),v.Qb(),v.Rb(6,"eg-org-select",159),v.fc("componentLoaded",(function(){return v.Bc(e),v.hc(2).plCompLoaded=!0}))("onChange",(function(c){return v.Bc(e),v.hc(2).pickupLibChanged(c)})),v.Qb(),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.hc(2);v.xb(6),v.oc("persistKey",e.persistKey)("fallbackOrg",e.pickupLib)}}St=$localize`:␟65a8a675a471a13f7603f6aeb18508c66e5e2010␟2872561745779576101:Pickup Library`;const kt=["label",$localize`:␟c27776eccbc6f84ec6973f9e70e89860b69b9868␟3130179610123544552:Pre-Fetch All Holds`];function Xt(e,c){if(1&e){const e=v.Sb();v.Rb(0,"eg-grid-toolbar-checkbox",160),v.Xb(1,kt),v.fc("onChange",(function(c){return v.Bc(e),v.hc(2).preFetchHolds(c)})),v.Qb()}if(2&e){const e=v.hc(2);v.oc("initialValue",e.enablePreFetch)}}const Tt=["label",$localize`:␟335e07687800c2c41b4659f289456f838d256b8c␟1308717189020799030:View/Place Orders`];function Dt(e,c){if(1&e){const e=v.Sb();v.Rb(0,"eg-grid-toolbar-action",161),v.Xb(1,Tt),v.fc("onClick",(function(c){return v.Bc(e),v.hc(2).showOrder(c)})),v.Qb()}if(2&e){const e=v.hc(2);v.oc("disableOnRows",e.metaRecordHoldsSelected)}}const Pt=["label",$localize`:␟55b76db178b5276314061bb949859700e2955504␟9073072636536412767:Add Holdings`];function Bt(e,c){if(1&e){const e=v.Sb();v.Rb(0,"eg-grid-toolbar-action",161),v.Xb(1,Pt),v.fc("onClick",(function(c){return v.Bc(e),v.hc(2).addVolume(c)})),v.Qb()}if(2&e){const e=v.hc(2);v.oc("disableOnRows",e.metaRecordHoldsSelected)}}const Ft=["label",$localize`:␟b4529b8d47f458742d65abe1164091fff064471d␟873751854699583065:Show in Catalog`];function Lt(e,c){if(1&e){const e=v.Sb();v.Rb(0,"eg-grid-toolbar-action",162),v.Xb(1,Ft),v.fc("onClick",(function(c){return v.Bc(e),v.hc(2).showTitle(c)})),v.Qb()}}function Ht(e,c){if(1&e&&(v.Rb(0,"a",163),v.Mc(1),v.Qb()),2&e){const e=c.row;v.qc("href","/eg/staff/cat/item/",e.cp_id,"/summary",v.Ec),v.xb(1),v.Oc(" ",e.cp_barcode," ")}}function Vt(e,c){if(1&e&&(v.Rb(0,"a",163),v.Mc(1),v.Qb()),2&e){const e=c.row;v.qc("href","/eg/staff/circ/patron/",e.usr_id,"/checkout",v.Ec),v.xb(1),v.Oc(" ",e.ucard_barcode," ")}}function Nt(e,c){if(1&e&&(v.Rb(0,"a",164),v.Mc(1),v.Qb()),2&e){const e=c.row;v.qc("routerLink","/staff/catalog/record/",e.record_id,""),v.xb(1),v.Oc(" ",e.title," ")}}function Ot(e,c){if(1&e){const e=v.Sb();v.Pb(0),v.Kc(1,Mt,7,2,"div",13),v.Rb(2,"eg-grid",14,15),v.fc("onRowActivate",(function(c){return v.Bc(e),v.hc().showDetail(c)})),v.Kc(4,Xt,2,1,"eg-grid-toolbar-checkbox",16),v.Rb(5,"eg-grid-toolbar-action",17),v.Xb(6,Zi),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showDetails(c)})),v.Qb(),v.Rb(7,"eg-grid-toolbar-action",17),v.Xb(8,Ji),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showManageDialog(c)})),v.Qb(),v.Rb(9,"eg-grid-toolbar-action",17),v.Xb(10,Yi),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showRecentCircs(c)})),v.Qb(),v.Rb(11,"eg-grid-toolbar-action",17),v.Xb(12,ea),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showPatron(c)})),v.Qb(),v.Rb(13,"eg-grid-toolbar-action",18),v.Xb(14,ca),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showTransferDialog(c)})),v.Qb(),v.Rb(15,"eg-grid-toolbar-action",19),v.Xb(16,ia),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showMarkDamagedDialog(c)})),v.Qb(),v.Rb(17,"eg-grid-toolbar-action",19),v.Xb(18,aa),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showMarkMissingDialog(c)})),v.Qb(),v.Rb(19,"eg-grid-toolbar-action",19),v.Xb(20,la),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showRetargetDialog(c)})),v.Qb(),v.Rb(21,"eg-grid-toolbar-action",20),v.Xb(22,ta),v.fc("onClick",(function(c){return v.Bc(e),v.hc().showCancelDialog(c)})),v.Qb(),v.Rb(23,"eg-grid-toolbar-action",20),v.Xb(24,ba),v.fc("onClick",(function(){return v.Bc(e),v.hc().printHolds()})),v.Qb(),v.Kc(25,Dt,2,1,"eg-grid-toolbar-action",21),v.Kc(26,Bt,2,1,"eg-grid-toolbar-action",21),v.Kc(27,Lt,2,0,"eg-grid-toolbar-action",22),v.Rb(28,"eg-grid-column",23),v.Xb(29,da),v.Qb(),v.Kc(30,Ht,2,2,"ng-template",null,24,v.Lc),v.Rb(32,"eg-grid-column",25),v.Xb(33,oa),v.Qb(),v.Kc(34,Vt,2,2,"ng-template",null,26,v.Lc),v.Rb(36,"eg-grid-column",27),v.Xb(37,na),v.Qb(),v.Rb(38,"eg-grid-column",28),v.Xb(39,sa),v.Qb(),v.Rb(40,"eg-grid-column",29),v.Xb(41,ra),v.Qb(),v.Rb(42,"eg-grid-column",30),v.Xb(43,ha),v.Qb(),v.Rb(44,"eg-grid-column",31),v.Xb(45,fa),v.Qb(),v.Rb(46,"eg-grid-column",32),v.Xb(47,ua),v.Qb(),v.Rb(48,"eg-grid-column",33),v.Xb(49,ga),v.Qb(),v.Kc(50,Nt,2,2,"ng-template",null,34,v.Lc),v.Rb(52,"eg-grid-column",35),v.Xb(53,pa),v.Qb(),v.Rb(54,"eg-grid-column",36),v.Xb(55,ma),v.Qb(),v.Rb(56,"eg-grid-column",37),v.Xb(57,Ra),v.Qb(),v.Rb(58,"eg-grid-column",38),v.Xb(59,va),v.Qb(),v.Rb(60,"eg-grid-column",39),v.Xb(61,Qa),v.Qb(),v.Rb(62,"eg-grid-column",40),v.Xb(63,_a),v.Qb(),v.Rb(64,"eg-grid-column",41),v.Xb(65,xa),v.Qb(),v.Rb(66,"eg-grid-column",42),v.Xb(67,ya),v.Qb(),v.Rb(68,"eg-grid-column",43),v.Xb(69,za),v.Qb(),v.Rb(70,"eg-grid-column",44),v.Xb(71,$a),v.Qb(),v.Rb(72,"eg-grid-column",45),v.Xb(73,Ia),v.Qb(),v.Rb(74,"eg-grid-column",46),v.Xb(75,wa),v.Qb(),v.Rb(76,"eg-grid-column",47),v.Xb(77,Ca),v.Qb(),v.Rb(78,"eg-grid-column",48),v.Xb(79,Sa),v.Qb(),v.Rb(80,"eg-grid-column",49),v.Xb(81,Ma),v.Qb(),v.Rb(82,"eg-grid-column",50),v.Xb(83,ka),v.Qb(),v.Rb(84,"eg-grid-column",51),v.Xb(85,Xa),v.Qb(),v.Rb(86,"eg-grid-column",52),v.Xb(87,Ta),v.Qb(),v.Rb(88,"eg-grid-column",53),v.Xb(89,Da),v.Qb(),v.Rb(90,"eg-grid-column",54),v.Xb(91,Pa),v.Qb(),v.Rb(92,"eg-grid-column",55),v.Xb(93,Ba),v.Qb(),v.Rb(94,"eg-grid-column",56),v.Xb(95,Fa),v.Qb(),v.Rb(96,"eg-grid-column",57),v.Xb(97,La),v.Qb(),v.Rb(98,"eg-grid-column",58),v.Xb(99,Ha),v.Qb(),v.Rb(100,"eg-grid-column",59),v.Xb(101,Va),v.Qb(),v.Rb(102,"eg-grid-column",60),v.Xb(103,Na),v.Qb(),v.Rb(104,"eg-grid-column",61),v.Xb(105,Oa),v.Qb(),v.Rb(106,"eg-grid-column",62),v.Xb(107,Ka),v.Qb(),v.Rb(108,"eg-grid-column",63),v.Xb(109,Aa),v.Qb(),v.Rb(110,"eg-grid-column",64),v.Xb(111,Ea),v.Qb(),v.Rb(112,"eg-grid-column",65),v.Xb(113,qa),v.Qb(),v.Rb(114,"eg-grid-column",66),v.Xb(115,Ga),v.Qb(),v.Rb(116,"eg-grid-column",67),v.Xb(117,ja),v.Qb(),v.Rb(118,"eg-grid-column",68),v.Xb(119,Wa),v.Qb(),v.Rb(120,"eg-grid-column",69),v.Xb(121,Ua),v.Qb(),v.Rb(122,"eg-grid-column",70),v.Xb(123,Za),v.Qb(),v.Rb(124,"eg-grid-column",71),v.Xb(125,Ja),v.Qb(),v.Rb(126,"eg-grid-column",72),v.Xb(127,Ya),v.Qb(),v.Rb(128,"eg-grid-column",73),v.Xb(129,el),v.Qb(),v.Rb(130,"eg-grid-column",74),v.Xb(131,cl),v.Qb(),v.Rb(132,"eg-grid-column",75),v.Xb(133,il),v.Qb(),v.Rb(134,"eg-grid-column",76),v.Xb(135,al),v.Qb(),v.Rb(136,"eg-grid-column",77),v.Xb(137,ll),v.Qb(),v.Rb(138,"eg-grid-column",78),v.Xb(139,tl),v.Qb(),v.Rb(140,"eg-grid-column",79),v.Xb(141,bl),v.Qb(),v.Rb(142,"eg-grid-column",80),v.Xb(143,dl),v.Qb(),v.Rb(144,"eg-grid-column",81),v.Xb(145,ol),v.Qb(),v.Rb(146,"eg-grid-column",33),v.Xb(147,nl),v.Qb(),v.Rb(148,"eg-grid-column",82),v.Xb(149,sl),v.Qb(),v.Rb(150,"eg-grid-column",83),v.Xb(151,rl),v.Qb(),v.Rb(152,"eg-grid-column",84),v.Xb(153,hl),v.Qb(),v.Rb(154,"eg-grid-column",85),v.Xb(155,fl),v.Qb(),v.Rb(156,"eg-grid-column",86),v.Xb(157,ul),v.Qb(),v.Rb(158,"eg-grid-column",87),v.Xb(159,gl),v.Qb(),v.Rb(160,"eg-grid-column",88),v.Xb(161,pl),v.Qb(),v.Rb(162,"eg-grid-column",89),v.Xb(163,ml),v.Qb(),v.Rb(164,"eg-grid-column",90),v.Xb(165,Rl),v.Qb(),v.Rb(166,"eg-grid-column",91),v.Xb(167,vl),v.Qb(),v.Rb(168,"eg-grid-column",92),v.Xb(169,Ql),v.Qb(),v.Rb(170,"eg-grid-column",93),v.Xb(171,_l),v.Qb(),v.Rb(172,"eg-grid-column",94),v.Xb(173,xl),v.Qb(),v.Rb(174,"eg-grid-column",95),v.Xb(175,yl),v.Qb(),v.Rb(176,"eg-grid-column",96),v.Xb(177,zl),v.Qb(),v.Rb(178,"eg-grid-column",45),v.Xb(179,$l),v.Qb(),v.Rb(180,"eg-grid-column",97),v.Xb(181,Il),v.Qb(),v.Rb(182,"eg-grid-column",98),v.Xb(183,wl),v.Qb(),v.Rb(184,"eg-grid-column",99),v.Xb(185,Cl),v.Qb(),v.Rb(186,"eg-grid-column",100),v.Xb(187,Sl),v.Qb(),v.Rb(188,"eg-grid-column",101),v.Xb(189,Ml),v.Qb(),v.Rb(190,"eg-grid-column",102),v.Xb(191,kl),v.Qb(),v.Rb(192,"eg-grid-column",103),v.Xb(193,Xl),v.Qb(),v.Rb(194,"eg-grid-column",104),v.Xb(195,Tl),v.Qb(),v.Rb(196,"eg-grid-column",105),v.Xb(197,Dl),v.Qb(),v.Rb(198,"eg-grid-column",106),v.Xb(199,Pl),v.Qb(),v.Rb(200,"eg-grid-column",107),v.Xb(201,Bl),v.Qb(),v.Rb(202,"eg-grid-column",108),v.Xb(203,Fl),v.Qb(),v.Rb(204,"eg-grid-column",109),v.Xb(205,Ll),v.Qb(),v.Rb(206,"eg-grid-column",110),v.Xb(207,Hl),v.Qb(),v.Rb(208,"eg-grid-column",111),v.Xb(209,Vl),v.Qb(),v.Rb(210,"eg-grid-column",112),v.Xb(211,Nl),v.Qb(),v.Rb(212,"eg-grid-column",113),v.Xb(213,Ol),v.Qb(),v.Rb(214,"eg-grid-column",114),v.Xb(215,Kl),v.Qb(),v.Rb(216,"eg-grid-column",115),v.Xb(217,Al),v.Qb(),v.Rb(218,"eg-grid-column",116),v.Xb(219,El),v.Qb(),v.Rb(220,"eg-grid-column",117),v.Xb(221,ql),v.Qb(),v.Rb(222,"eg-grid-column",118),v.Xb(223,Gl),v.Qb(),v.Rb(224,"eg-grid-column",119),v.Xb(225,jl),v.Qb(),v.Rb(226,"eg-grid-column",120),v.Xb(227,Wl),v.Qb(),v.Rb(228,"eg-grid-column",121),v.Xb(229,Ul),v.Qb(),v.Rb(230,"eg-grid-column",122),v.Xb(231,Zl),v.Qb(),v.Rb(232,"eg-grid-column",123),v.Xb(233,Jl),v.Qb(),v.Rb(234,"eg-grid-column",124),v.Xb(235,Yl),v.Qb(),v.Rb(236,"eg-grid-column",125),v.Xb(237,et),v.Qb(),v.Rb(238,"eg-grid-column",126),v.Xb(239,ct),v.Qb(),v.Rb(240,"eg-grid-column",127),v.Xb(241,it),v.Qb(),v.Rb(242,"eg-grid-column",128),v.Xb(243,at),v.Qb(),v.Rb(244,"eg-grid-column",129),v.Xb(245,lt),v.Qb(),v.Rb(246,"eg-grid-column",130),v.Xb(247,tt),v.Qb(),v.Rb(248,"eg-grid-column",131),v.Xb(249,bt),v.Qb(),v.Rb(250,"eg-grid-column",132),v.Xb(251,dt),v.Qb(),v.Rb(252,"eg-grid-column",133),v.Xb(253,ot),v.Qb(),v.Rb(254,"eg-grid-column",134),v.Xb(255,nt),v.Qb(),v.Rb(256,"eg-grid-column",135),v.Xb(257,st),v.Qb(),v.Rb(258,"eg-grid-column",136),v.Xb(259,rt),v.Qb(),v.Rb(260,"eg-grid-column",137),v.Xb(261,ht),v.Qb(),v.Rb(262,"eg-grid-column",138),v.Xb(263,ft),v.Qb(),v.Rb(264,"eg-grid-column",139),v.Xb(265,ut),v.Qb(),v.Rb(266,"eg-grid-column",140),v.Xb(267,gt),v.Qb(),v.Rb(268,"eg-grid-column",141),v.Xb(269,pt),v.Qb(),v.Rb(270,"eg-grid-column",142),v.Xb(271,mt),v.Qb(),v.Rb(272,"eg-grid-column",143),v.Xb(273,Rt),v.Qb(),v.Rb(274,"eg-grid-column",144),v.Xb(275,vt),v.Qb(),v.Rb(276,"eg-grid-column",145),v.Xb(277,Qt),v.Qb(),v.Rb(278,"eg-grid-column",146),v.Xb(279,_t),v.Qb(),v.Rb(280,"eg-grid-column",147),v.Xb(281,xt),v.Qb(),v.Rb(282,"eg-grid-column",148),v.Xb(283,yt),v.Qb(),v.Rb(284,"eg-grid-column",149),v.Xb(285,zt),v.Qb(),v.Rb(286,"eg-grid-column",150),v.Xb(287,$t),v.Qb(),v.Rb(288,"eg-grid-column",151),v.Xb(289,It),v.Qb(),v.Rb(290,"eg-grid-column",152),v.Xb(291,wt),v.Qb(),v.Rb(292,"eg-grid-column",153),v.Xb(293,Ct),v.Qb(),v.Qb(),v.Ob()}if(2&e){const e=v.zc(31),c=v.zc(35),i=v.zc(51),a=v.hc(),l=v.zc(15);v.xb(1),v.oc("ngIf",!a.hidePickupLibFilter),v.xb(1),v.oc("dataSource",a.gridDataSource)("sortable",!0)("useLocalSort",a.enablePreFetch)("cellTextGenerator",a.cellTextGenerator)("showFields",a.showFields)("multiSortable",!0)("persistKey",a.persistKey),v.xb(2),v.oc("ngIf",!a.hopeless),v.xb(9),v.oc("disableOnRows",a.nonTitleHoldsSelected),v.xb(12),v.oc("ngIf",a.hopeless),v.xb(1),v.oc("ngIf",a.hopeless),v.xb(1),v.oc("ngIf",a.hopeless),v.xb(1),v.oc("index",!0),v.xb(4),v.oc("cellTemplate",e),v.xb(4),v.oc("cellTemplate",c)("hidden",!0),v.xb(4),v.oc("datePlusTime",!0),v.xb(2),v.oc("datePlusTime",!0),v.xb(2),v.oc("datePlusTime",!0),v.xb(8),v.oc("hidden",!0)("cellTemplate",i),v.xb(2),v.oc("hidden",!0),v.xb(4),v.oc("cellTemplate",l),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(4),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("hidden",!0),v.xb(2),v.oc("datePlusTime",!0)("hidden",!0)}}let Kt=(()=>{class e{constructor(e,c,i,a,l,t){this.net=e,this.org=c,this.store=i,this.auth=a,this.printer=l,this.holdings=t,this.mode="list",this.initDone=!1,this.plCompLoaded=!1,this.gridDataSource=new s.c,this.enablePreFetch=null}set recordId(e){this._recordId=e,this.initDone&&this.holdsGrid.reload()}set userId(e){this._userId=e,this.initDone&&this.holdsGrid.reload()}set showCanceledSince(e){this._showCanceledSince=e,this.initDone&&this.holdsGrid.reload()}set showFulfilledSince(e){this._showFulfilledSince=e,this.initDone&&this.holdsGrid.reload()}set showHopelessAfter(e){this._showHopelessAfter=e,this.initDone&&this.holdsGrid.reload()}set showHopelessBefore(e){this._showHopelessBefore=e,this.initDone&&this.holdsGrid.reload()}ngOnInit(){this.initDone=!0,this.pickupLib=this.org.get(this.initialPickupLib),this.preFetchSetting&&this.store.getItem(this.preFetchSetting).then(e=>this.enablePreFetch=Boolean(e)),this.defaultSort||(this.defaultSort=[{name:"request_time",dir:"asc"}]),this.gridDataSource.getRows=(e,c)=>this.hidePickupLibFilter||this.plCompLoaded?this.fetchHolds(e,c=c.length>0?c:this.defaultSort):Object(a.a)([]),this.cellTextGenerator={title:e=>e.title,cp_barcode:e=>null==e.cp_barcode?"":e.cp_barcode,patron_barcode:e=>e.ucard_barcode}}initComplete(){return null!==this.enablePreFetch}pickupLibChanged(e){this.pickupLib=e,this.holdsGrid.reload()}preFetchHolds(e){this.enablePreFetch=e,e&&setTimeout(()=>this.holdsGrid.reload()),this.preFetchSetting&&this.store.setItem(this.preFetchSetting,e)}applyFilters(){const e={is_staff_request:!0,fulfillment_time:this._showFulfilledSince?this._showFulfilledSince.toISOString():null,cancel_time:this._showCanceledSince?this._showCanceledSince.toISOString():null};return this.hopeless&&(e.hopeless_holds={start_date:this._showHopelessAfter?"object"==typeof this._showHopelessAfter?this._showHopelessAfter.toISOString():this._showHopelessAfter:"1970-01-01T00:00:00.000Z",end_date:this._showHopelessBefore?"object"==typeof this._showHopelessBefore?this._showHopelessBefore.toISOString():this._showHopelessBefore:(new Date).toISOString()}),this.pickupLib&&(e.pickup_lib=this.org.descendants(this.pickupLib,!0)),this._recordId&&(e.record_id=this._recordId),this._userId&&(e.usr_id=this._userId),e}fetchHolds(e,c){if(!this._recordId&&!this.pickupLib&&!this._userId)return Object(a.a)([]);const i=this.applyFilters(),t=[];c.length>0&&c.forEach(e=>{const c={};c[e.name]={dir:e.dir,nulls:"last"},t.push(c)});const b=this.enablePreFetch?null:e.limit,d=this.enablePreFetch?0:e.offset;let o;const n=new l.a(e=>o=e);this.progressDialog.open(),this.progressDialog.update({value:0,max:1});let s=!0,r=0;return this.net.request("open-ils.circ","open-ils.circ.hold.wide_hash.stream",this.auth.token(),i,t,b,d).subscribe(e=>{s?(this.holdsCount=Number(e),s=!1):(this.progressDialog.update({value:++r,max:this.holdsCount}),o.next(e))},e=>{this.progressDialog.close(),o.error(e)},()=>{this.progressDialog.close(),o.complete()}),n}metaRecordHoldsSelected(e){let c=!1;return e.forEach(e=>{"M"===e.hold_type&&(c=!0)}),c}nonTitleHoldsSelected(e){let c=!1;return e.forEach(e=>{"T"!==e.hold_type&&(c=!0)}),c}showDetails(e){this.showDetail(e[0])}showDetail(e){e&&(this.mode="detail",this.detailHold=e)}showManager(e){e.length&&(this.mode="manage",this.editHolds=e.map(e=>e.id))}handleModify(e){this.mode="list",e&&setTimeout(()=>this.holdsGrid.reload())}showRecentCircs(e){Array.from(new Set(e.map(e=>e.cp_id).filter(e=>Boolean(e)))).forEach(e=>{window.open("/eg/staff/cat/item/"+e+"/circ_list","_blank")})}showPatron(e){Array.from(new Set(e.map(e=>e.usr_id).filter(e=>Boolean(e)))).forEach(e=>{window.open("/eg/staff/circ/patron/"+e+"/checkout","_blank")})}showOrder(e){Array.from(new Set(e.filter(e=>"M"!==e.hold_type).map(e=>e.record_id))).forEach(e=>{window.open("/eg/staff/acq/legacy/lineitem/related/"+e+"?target=bib","_blank")})}addVolume(e){Array.from(new Set(e.filter(e=>"M"!==e.hold_type).map(e=>e.record_id))).forEach(e=>{this.holdings.spawnAddHoldingsUi(e)})}showTitle(e){Array.from(new Set(e.map(e=>e.record_id))).forEach(e=>{window.open("/eg2/staff/catalog/record/"+e,"_blank")})}showManageDialog(e){const c=e.map(e=>e.id).filter(e=>Boolean(e));c.length>0&&(this.manageDialog.holdIds=c,this.manageDialog.open({size:"lg"}).subscribe(e=>{e&&this.holdsGrid.reload()}))}showTransferDialog(e){const c=e.filter(e=>"T"===e.hold_type).map(e=>e.id).filter(e=>Boolean(e));c.length>0&&(this.transferDialog.holdIds=c,this.transferDialog.open({}).subscribe(e=>{e&&this.holdsGrid.reload()}))}showMarkDamagedDialog(e){return Qi(this,void 0,void 0,(function*(){const c=e.map(e=>e.cp_id).filter(e=>Boolean(e));if(0===c.length)return;let i=!1;const a=e=>Qi(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve():(this.markDamagedDialog.copyId=e.pop(),this.markDamagedDialog.open({size:"lg"}).subscribe(c=>(c&&(i=!0),a(e)),c=>a(e)))}));yield a(c),i&&this.holdsGrid.reload()}))}showMarkMissingDialog(e){const c=e.map(e=>e.cp_id).filter(e=>Boolean(e));c.length>0&&(this.markMissingDialog.copyIds=c,this.markMissingDialog.open({}).subscribe(e=>{e&&this.holdsGrid.reload()}))}showRetargetDialog(e){const c=e.map(e=>e.id).filter(e=>Boolean(e));c.length>0&&(this.retargetDialog.holdIds=c,this.retargetDialog.open({}).subscribe(e=>{e&&this.holdsGrid.reload()}))}showCancelDialog(e){const c=e.map(e=>e.id).filter(e=>Boolean(e));c.length>0&&(this.cancelDialog.holdIds=c,this.cancelDialog.open({}).subscribe(e=>{e&&this.holdsGrid.reload()}))}printHolds(){const e=new o.a;e.offset=0,e.limit=null,0===this.gridDataSource.sort.length&&(this.gridDataSource.sort=this.defaultSort),this.gridDataSource.requestPage(e).then(()=>{this.gridDataSource.data.length>0&&this.printer.print({templateName:this.printTemplate||"holds_for_bib",contextData:this.gridDataSource.data,printContext:"default"})})}}return e.\u0275fac=function(c){return new(c||e)(v.Lb(t.b),v.Lb(b.a),v.Lb(n.a),v.Lb(d.a),v.Lb(xc.a),v.Lb(yc.a))},e.\u0275cmp=v.Fb({type:e,selectors:[["eg-holds-grid"]],viewQuery:function(e,c){var i;1&e&&(v.Sc(_i,!0),v.Ic(xi,!0),v.Ic(yi,!0),v.Ic(zi,!0),v.Ic($i,!0),v.Ic(Ii,!0),v.Ic(wi,!0),v.Ic(Ci,!0)),2&e&&(v.yc(i=v.gc())&&(c.holdsGrid=i.first),v.yc(i=v.gc())&&(c.progressDialog=i.first),v.yc(i=v.gc())&&(c.transferDialog=i.first),v.yc(i=v.gc())&&(c.markDamagedDialog=i.first),v.yc(i=v.gc())&&(c.markMissingDialog=i.first),v.yc(i=v.gc())&&(c.retargetDialog=i.first),v.yc(i=v.gc())&&(c.cancelDialog=i.first),v.yc(i=v.gc())&&(c.manageDialog=i.first))},inputs:{initialPickupLib:"initialPickupLib",hidePickupLibFilter:"hidePickupLibFilter",hopeless:"hopeless",persistKey:"persistKey",preFetchSetting:"preFetchSetting",printTemplate:"printTemplate",defaultSort:"defaultSort",showFields:"showFields",recordId:"recordId",userId:"userId",showCanceledSince:"showCanceledSince",showFulfilledSince:"showFulfilledSince",showHopelessAfter:"showHopelessAfter",showHopelessBefore:"showHopelessBefore"},decls:19,vars:2,consts:[["progressDialog",""],["transferDialog",""],["markDamagedDialog",""],["markMissingDialog",""],["retargetDialog",""],["cancelDialog",""],["manageDialog",""],["statusTemplate",""],[1,"eg-holds","w-100","mt-3"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"wideHold","onShowList"],["class","row",4,"ngIf"],[3,"dataSource","sortable","useLocalSort","cellTextGenerator","showFields","multiSortable","persistKey","onRowActivate"],["holdsGrid",""],[3,"initialValue","onChange",4,"ngIf",6,"label"],[3,"onClick",6,"label","group"],[3,"disableOnRows","onClick",6,"group","label"],[3,"onClick",6,"group","label"],["i18-group","","group","Hold",3,"onClick",6,"label"],["i18-group","","group","Item",3,"disableOnRows","onClick",4,"ngIf",6,"label"],["i18-group","","group","Item",3,"onClick",4,"ngIf",6,"label"],["path","id","datatype","id",3,"index",6,"label"],["barcodeTmpl",""],["name","cp_barcode",3,"cellTemplate",6,"label"],["userBarcodeTmpl",""],["name","patron_barcode",3,"cellTemplate","hidden",6,"label"],["path","usr_alias",6,"label"],["path","request_time","datatype","timestamp",3,"datePlusTime",6,"label"],["path","capture_time","datatype","timestamp",3,"datePlusTime",6,"label"],["path","shelf_time","datatype","timestamp",3,"datePlusTime",6,"label"],["path","hold_type",6,"label"],["path","pl_shortname",6,"label"],["titleTmpl",""],["name","title",3,"hidden","cellTemplate",6,"label"],["path","author",3,"hidden",6,"label"],["path","potentials","datatype","int",6,"label"],[3,"cellTemplate",6,"label"],["path","relative_queue_position","datatype","int",3,"hidden",6,"label"],["path","usr_id",3,"hidden",6,"label"],["path","usr_usrname",3,"hidden",6,"label"],["path","usr_first_given_name",3,"hidden",6,"label"],["path","usr_family_name",3,"hidden",6,"label"],["path","rusr_id",3,"hidden",6,"label"],["path","rusr_usrname",3,"hidden",6,"label"],["path","cs_name",3,"hidden",6,"label"],["path","acnp_label",3,"hidden",6,"label"],["path","acns_label",3,"hidden",6,"label"],["path","fulfillment_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","checkin_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","return_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","prev_check_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","expire_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","cancel_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","cancel_note",3,"hidden",6,"label"],["path","target",3,"hidden",6,"label"],["path","current_copy",3,"hidden",6,"label"],["path","fulfillment_staff",3,"hidden",6,"label"],["path","fulfillment_lib",3,"hidden",6,"label"],["path","request_lib",3,"hidden",6,"label"],["path","requestor",3,"hidden",6,"label"],["path","usr",3,"hidden",6,"label"],["path","selection_ou",3,"hidden",6,"label"],["path","selection_depth",3,"hidden",6,"label"],["path","holdable_formats",3,"hidden",6,"label"],["path","phone_notify",3,"hidden",6,"label"],["path","sms_notify",3,"hidden",6,"label"],["path","email_notify","datatype","bool",3,"hidden",6,"label"],["path","sms_carrier",3,"hidden",6,"label"],["path","frozen","datatype","bool",3,"hidden",6,"label"],["path","thaw_date","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","cut_in_line","datatype","bool",3,"hidden",6,"label"],["path","mint_condition","datatype","bool",3,"hidden",6,"label"],["path","shelf_expire_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","current_shelf_lib",3,"hidden",6,"label"],["path","behind_desk","datatype","bool",3,"hidden",6,"label"],["path","hopeless_date","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","clear_me","datatype","bool",3,"hidden",6,"label"],["path","is_staff_hold","datatype","bool",3,"hidden",6,"label"],["path","cc_id",3,"hidden",6,"label"],["path","cc_label",3,"hidden",6,"label"],["path","pl_name",3,"hidden",6,"label"],["path","pl_email",3,"hidden",6,"label"],["path","pl_phone",3,"hidden",6,"label"],["path","pl_opac_visible",3,"hidden",6,"label"],["path","tr_id",3,"hidden",6,"label"],["path","tr_source_send_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","tr_dest_recv_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","tr_target_copy",3,"hidden",6,"label"],["path","tr_source",3,"hidden",6,"label"],["path","tr_dest",3,"hidden",6,"label"],["path","tr_copy_status",3,"hidden",6,"label"],["path","tr_hold",3,"hidden",6,"label"],["path","tr_cancel_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","note_count",3,"hidden",6,"label"],["path","usr_display_name",3,"hidden",6,"label"],["path","cp_id",3,"hidden",6,"label"],["path","cp_copy_number",3,"hidden",6,"label"],["path","cp_fine_level",3,"hidden",6,"label"],["path","cp_circulate","datatype","bool",3,"hidden",6,"label"],["path","cp_deposit_amount","datatype","bool",3,"hidden",6,"label"],["path","cp_deposit","datatype","bool",3,"hidden",6,"label"],["path","cp_ref","datatype","bool",3,"hidden",6,"label"],["path","cp_holdable","datatype","bool",3,"hidden",6,"label"],["path","cp_price",3,"hidden",6,"label"],["path","cp_barcode",3,"hidden",6,"label"],["path","cp_circ_modifier",3,"hidden",6,"label"],["path","cp_circ_as_type",3,"hidden",6,"label"],["path","cp_dummy_title",3,"hidden",6,"label"],["path","cp_dummy_author",3,"hidden",6,"label"],["path","cp_alert_message",3,"hidden",6,"label"],["path","cp_opac_visible","datatype","bool",3,"hidden",6,"label"],["path","cp_deleted","datatype","bool",3,"hidden",6,"label"],["path","cp_floating",3,"hidden",6,"label"],["path","cp_dummy_isbn",3,"hidden",6,"label"],["path","cp_status_change_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","cp_active_date","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],["path","cp_mint_condition","datatype","bool",3,"hidden",6,"label"],["path","cp_cost",3,"hidden",6,"label"],["path","cs_holdable","datatype","bool",3,"hidden",6,"label"],["path","cs_opac_visible","datatype","bool",3,"hidden",6,"label"],["path","cs_copy_active","datatype","bool",3,"hidden",6,"label"],["path","cs_restrict_copy_delete","datatype","bool",3,"hidden",6,"label"],["path","cs_is_available","datatype","bool",3,"hidden",6,"label"],["path","issuance_label",3,"hidden",6,"label"],["path","cn_id",3,"hidden",6,"label"],["path","cn_label",3,"hidden",6,"label"],["path","cn_label_class",3,"hidden",6,"label"],["path","cn_label_sortkey",3,"hidden",6,"label"],["path","p_id",3,"hidden",6,"label"],["path","p_label",3,"hidden",6,"label"],["path","p_label_sortkey",3,"hidden",6,"label"],["path","p_deleted","datatype","bool",3,"hidden",6,"label"],["path","cn_full_label",3,"hidden",6,"label"],["path","record_id",3,"hidden",6,"label"],["path","acpl_id",3,"hidden",6,"label"],["path","acpl_name",3,"hidden",6,"label"],["path","acpl_holdable","datatype","bool",3,"hidden",6,"label"],["path","acpl_hold_verify","datatype","bool",3,"hidden",6,"label"],["path","acpl_opac_visible","datatype","bool",3,"hidden",6,"label"],["path","acpl_circulate","datatype","bool",3,"hidden",6,"label"],["path","acpl_label_prefix",3,"hidden",6,"label"],["path","acpl_label_suffix",3,"hidden",6,"label"],["path","acpl_checkin_alert","datatype","bool",3,"hidden",6,"label"],["path","acpl_deleted","datatype","bool",3,"hidden",6,"label"],["path","acpl_url",3,"hidden",6,"label"],["path","copy_location_order_position",3,"hidden",6,"label"],["path","default_estimated_wait",3,"hidden",6,"label"],["path","min_estimated_wait",3,"hidden",6,"label"],["path","other_holds",3,"hidden",6,"label"],["path","total_wait_time",3,"hidden",6,"label"],["path","notification_count",3,"hidden",6,"label"],["path","last_notification_time","datatype","timestamp",3,"datePlusTime","hidden",6,"label"],[1,"row"],[1,"col-lg-4"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[3,"persistKey","fallbackOrg","componentLoaded","onChange"],[3,"initialValue","onChange",6,"label"],["i18-group","","group","Item",3,"disableOnRows","onClick",6,"label"],["i18-group","","group","Item",3,"onClick",6,"label"],[3,"href"],[1,"no-href",3,"routerLink"]],template:function(e,c){1&e&&(v.Mb(0,"eg-progress-dialog",null,0),v.Mb(2,"eg-hold-transfer-dialog",null,1),v.Mb(4,"eg-mark-damaged-dialog",null,2),v.Mb(6,"eg-mark-missing-dialog",null,3),v.Mb(8,"eg-hold-retarget-dialog",null,4),v.Mb(10,"eg-hold-cancel-dialog",null,5),v.Mb(12,"eg-hold-manage-dialog",null,6),v.Kc(14,Wi,11,11,"ng-template",null,7,v.Lc),v.Rb(16,"div",8),v.Kc(17,Ui,2,1,"ng-container",9),v.Kc(18,Ot,294,155,"ng-container",9),v.Qb()),2&e&&(v.xb(17),v.oc("ngIf","detail"==c.mode),v.xb(1),v.oc("ngIf","list"==c.mode&&c.initComplete()))},directives:[h.a,ce,f.a,u.a,B,_e,_c,_.v,_.z,_.A,gi,r.a,pi.a,mi.a,De.a,Ri.a,vi.f],encapsulation:2}),e})()},hdyx:function(e,c,i){"use strict";i.d(c,"a",(function(){return s}));var a=i("lJxs"),l=i("5+tZ"),t=i("Osig"),b=i("EQDH"),d=i("8PDw"),o=i("XKii"),n=i("fXoL");let s=(()=>{class e{constructor(e,c,i,a){this.evt=e,this.net=c,this.auth=i,this.bib=a}placeHold(e){let c="open-ils.circ.holds.test_and_create.batch";return e.override&&(c+=".override"),this.net.request("open-ils.circ",c,this.auth.token(),{patronid:e.recipient,pickup_lib:e.pickupLib,hold_type:e.holdType,email_notify:e.notifyEmail,phone_notify:e.notifyPhone,thaw_date:e.thawDate,frozen:e.frozen,sms_notify:e.notifySms,sms_carrier:e.smsCarrier,holdable_formats_map:e.holdableFormats},[e.holdTarget]).pipe(Object(a.a)(c=>{let i=c.result;const a={success:!0};return Number(i)>0?(a.holdId=i,console.debug("Hold successfully placed "+i)):(a.success=!1,console.info("Hold request failed: ",i),Array.isArray(i)&&(i=i[0]),a.evt=this.evt.parse(i)?this.evt.parse(i):this.evt.parse(i.last_event)),e.result=a,e}))}getHoldTargetMeta(e,c,i){const t=[].concat(c);return this.net.request("open-ils.circ","open-ils.circ.hold.get_metadata",e,t,i).pipe(Object(l.a)(e=>{const c=e;return c.bibId=c.bibrecord.id(),c.callNum=e.volume,this.bib.getBibSummary(c.bibId).pipe(Object(a.a)(e=>(c.bibSummary=e,c)))}))}updateHolds(e){return this.net.request("open-ils.circ","open-ils.circ.hold.update.batch",this.auth.token(),e).pipe(Object(a.a)(e=>{if(Number(e)>0)return Number(e);Array.isArray(e)&&(e=e[0]);const c=this.evt.parse(e);return console.warn("Hold update returned event",c),c}))}}return e.\u0275fac=function(c){return new(c||e)(n.cc(b.a),n.cc(t.b),n.cc(d.a),n.cc(o.a))},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac}),e})()},idTy:function(e,c,i){"use strict";i.d(c,"a",(function(){return d}));var a=i("MZHd"),l=i("fkVb"),t=i("hdyx"),b=i("fXoL");let d=(()=>{class e{}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(c){return new(c||e)},providers:[t.a],imports:[[a.a,l.a]]}),e})()}}]);