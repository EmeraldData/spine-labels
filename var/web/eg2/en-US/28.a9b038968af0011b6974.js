(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"/3nJ":function(e,t,n){"use strict";n.r(t),n.d(t,"OrgUnitModule",(function(){return Ke}));var i=n("tNs6"),r=n("GLCv"),o=n("tyNb"),c=n("Mr7b"),s=n("wBwE"),a=n("cm5s"),d=n("8PDw"),l=n("iA0r"),b=n("YRS1"),u=n("tNQm"),h=n("G8BM"),f=n("36iw"),g=n("fXoL"),p=n("ufrD"),m=n("d4sd"),C=n("ofXK"),v=n("1kSV"),O=n("UUQ6");function _(e,t){}let w=(()=>{class e{constructor(e){this.editor=e,this.buttonCss="btn-outline-dark",this.actionClick=new g.n}ngOnInit(){this.editor.actions.push(this)}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(O.a,1))},e.\u0275cmp=g.Fb({type:e,selectors:[["eg-fm-record-editor-action"]],inputs:{key:"key",label:"label",buttonCss:"buttonCss",disabled:"disabled"},outputs:{actionClick:"actionClick"},decls:1,vars:0,template:function(e,t){1&e&&g.Kc(0,_,0,0,"ng-template")},encapsulation:2}),e})();var y=n("3Pt+");const R=["title",$localize`:␟29cef999b064f13a0a262dde6b71832984f8b6b0␟8502290106664095693:${"\ufffd0\ufffd"}:INTERPOLATION:`],I=["label",$localize`:␟826b25211922a1b46436589233cb6f1a163d89b7␟7022070615528435141:Delete`];function Q(e,t){if(1&e){const e=g.Sb();g.Rb(0,"eg-fm-record-editor-action",10),g.Xb(1,I),g.fc("actionClick",(function(t){return g.Bc(e),g.hc(5).deleteAddress(t)})),g.Qb()}}var S,$;function T(e,t){if(1&e){const e=g.Sb();g.Pb(0),g.Rb(1,"div",11),g.Rb(2,"span"),g.Vb(3,S),g.Qb(),g.Rb(4,"button",12),g.fc("click",(function(){g.Bc(e);const t=g.hc(3).$implicit;return g.hc(2).cloneAddress(t)})),g.Vb(5,$),g.Qb(),g.Qb(),g.Ob()}}function x(e,t){if(1&e){const e=g.Sb();g.Rb(0,"eg-fm-record-editor",7),g.fc("recordSaved",(function(t){return g.Bc(e),g.hc(4).addrSaved(t)})),g.Kc(1,Q,2,0,"eg-fm-record-editor-action",8),g.Qb(),g.Kc(2,T,6,0,"ng-container",9)}if(2&e){const e=g.hc(2).$implicit,t=g.hc(2);g.oc("mode",t.addr(e).isnew()?"create":"update")("hideBanner",!0)("record",t.addr(e)),g.xb(1),g.oc("ngIf",!t.addr(e).isnew()),g.xb(1),g.oc("ngIf",t.sharedAddress(t.addr(e).id()))}}function A(e,t){if(1&e&&(g.Rb(0,"ngb-tab",5),g.Xb(1,R),g.Kc(2,x,3,5,"ng-template",6),g.Qb()),2&e){const e=g.hc().$implicit;g.Zb("billing_address"===e?"Physical Address":"holds_address"===e?"Holds Address":"mailing_address"===e?"Mailing Address":"ILL Address"),g.Wb(1),g.pc("id",e)}}function z(e,t){if(1&e&&(g.Pb(0),g.Rb(1,"b"),g.Mc(2),g.Qb(),g.Kc(3,A,3,2,"ngb-tab",4),g.Ob()),2&e){const e=t.$implicit,n=g.hc(2);g.xb(2),g.Oc("type = ",e,""),g.xb(1),g.oc("ngIf",n.addr(e))}}function k(e,t){if(1&e){const e=g.Sb();g.Rb(0,"ngb-tabset",1,2),g.fc("tabChange",(function(t){return g.Bc(e),g.hc().tabChanged(t)})),g.Kc(2,z,4,2,"ng-container",3),g.Qb()}if(2&e){const e=g.hc();g.xb(2),g.oc("ngForOf",e.addrTypes())}}S=$localize`:␟a3e05fe90e5307f7d036271dfd7d8143c6838f0b␟2562160037616216416:This address is used for multiple address types.`,$=$localize`:␟691262b0966898df4a9580745c397e3430ec3266␟2414631239992839238:Clone As New Address`;const L=["billing_address","holds_address","mailing_address","ill_address"];let K=(()=>{class e{constructor(e,t,n){this.idl=e,this.org=t,this.pcrud=n,this.orgUnit=null,this.addrChange=new g.n,this.tabName="billing_address"}get orgId(){return this._orgId}set orgId(e){e?this._orgId&&this._orgId===e||(this._orgId=e,this.init()):this._orgId=null}init(){if(this.orgId)return this.pcrud.retrieve("aou",this.orgId,{flesh:1,flesh_fields:{aou:L}},{authoritative:!0}).subscribe(e=>{this.orgUnit=e,L.forEach(e=>{this.addr(e)||this.createAddress(e)})})}tabChanged(e){this.tabName=e.nextId}addrTypes(){return L}addr(e){return this.orgUnit?this.orgUnit[e]():null}createAddress(e){const t=this.idl.create("aoa");t.isnew(!0),t.valid("t"),t.org_unit(this.orgId),this.orgUnit[e](t)}cloneAddress(e){let t;L.forEach(n=>{n!==e&&this.addr(n).id()===this.addr(e).id()&&(t=this.addr(n))});const n=this.idl.clone(t);n.id(null),n.isnew(!0),n.valid("t"),this.orgUnit[e](n)}sharedAddress(e){return L.filter(t=>!this.addr(t).isnew()&&this.addr(t).id()===e).length>1}deleteAddress(e){const t=e.record,n=this.updatableOrg();L.forEach(e=>{const i=this.addr(e);i&&i.id()===t.id()&&(n[e](null),this.createAddress(e))}),this.pcrud.update(n).toPromise().then(e=>this.pcrud.remove(t).toPromise()).then(e=>this.addrChange.emit(t))}addrSaved(e){if("object"!=typeof e)return;this.orgUnit[this.tabName](e);const t=this.updatableOrg();t[this.tabName](e.id()),this.pcrud.update(t).toPromise().then(t=>this.addrChange.emit(e))}updatableOrg(){const e=this.idl.clone(this.orgUnit);return L.forEach(t=>{const n=this.addr(t);n&&e[t](n.id())}),e}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(s.a),g.Lb(a.a),g.Lb(l.a))},e.\u0275cmp=g.Fb({type:e,selectors:[["eg-admin-org-address"]],inputs:{orgId:"orgId"},outputs:{addrChange:"addrChange"},decls:1,vars:1,consts:[[3,"tabChange",4,"ngIf"],[3,"tabChange"],["addressTabs",""],[4,"ngFor","ngForOf"],[3,"id","title",4,"ngIf"],[3,"id",6,"title"],["ngbTabContent",""],["idlClass","aoa","readonlyFields","org_unit","displayMode","inline","hiddenFields","id","fieldOrder","address_type,street1,street2,city,county,state,country,post_code,san,valid",3,"mode","hideBanner","record","recordSaved"],["buttonCss","btn-warning",3,"actionClick",4,"ngIf",6,"label"],[4,"ngIf"],["buttonCss","btn-warning",3,"actionClick",6,"label"],[1,"alert","alert-info"],[1,"btn","btn-light","ml-3",3,"click"]],template:function(e,t){1&e&&g.Kc(0,k,3,1,"ngb-tabset",0),2&e&&g.oc("ngIf",t.orgUnit)},directives:[C.v,v.W,C.u,v.T,v.U,O.a,w],encapsulation:2}),e})();const U=["editString"],N=["errorString"],V=["delConfirm"],B=["bannerText",$localize`:␟15722505b481b8a1d2aa5493e53cca8271afd0ec␟8929545545003516665:Org Unit Configuration`],M=["dialogTitle",$localize`:␟a6ecf76f074e2098ee024b6c2586a0475a2d6dd3␟6208564441860154239:Confirm Delete`,"dialogBody",$localize`:␟2c8a830a46c7f09a643332f2c513405ad857771f␟2827683727075410613:Delete Org Unit ${"\ufffd0\ufffd"}:INTERPOLATION:?`];var D,F,P,H,E,X;function W(e,t){1&e&&g.Vb(0,F)}function j(e,t){1&e&&g.Vb(0,P)}function J(e,t){if(1&e&&(g.Rb(0,"span"),g.Vb(1,H),g.Qb()),2&e){const e=g.hc().org;g.xb(1),g.Zb(e.name())(e.shortname()),g.Wb(1)}}function Z(e,t){1&e&&g.Kc(0,J,2,2,"span",16),2&e&&g.oc("ngIf",t.org)}function G(e,t){if(1&e&&(g.Rb(0,"span"),g.Vb(1,E),g.Qb()),2&e){const e=g.hc(2);g.xb(1),g.Zb(e.currentOrg().name())(e.currentOrg().shortname()),g.Wb(1)}}function Y(e,t){1&e&&(g.Rb(0,"span",19),g.Vb(1,X),g.Qb())}function q(e,t){if(1&e&&(g.Rb(0,"div"),g.Kc(1,G,2,2,"span",16),g.Kc(2,Y,2,0,"span",18),g.Qb()),2&e){const e=g.hc();g.xb(1),g.oc("ngIf",e.currentOrg().name()),g.xb(1),g.oc("ngIf",!e.currentOrg().name())}}D=$localize`:␟2ebd14a9f175dfa24f1825934ab13967e60d46fa␟950961196031736030:Org Units`,F=$localize`:␟1e7198a92dfc8253681b9e6d19e97df16f350197␟4579403834668086046:Update Succeeded`,P=$localize`:␟8594cbbbf15dab72ec11fc33d97b788a9af85f8c␟4481765966719564255:Update Failed`,H=$localize`:␟9c7282b0ee270f9d6a8d949a9f913ee8e0568ebc␟8116003808675040023:${"\ufffd0\ufffd"}:INTERPOLATION: -- ${"\ufffd1\ufffd"}:INTERPOLATION_1:`,E=$localize`:␟9388e8456af9ef69d52cd8ca644aa2074e79672f␟4174061028418395483: ${"\ufffd0\ufffd"}:INTERPOLATION: (${"\ufffd1\ufffd"}:INTERPOLATION_1:) `,X=$localize`:␟56cf173c83816bbc466f60eab69b0453e5a2893f␟1783492911601821704: Add Name `;const ee=["title",$localize`:␟4c4e9d9989494926b2a3ba65a197f59a047bcd64␟7346025757504893537:Main Settings`],te=["title",$localize`:␟5b4cf78651eb8be05fea3bc0b0cce4b402ea9214␟7115484541401189238:Hours of Operation`],ne=["title",$localize`:␟7882f2edb1d4139800b276b6b0bbf5ae0b2234ef␟5159814115056353668:Addresses`],ie=["label",$localize`:␟598446c20a129b03aaf9e7863a012ca1b6fa0152␟192340254091027151:Add Child`],re=function(e){return{customValues:e}},oe=function(e){return{ou_type:e}};function ce(e,t){if(1&e){const e=g.Sb();g.Rb(0,"eg-fm-record-editor",28,29),g.fc("recordSaved",(function(t){return g.Bc(e),g.hc(3).orgSaved(t)}))("recordDeleted",(function(){return g.Bc(e),g.hc(3).orgDeleted()})),g.Rb(2,"eg-fm-record-editor-action",30),g.Xb(3,ie),g.fc("actionClick",(function(){return g.Bc(e),g.hc(3).addChild()})),g.Qb(),g.Qb()}if(2&e){const e=g.hc(3);g.oc("mode",e.currentOrg().isnew()?"create":"update")("hideBanner",!0)("preloadLinkedValues",!0)("fieldOptions",g.uc(10,oe,g.uc(8,re,e.orgTypeOptions())))("record",e.currentOrg().isnew()?e.currentOrg():null)("recordId",e.currentOrg().isnew()?null:e.currentOrg().id())("showDelete",!e.orgHasChildren()),g.xb(2),g.oc("disabled",0===e.orgChildTypes().length||e.currentOrg().isnew())}}function se(e,t){if(1&e&&(g.Rb(0,"div",26),g.Kc(1,ce,4,12,"eg-fm-record-editor",27),g.Qb()),2&e){const e=g.hc(2);g.xb(1),g.oc("ngIf",e.currentOrg())}}var ae,de,le,be,ue,he,fe,ge,pe,me,Ce,ve;function Oe(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,he),g.Qb())}function _e(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,fe),g.Qb())}function we(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,ge),g.Qb())}function ye(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,pe),g.Qb())}function Re(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,me),g.Qb())}function Ie(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,Ce),g.Qb())}function Qe(e,t){1&e&&(g.Rb(0,"span"),g.Vb(1,ve),g.Qb())}function Se(e,t){if(1&e){const e=g.Sb();g.Rb(0,"div",42),g.Rb(1,"div",43),g.Kc(2,Oe,2,0,"span",44),g.Kc(3,_e,2,0,"span",44),g.Kc(4,we,2,0,"span",44),g.Kc(5,ye,2,0,"span",44),g.Kc(6,Re,2,0,"span",44),g.Kc(7,Ie,2,0,"span",44),g.Kc(8,Qe,2,0,"span",44),g.Qb(),g.Rb(9,"div",34),g.Rb(10,"input",45),g.fc("ngModelChange",(function(n){g.Bc(e);const i=t.$implicit;return g.hc(3).hours(i,"open",n)})),g.Qb(),g.Qb(),g.Rb(11,"div",34),g.Rb(12,"input",45),g.fc("ngModelChange",(function(n){g.Bc(e);const i=t.$implicit;return g.hc(3).hours(i,"close",n)})),g.Qb(),g.Qb(),g.Rb(13,"div",41),g.Rb(14,"button",46),g.fc("click",(function(){g.Bc(e);const n=t.$implicit;return g.hc(3).closedOn(n)})),g.Vb(15,ue),g.Qb(),g.Qb(),g.Qb()}if(2&e){const e=t.$implicit,n=g.hc(3);g.xb(1),g.oc("ngSwitch",e),g.xb(1),g.oc("ngSwitchCase",0),g.xb(1),g.oc("ngSwitchCase",1),g.xb(1),g.oc("ngSwitchCase",2),g.xb(1),g.oc("ngSwitchCase",3),g.xb(1),g.oc("ngSwitchCase",4),g.xb(1),g.oc("ngSwitchCase",5),g.xb(1),g.oc("ngSwitchCase",6),g.xb(2),g.oc("ngModel",n.hours(e,"open")),g.xb(2),g.oc("ngModel",n.hours(e,"close")),g.xb(2),g.oc("disabled",n.isClosed(e))}}function $e(e,t){1&e&&(g.Rb(0,"div",47),g.Mc(1," Hours of Operation Have Not Yet Been Saved. "),g.Qb())}ae=$localize`:␟3ace7fac0ba373a88ada1663966bb78b5723478d␟8993135189536335311:Open Time`,de=$localize`:␟2cab4f31f1acc2bfb5e4841afc24fc60a5a87e13␟5023927861260623383:Close Time`,le=$localize`:␟6e816003c7cff828d303e37c7e92c22dab99f5e8␟7820952322370998848: Clear Hours of Operation `,be=$localize`:␟eda60a8d918954f7d6885c7423ff3c626626bbe2␟9210464463628744393: Apply Changes `,ue=$localize`:␟4804b8e78964cee9e5c85f31fd982639b97780b2␟7860418101283165917:Closed`,he=$localize`:␟a43c57a7cbebf57eb33a2eae5e994c91d9887596␟8739442281958563044:Monday`,fe=$localize`:␟48a2a35957ce394eb2c59ae35c99642360af70ee␟9176037901730521018:Tuesday`,ge=$localize`:␟b0af441f9ba8b82952b9ec10fb8c62e8fec67df9␟8798932904948432529:Wednesday`,pe=$localize`:␟55c583b99c809818ec27df065ccf05357a6ac10b␟1433683192825895947:Thursday`,me=$localize`:␟e91b54925dc5f490753f60f53ef6f8b4609e6215␟3730139500618908668:Friday`,Ce=$localize`:␟c0d2dd391a3eca8e841a5d0e035cd268280eb68e␟1830554030016307335:Saturday`,ve=$localize`:␟8339364b054610983b7f2334bb807fff7613bddf␟6950140976689343775:Sunday`;const Te=function(){return[0,1,2,3,4,5,6]};function xe(e,t){if(1&e){const e=g.Sb();g.Rb(0,"div",31),g.Rb(1,"div",32),g.Rb(2,"div",33),g.Vb(3,ae),g.Qb(),g.Rb(4,"div",34),g.Vb(5,de),g.Qb(),g.Qb(),g.Kc(6,Se,16,11,"div",35),g.Rb(7,"div",36),g.Kc(8,$e,2,0,"div",37),g.Rb(9,"div",38),g.Rb(10,"button",39),g.fc("click",(function(){return g.Bc(e),g.hc(2).deleteHours()})),g.Vb(11,le),g.Qb(),g.Qb(),g.Rb(12,"div"),g.Rb(13,"button",40),g.fc("click",(function(){return g.Bc(e),g.hc(2).saveHours()})),g.Vb(14,be),g.Qb(),g.Qb(),g.Mb(15,"div",41),g.Qb(),g.Qb()}if(2&e){const e=g.hc(2);g.xb(6),g.oc("ngForOf",g.tc(2,Te)),g.xb(2),g.oc("ngIf",e.currentOrg().hours_of_operation().isnew())}}function Ae(e,t){if(1&e){const e=g.Sb();g.Rb(0,"div",26),g.Rb(1,"eg-admin-org-address",48),g.fc("addrChange",(function(t){return g.Bc(e),g.hc(2).addressChanged(t)})),g.Qb(),g.Qb()}if(2&e){const e=g.hc(2);g.xb(1),g.oc("orgId",e.currentOrg().id())}}function ze(e,t){if(1&e){const e=g.Sb();g.Rb(0,"ngb-tabset",20,21),g.fc("tabChange",(function(t){return g.Bc(e),g.hc().tabChanged(t)})),g.Rb(2,"ngb-tab",22),g.Xb(3,ee),g.Kc(4,se,2,1,"ng-template",23),g.Qb(),g.Rb(5,"ngb-tab",24),g.Xb(6,te),g.Kc(7,xe,16,3,"ng-template",23),g.Qb(),g.Rb(8,"ngb-tab",25),g.Xb(9,ne),g.Kc(10,Ae,2,1,"ng-template",23),g.Qb(),g.Qb()}if(2&e){const e=g.hc();g.xb(5),g.oc("disabled",e.currentOrg().isnew()),g.xb(3),g.oc("disabled",e.currentOrg().isnew())}}const ke=[{path:"",component:(()=>{class e{constructor(e,t,n,i,r,o){this.idl=e,this.org=t,this.auth=n,this.pcrud=i,this.strings=r,this.toast=o}ngOnInit(){this.loadAouTree(this.org.root().id())}tabChanged(e){}orgSaved(e){let t;e?t="object"==typeof e?e.id():e:this.currentOrg()&&(t=this.currentOrg().id()),this.loadAouTree(t).then(e=>this.postUpdate(this.editString))}orgDeleted(){this.loadAouTree()}loadAouTree(e){return this.pcrud.search("aou",{parent_ou:null},{flesh:-1,flesh_fields:{aou:["children","ou_type","hours_of_operation"]}},{authoritative:!0}).toPromise().then(t=>{this.ingestAouTree(t),e||(e=this.org.root().id());const n=this.tree.findNode(e);this.selected=n,this.tree.selectNode(n)})}ingestAouTree(e){const t=e=>{if(!e)return;e.hours_of_operation()||this.generateHours(e);const n=new c.b({id:e.id(),label:e.name(),callerData:{orgUnit:e}});return this.strings.interpolate("admin.server.org_unit.treenode",{org:e}).then(e=>n.label=e),e.children().sort((e,t)=>e.name()<t.name()?-1:1).forEach(e=>n.children.push(t(e))),n},n=t(e);this.tree=new c.a(n)}nodeClicked(e){this.selected=e}generateHours(e){const t=this.idl.create("aouhoo");t.id(e.id()),t.isnew(!0),[0,1,2,3,4,5,6].forEach(e=>{this.hours(e,"open","09:00:00",t),this.hours(e,"close","17:00:00",t)}),e.hours_of_operation(t)}hours(e,t,n,i){if(!i&&!this.selected)return null;const r=i||this.selected.callerData.orgUnit.hours_of_operation();return n&&(r[`dow_${e}_${t}`](n),r.ischanged(!0)),r[`dow_${e}_${t}`]()}isClosed(e){return"00:00:00"===this.hours(e,"open")&&"00:00:00"===this.hours(e,"close")}closedOn(e){this.hours(e,"open","00:00:00"),this.hours(e,"close","00:00:00")}saveHours(){const e=this.currentOrg().hours_of_operation();this.pcrud.autoApply(e).subscribe(e=>{console.debug("Hours saved ",e),this.editString.current().then(e=>this.toast.success(e))},e=>{this.errorString.current().then(e=>this.toast.danger(e))},()=>this.loadAouTree(this.selected.id))}deleteHours(){const e=this.currentOrg().hours_of_operation();(e.isnew()?Promise.resolve():this.pcrud.remove(e).toPromise()).then(e=>this.generateHours(this.currentOrg()))}currentOrg(){return this.selected?this.selected.callerData.orgUnit:null}orgHasChildren(){const e=this.currentOrg();return e&&e.children().length>0}postUpdate(e){this.org.fetchOrgs().then(()=>e.current().then(e=>this.toast.success(e)))}remove(){this.delConfirm.open().subscribe(e=>{if(!e)return;const t=this.selected.callerData.orgUnit;this.pcrud.remove(t).subscribe(e=>{},e=>{this.errorString.current().then(e=>this.toast.danger(e))},()=>{const e=t.parent_ou()?t.parent_ou():this.org.root().id();this.loadAouTree(e).then(e=>this.postUpdate(this.editString))})})}orgTypeOptions(){let e=this.currentOrg().ou_type();"number"==typeof e&&(e=this.org.typeMap()[e]);const t=e.depth();return this.org.typeList().filter(e=>e.depth()===t).map(e=>({id:e.id(),label:e.name()}))}orgChildTypes(){let e=this.currentOrg().ou_type();"number"==typeof e&&(e=this.org.typeMap()[e]);const t=e.depth();return this.org.typeList().filter(e=>e.depth()===t+1)}addChild(){const e=this.currentOrg(),t=this.orgChildTypes()[0],n=this.idl.create("aou");n.isnew(!0),n.parent_ou(e.id()),n.ou_type(t.id()),n.children([]),this.selected=new c.b({id:n.id(),label:n.name(),callerData:{orgUnit:n}})}addressChanged(e){this.orgSaved(this.currentOrg().id())}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(s.a),g.Lb(a.a),g.Lb(d.a),g.Lb(l.a),g.Lb(h.a),g.Lb(b.a))},e.\u0275cmp=g.Fb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var n;1&e&&(g.Ic(U,!0),g.Ic(N,!0),g.Ic(V,!0)),2&e&&(g.yc(n=g.gc())&&(t.editString=n.first),g.yc(n=g.gc())&&(t.errorString=n.first),g.yc(n=g.gc())&&(t.delConfirm=n.first))},decls:26,vars:7,consts:[[6,"bannerText"],["editStrTmpl",""],[3,"template"],["editString",""],["errorStrTmpl",""],["errorString",""],[6,"dialogTitle","dialogBody"],["delConfirm",""],["treeNodeLabelTmpl",""],["key","admin.server.org_unit.treenode",3,"template"],["treeNodeLabel",""],[1,"row"],[1,"col-lg-4"],[3,"tree","nodeClicked"],[1,"col-lg-8"],[1,"alert","alert-info"],[4,"ngIf"],[3,"tabChange",4,"ngIf"],["class","font-italic",4,"ngIf"],[1,"font-italic"],[3,"tabChange"],["rootTabs",""],["id","main",6,"title"],["ngbTabContent",""],["id","hours",3,"disabled",6,"title"],["id","addresses",3,"disabled",6,"title"],[1,"mt-2"],["idlClass","aou","displayMode","inline","readonlyFields","parent,parent_ou","fieldOrder","parent_ou,ou_type,name,shortname,phone,email,opac_visible,fiscal_calendar","hiddenFields","id,billing_address,mailing_address,holds_address,ill_address",3,"mode","hideBanner","preloadLinkedValues","fieldOptions","record","recordId","showDelete","recordSaved","recordDeleted",4,"ngIf"],["idlClass","aou","displayMode","inline","readonlyFields","parent,parent_ou","fieldOrder","parent_ou,ou_type,name,shortname,phone,email,opac_visible,fiscal_calendar","hiddenFields","id,billing_address,mailing_address,holds_address,ill_address",3,"mode","hideBanner","preloadLinkedValues","fieldOptions","record","recordId","showDelete","recordSaved","recordDeleted"],["editDialog",""],["buttonCss","btn-outline-info",3,"disabled","actionClick",6,"label"],[1,"mt-2","common-form","striped-even"],[1,"row","font-weight-bold","mb-2"],[1,"col-lg-3","offset-lg-2"],[1,"col-lg-3"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","d-flex","justify-content-end"],["class","alert alert-warning mr-2 p-1",4,"ngIf"],[1,"mr-2"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-info",3,"click"],[1,"col-lg-2"],[1,"row","mb-2"],[1,"col-lg-2",3,"ngSwitch"],[4,"ngSwitchCase"],["type","time","step","60","min","00:00:00","max","23:59:59",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-dark",3,"disabled","click"],[1,"alert","alert-warning","mr-2","p-1"],[3,"orgId","addrChange"]],template:function(e,t){if(1&e&&(g.Rb(0,"eg-staff-banner",0),g.Xb(1,B),g.Qb(),g.Kc(2,W,1,0,"ng-template",null,1,g.Lc),g.Mb(4,"eg-string",2,3),g.Kc(6,j,1,0,"ng-template",null,4,g.Lc),g.Mb(8,"eg-string",2,5),g.Rb(10,"eg-confirm-dialog",6,7),g.Xb(12,M),g.Qb(),g.Kc(13,Z,1,1,"ng-template",null,8,g.Lc),g.Mb(15,"eg-string",9,10),g.Rb(17,"div",11),g.Rb(18,"div",12),g.Rb(19,"h3"),g.Vb(20,D),g.Qb(),g.Rb(21,"eg-tree",13),g.fc("nodeClicked",(function(e){return t.nodeClicked(e)})),g.Qb(),g.Qb(),g.Rb(22,"div",14),g.Rb(23,"div",15),g.Kc(24,q,3,2,"div",16),g.Qb(),g.Kc(25,ze,11,2,"ngb-tabset",17),g.Qb(),g.Qb()),2&e){const e=g.zc(3),n=g.zc(7),i=g.zc(14);g.xb(4),g.oc("template",e),g.xb(4),g.oc("template",n),g.xb(2),g.Zb(t.selected?t.selected.label:""),g.Wb(12),g.xb(5),g.oc("template",i),g.xb(6),g.oc("tree",t.tree),g.xb(3),g.oc("ngIf",t.currentOrg()),g.xb(1),g.oc("ngIf",t.currentOrg())}},directives:[p.a,u.a,f.a,m.a,C.v,v.W,v.T,v.U,O.a,w,C.u,C.z,C.A,y.c,y.t,y.w,K],encapsulation:2}),e})()}];let Le=(()=>{class e{}return e.\u0275mod=g.Jb({type:e}),e.\u0275inj=g.Ib({factory:function(t){return new(t||e)},imports:[[o.g.forChild(ke)],o.g]}),e})(),Ke=(()=>{class e{}return e.\u0275mod=g.Jb({type:e}),e.\u0275inj=g.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[r.a,Le,i.a]]}),e})()}}]);