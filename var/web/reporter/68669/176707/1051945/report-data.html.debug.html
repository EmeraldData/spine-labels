<html><head><meta charset='utf-8'><title>DEBUG: test opac payment 6-9 with DC2</title></head><body><h1>Generated SQL</h1><pre>SELECT * FROM (SELECT	"2fba6895e3b95c8e311666d0e8c243cb"."shortname" AS "Library Receiving Payment",
	"2ed14f7a771a3e0d9afdf271614247e2"."shortname" AS "Item-Owning Library",
	"588bc483fd97f3945eab29f2daf080cb"."barcode" AS "Patron Barcode",
	"f8673f032e87d533b6f18c54fd7b15a2"."last_billing_note" AS "Last Billing Note",
	"379254aff37da471bdf2bdf0c407e586"."first_given_name" AS "First Name",
	"379254aff37da471bdf2bdf0c407e586"."second_given_name" AS "Middle Name",
	"379254aff37da471bdf2bdf0c407e586"."family_name" AS "Last Name",
	"2343919e3d697fc9e5a447952686eac8"."id" AS "Bill #",
	date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") AS "Payment Date",
	"f8673f032e87d533b6f18c54fd7b15a2"."last_payment_note" AS "Last Payment Note"
  FROM	money.credit_card_payment AS "b27fa2c9836b0e0aca9dd6e1a27ac044"
	INNER JOIN money.billable_xact AS "2343919e3d697fc9e5a447952686eac8" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."xact" = "2343919e3d697fc9e5a447952686eac8"."id")
	INNER JOIN money.materialized_billable_xact_summary AS "f8673f032e87d533b6f18c54fd7b15a2" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "f8673f032e87d533b6f18c54fd7b15a2"."id")
	INNER JOIN actor.usr AS "379254aff37da471bdf2bdf0c407e586" ON ("2343919e3d697fc9e5a447952686eac8"."usr" = "379254aff37da471bdf2bdf0c407e586"."id")
	INNER JOIN actor.card AS "588bc483fd97f3945eab29f2daf080cb" ON ("379254aff37da471bdf2bdf0c407e586"."card" = "588bc483fd97f3945eab29f2daf080cb"."id")
	INNER JOIN action.circulation AS "67efd3520f8b5644d70d5ec0b9bbdb5c" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "67efd3520f8b5644d70d5ec0b9bbdb5c"."id")
	INNER JOIN asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba" ON ("67efd3520f8b5644d70d5ec0b9bbdb5c"."target_copy" = "ba6bd3b37b8e15f615ad51e1e87502ba"."id")
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")
	INNER JOIN money.billing AS "d8660a7e6615416a025e8163b4f716cf" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "d8660a7e6615416a025e8163b4f716cf"."xact")
	INNER JOIN config.billing_type AS "dd443e81e6f9130c6e95815f086654ee" ON ("d8660a7e6615416a025e8163b4f716cf"."btype" = "dd443e81e6f9130c6e95815f086654ee"."id")
	INNER JOIN money.payment_view AS "3aca099d9a5406728ed99a8a34cddb92" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."id" = "3aca099d9a5406728ed99a8a34cddb92"."id")
	INNER JOIN actor.usr AS "d4efd8a6eb4e6069135ebc98c8a04134" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."accepting_usr" = "d4efd8a6eb4e6069135ebc98c8a04134"."id")
	INNER JOIN actor.org_unit AS "2fba6895e3b95c8e311666d0e8c243cb" ON ("d4efd8a6eb4e6069135ebc98c8a04134"."home_ou" = "2fba6895e3b95c8e311666d0e8c243cb"."id")
  WHERE	"b27fa2c9836b0e0aca9dd6e1a27ac044"."cash_drawer" is NULL
	AND date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") BETWEEN $_36017$2020-06-05$_36017$ AND $_36017$2020-06-09$_36017$
	AND "2fba6895e3b95c8e311666d0e8c243cb"."id" NOT IN ($_36017$165$_36017$,$_36017$166$_36017$,$_36017$167$_36017$,$_36017$176$_36017$,$_36017$375$_36017$,$_36017$352$_36017$,$_36017$168$_36017$,$_36017$358$_36017$,$_36017$349$_36017$,$_36017$169$_36017$,$_36017$164$_36017$,$_36017$170$_36017$,$_36017$171$_36017$,$_36017$320$_36017$,$_36017$172$_36017$,$_36017$173$_36017$,$_36017$174$_36017$,$_36017$372$_36017$,$_36017$175$_36017$,$_36017$319$_36017$)
	AND "2ed14f7a771a3e0d9afdf271614247e2"."id" IN ($_36017$165$_36017$,$_36017$166$_36017$,$_36017$167$_36017$,$_36017$176$_36017$,$_36017$375$_36017$,$_36017$352$_36017$,$_36017$168$_36017$,$_36017$358$_36017$,$_36017$349$_36017$,$_36017$169$_36017$,$_36017$164$_36017$,$_36017$170$_36017$,$_36017$171$_36017$,$_36017$320$_36017$,$_36017$172$_36017$,$_36017$173$_36017$,$_36017$174$_36017$,$_36017$372$_36017$,$_36017$175$_36017$,$_36017$319$_36017$)
	AND "dd443e81e6f9130c6e95815f086654ee"."id" IN ($_36017$7$_36017$,$_36017$8$_36017$,$_36017$106$_36017$,$_36017$2$_36017$,$_36017$148$_36017$,$_36017$10$_36017$,$_36017$11$_36017$,$_36017$162$_36017$,$_36017$3$_36017$,$_36017$4$_36017$,$_36017$161$_36017$)
	AND "3aca099d9a5406728ed99a8a34cddb92"."voided" = $_36017$f$_36017$
  GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
  ORDER BY "2fba6895e3b95c8e311666d0e8c243cb"."shortname" ASC, "2ed14f7a771a3e0d9afdf271614247e2"."shortname" ASC, "588bc483fd97f3945eab29f2daf080cb"."barcode" ASC, "f8673f032e87d533b6f18c54fd7b15a2"."last_billing_note" ASC, "379254aff37da471bdf2bdf0c407e586"."first_given_name" ASC, "379254aff37da471bdf2bdf0c407e586"."second_given_name" ASC, "379254aff37da471bdf2bdf0c407e586"."family_name" ASC, "2343919e3d697fc9e5a447952686eac8"."id" ASC, date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") ASC, "f8673f032e87d533b6f18c54fd7b15a2"."last_payment_note" ASC
) limited_to_1048575_hits LIMIT 1048575
</pre><a href='report-data.html'>Back to output index</a><hr/><h1>Template</h1><pre>$VAR1 = {
          'id' => 68669,
          'create_time' => '2019-08-16 10:34:25-04',
          'owner' => 3983472,
          'description' => 'This report identifies specific bills on patron accounts where an OPAC credit card payment was applied another library on behalf of your owning library for one of the following types of bills: Lost Materials, Lost Materials Processing Fee, Long Overdue Materials, Long Overdue Processing Fee, Damaged Materials, Collections Agency Fees.

To Use: Choose YOUR library/libraries for both "Library Receiving Payment" and "Item Owning Library" options.

____________________________________________________________________

Uses Credit Card Payment source. Nullability selection enabled.

Displayed Fields:

Credit Card Payment -> (None) accepting_usr -> (None) Home Library -> Short (Policy) Name as "Library Receiving Payment"
Credit Card Payment -> (None) xact -> (None) Circulation Billing Link -> (None) Circulating Item -> (None) Call Number/Volume -> (None) Owning Library -> Short (Policy) Name as "Item-Owning Library"
Credit Card Payment -> (None) Billable Transaction -> (None) User -> (None) Current Library Card -> Barcode as "Patron Barcode"
Credit Card Payment -> (None) Billable Transaction -> Payment Summary -> Last Billing Note
Credit Card Payment -> (None) Billable Transaction -> (None) User -> First Name
Credit Card Payment -> (None) Billable Transaction -> (None) User -> Middle Name
Credit Card Payment -> (None) Billable Transaction -> (None) User -> Last Name
Credit Card Payment -> (None) Billable Transaction -> Transaction ID as "Bill #"
Credit Card Payment -> (None) Billable Transaction -> Payment Date/Time as "Payment Date" (Field Transform to Date)
Credit Card Payment -> (None) Billable Transaction -> (None) Payment Summary -> Last Billing Note

Base Filters:

Credit Card Payment -> cash_drawer (Is NULL)
Credit Card Payment -> (None) accepting_usr -> (None) Home Library -> Organizational Unit ID (Not In list)
Credit Card Payment -> (None) xact -> (None) Circulation Billing Link -> (None) Circulating Item -> (None) Call Number/Volume -> (None) Owning Library -> Organizational Unit ID (In list)
Credit Card Payment -> payment_ts (Date) (Between)
Credit Card Payment -> (None) Payment -> Voided? (Equals) (False)
Credit Card Payment -> (None) Billable Transaction -> (None) Billing Line Items -> (None) Type -> ID (In list) ("2, 3, 4, 10, 11, 106")

Billing Types:

7 = Damaged Item
8 = Damaged Item Processing Fee
106 = Damaged Material
2 = Long Overdue Collection Fee
148 = Long Overdue Items
10 = Long-Overdue Materials
11 = Long-Overdue Materials Processing Fee
162 = Lost Items Processing Fee
3 = Lost Materials
4 = Lost Materials Processing Fee
161 = Lost items',
          'name' => 'Invoice Report: OPAC Payments',
          'folder' => 2787,
          'data' => '{"version":4,"doc_url":"","core_class":"mccp","select":[{"alias":"Library Receiving Payment","field_doc":"","column":{"colname":"shortname","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-accepting_usr>inner-au-home_ou>inner-aou-shortname","relation":"2fba6895e3b95c8e311666d0e8c243cb"},{"alias":"Item-Owning Library","field_doc":"","column":{"colname":"shortname","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-shortname","relation":"2ed14f7a771a3e0d9afdf271614247e2"},{"alias":"Patron Barcode","field_doc":"","column":{"colname":"barcode","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-card>inner-ac-barcode","relation":"588bc483fd97f3945eab29f2daf080cb"},{"alias":"Last Billing Note","field_doc":"","column":{"colname":"last_billing_note","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-summary>inner-mbts-last_billing_note","relation":"f8673f032e87d533b6f18c54fd7b15a2"},{"alias":"First Name","field_doc":"","column":{"colname":"first_given_name","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-first_given_name","relation":"379254aff37da471bdf2bdf0c407e586"},{"alias":"Middle Name","field_doc":"","column":{"colname":"second_given_name","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-second_given_name","relation":"379254aff37da471bdf2bdf0c407e586"},{"alias":"Last Name","field_doc":"","column":{"colname":"family_name","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-family_name","relation":"379254aff37da471bdf2bdf0c407e586"},{"alias":"Bill #","field_doc":"","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-id","relation":"2343919e3d697fc9e5a447952686eac8"},{"alias":"Payment Date","field_doc":"","column":{"colname":"payment_ts","transform":"date","transform_label":"Date"},"path":"mccp-payment_ts","relation":"b27fa2c9836b0e0aca9dd6e1a27ac044"},{"alias":"Last Payment Note","field_doc":"","column":{"colname":"last_payment_note","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-summary>inner-mbts-last_payment_note","relation":"f8673f032e87d533b6f18c54fd7b15a2"}],"from":{"path":"mccp-payment","table":"money.credit_card_payment","label":"Credit Card Payment","alias":"b27fa2c9836b0e0aca9dd6e1a27ac044","idlclass":"mccp","template_path":"mccp","join":{"accepting_usr-b27fa2c9836b0e0aca9dd6e1a27ac044":{"key":"id","type":"inner","path":"mccp-accepting_usr-au-home_ou","table":"actor.usr","alias":"d4efd8a6eb4e6069135ebc98c8a04134","join":{"home_ou-d4efd8a6eb4e6069135ebc98c8a04134":{"key":"id","type":"inner","path":"mccp-accepting_usr-au-home_ou-aou","table":"actor.org_unit","label":"Credit Card Payment -> ILS User :: Home Library (inner)","alias":"2fba6895e3b95c8e311666d0e8c243cb","idlclass":"aou","template_path":"mccp-accepting_usr>inner.au-home_ou>inner"}}},"xact-b27fa2c9836b0e0aca9dd6e1a27ac044":{"key":"id","type":"inner","path":"mccp-xact-mbt-summary","table":"money.billable_xact","alias":"2343919e3d697fc9e5a447952686eac8","join":{"id-circ-id-1db93687c57d6995a39a7b0e9bced128":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy","table":"action.circulation","alias":"67efd3520f8b5644d70d5ec0b9bbdb5c","join":{"target_copy-67efd3520f8b5644d70d5ec0b9bbdb5c":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy-acp-call_number","table":"asset.copy","alias":"ba6bd3b37b8e15f615ad51e1e87502ba","join":{"call_number-ba6bd3b37b8e15f615ad51e1e87502ba":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib","table":"asset.call_number","alias":"b2928f30a98075ec403c153e1e1edbbf","join":{"owning_lib-b2928f30a98075ec403c153e1e1edbbf":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib-aou","table":"actor.org_unit","label":"Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)","alias":"2ed14f7a771a3e0d9afdf271614247e2","idlclass":"aou","template_path":"mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner"}}}}}}},"usr-1db93687c57d6995a39a7b0e9bced128":{"key":"id","type":"inner","path":"mccp-xact-mbt-usr-au","table":"actor.usr","alias":"379254aff37da471bdf2bdf0c407e586","join":{"card-7189f83d072941f48182c23faec7966f":{"key":"id","type":"inner","path":"mccp-xact-mbt-usr-au-card-ac","table":"actor.card","label":"Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)","alias":"588bc483fd97f3945eab29f2daf080cb","idlclass":"ac","template_path":"mccp-xact>inner.mbt-usr>inner.au-card>inner"}},"label":"Credit Card Payment -> Billable Transaction :: User (inner)","idlclass":"au","template_path":"mccp-xact>inner.mbt-usr>inner"},"id-mb-xact-2343919e3d697fc9e5a447952686eac8":{"key":"xact","type":"inner","path":"mccp-xact-mbt-billings-mb-btype","table":"money.billing","alias":"d8660a7e6615416a025e8163b4f716cf","join":{"btype-d8660a7e6615416a025e8163b4f716cf":{"key":"id","type":"inner","path":"mccp-xact-mbt-billings-mb-btype-cbt","table":"config.billing_type","label":"Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)","alias":"dd443e81e6f9130c6e95815f086654ee","idlclass":"cbt","template_path":"mccp-xact>inner.mbt-billings>inner.mb-btype>inner"}}},"id-mbts-id-2343919e3d697fc9e5a447952686eac8":{"key":"id","type":"inner","path":"mccp-xact-mbt-summary-mbts","table":"money.materialized_billable_xact_summary","label":"Credit Card Payment -> Billable Transaction :: Payment Summary (inner)","alias":"f8673f032e87d533b6f18c54fd7b15a2","idlclass":"mbts","template_path":"mccp-xact>inner.mbt-summary>inner"}},"label":"Credit Card Payment :: xact (inner)","idlclass":"mbt","template_path":"mccp-xact>inner"},"id-mp-id-b27fa2c9836b0e0aca9dd6e1a27ac044":{"key":"id","type":"inner","path":"mccp-payment-mp","table":"money.payment_view","label":"Credit Card Payment :: payment (inner)","alias":"3aca099d9a5406728ed99a8a34cddb92","idlclass":"mp","template_path":"mccp-payment>inner"}}},"where":[{"alias":"cash_drawer","field_doc":"","column":{"colname":"cash_drawer","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-cash_drawer","relation":"b27fa2c9836b0e0aca9dd6e1a27ac044","condition":{"is":null}},{"alias":"payment_ts","field_doc":"Payment Date","column":{"colname":"payment_ts","transform":"date","transform_label":"Date"},"path":"mccp-payment_ts","relation":"b27fa2c9836b0e0aca9dd6e1a27ac044","condition":{"between":"::P0"}},{"alias":"Organizational Unit ID","field_doc":"Library Receiving Payment","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-accepting_usr>inner-au-home_ou>inner-aou-id","relation":"2fba6895e3b95c8e311666d0e8c243cb","condition":{"not in":"::P1"}},{"alias":"Organizational Unit ID","field_doc":"Item-Owning Library","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-id","relation":"2ed14f7a771a3e0d9afdf271614247e2","condition":{"in":"::P2"}},{"alias":"ID","field_doc":"","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-billings>inner-mb-btype>inner-cbt-id","relation":"dd443e81e6f9130c6e95815f086654ee","condition":{"in":["7","8","106","2","148","10","11","162","3","4","161"]}},{"alias":"Voided?","field_doc":"","column":{"colname":"voided","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-payment>inner-mp-voided","relation":"3aca099d9a5406728ed99a8a34cddb92","condition":{"=":"f"}}],"having":[],"order_by":[],"rel_cache":{"order_by":[{"relation":"2fba6895e3b95c8e311666d0e8c243cb","field":"shortname"},{"relation":"2ed14f7a771a3e0d9afdf271614247e2","field":"shortname"},{"relation":"588bc483fd97f3945eab29f2daf080cb","field":"barcode"},{"relation":"f8673f032e87d533b6f18c54fd7b15a2","field":"last_billing_note"},{"relation":"379254aff37da471bdf2bdf0c407e586","field":"first_given_name"},{"relation":"379254aff37da471bdf2bdf0c407e586","field":"second_given_name"},{"relation":"379254aff37da471bdf2bdf0c407e586","field":"family_name"},{"relation":"2343919e3d697fc9e5a447952686eac8","field":"id"},{"relation":"b27fa2c9836b0e0aca9dd6e1a27ac044","field":"payment_ts"},{"relation":"f8673f032e87d533b6f18c54fd7b15a2","field":"last_payment_note"}],"b27fa2c9836b0e0aca9dd6e1a27ac044":{"label":"Credit Card Payment","alias":"b27fa2c9836b0e0aca9dd6e1a27ac044","path":"mccp","join":"","reltype":"","idlclass":"mccp","table":"money.credit_card_payment","fields":{"dis_tab":{"payment_ts":{"colname":"payment_ts","transform":"date","aggregate":null,"params":null,"transform_label":"Date","alias":"Payment Date","field_doc":"","join":"","datatype":"timestamp","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{"cash_drawer":{"colname":"cash_drawer","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"cash_drawer","field_doc":"","join":"","datatype":"link","op":"is","op_label":"Is NULL","op_value":{}},"payment_ts":{"colname":"payment_ts","transform":"date","aggregate":null,"params":null,"transform_label":"Date","alias":"payment_ts","field_doc":"Payment Date","join":"","datatype":"timestamp","op":"between","op_label":"Between","op_value":{}}},"aggfilter_tab":{}}},"2fba6895e3b95c8e311666d0e8c243cb":{"label":"Credit Card Payment -> ILS User :: Home Library (inner)","alias":"2fba6895e3b95c8e311666d0e8c243cb","path":"mccp-accepting_usr>inner.au-home_ou>inner","join":"","reltype":"has_a","idlclass":"aou","table":"actor.org_unit","fields":{"dis_tab":{"shortname":{"colname":"shortname","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Library Receiving Payment","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Organizational Unit ID","field_doc":"Library Receiving Payment","join":"","datatype":"org_unit","op":"not in","op_label":"Not in list","op_value":{}}},"aggfilter_tab":{}}},"2ed14f7a771a3e0d9afdf271614247e2":{"label":"Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)","alias":"2ed14f7a771a3e0d9afdf271614247e2","path":"mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner","join":"","reltype":"has_a","idlclass":"aou","table":"actor.org_unit","fields":{"dis_tab":{"shortname":{"colname":"shortname","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Item-Owning Library","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Organizational Unit ID","field_doc":"Item-Owning Library","join":"","datatype":"org_unit","op":"in","op_label":"In list","op_value":{}}},"aggfilter_tab":{}}},"588bc483fd97f3945eab29f2daf080cb":{"label":"Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)","alias":"588bc483fd97f3945eab29f2daf080cb","path":"mccp-xact>inner.mbt-usr>inner.au-card>inner","join":"","reltype":"has_a","idlclass":"ac","table":"actor.card","fields":{"dis_tab":{"barcode":{"colname":"barcode","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Patron Barcode","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"379254aff37da471bdf2bdf0c407e586":{"label":"Credit Card Payment -> Billable Transaction :: User (inner)","alias":"379254aff37da471bdf2bdf0c407e586","path":"mccp-xact>inner.mbt-usr>inner","join":"","reltype":"has_a","idlclass":"au","table":"actor.usr","fields":{"dis_tab":{"first_given_name":{"colname":"first_given_name","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"First Name","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}},"second_given_name":{"colname":"second_given_name","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Middle Name","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}},"family_name":{"colname":"family_name","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Last Name","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"2343919e3d697fc9e5a447952686eac8":{"label":"Credit Card Payment :: xact (inner)","alias":"2343919e3d697fc9e5a447952686eac8","path":"mccp-xact>inner","join":"","reltype":"has_a","idlclass":"mbt","table":"money.billable_xact","fields":{"dis_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Bill #","field_doc":"","join":"","datatype":"id","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"dd443e81e6f9130c6e95815f086654ee":{"label":"Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)","alias":"dd443e81e6f9130c6e95815f086654ee","path":"mccp-xact>inner.mbt-billings>inner.mb-btype>inner","join":"","reltype":"has_a","idlclass":"cbt","table":"config.billing_type","fields":{"dis_tab":{},"filter_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"ID","field_doc":"","join":"","datatype":"id","op":"in","op_label":"In list","op_value":{"value":["7","8","106","2","148","10","11","162","3","4","161"],"label":"\\"7,8,106,2,148,10,11,162,3,4,161\\""}}},"aggfilter_tab":{}}},"f8673f032e87d533b6f18c54fd7b15a2":{"label":"Credit Card Payment -> Billable Transaction :: Payment Summary (inner)","alias":"f8673f032e87d533b6f18c54fd7b15a2","path":"mccp-xact>inner.mbt-summary>inner","join":"","reltype":"might_have","idlclass":"mbts","table":"money.materialized_billable_xact_summary","fields":{"dis_tab":{"last_billing_note":{"colname":"last_billing_note","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Last Billing Note","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}},"last_payment_note":{"colname":"last_payment_note","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Last Payment Note","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"3aca099d9a5406728ed99a8a34cddb92":{"label":"Credit Card Payment :: payment (inner)","alias":"3aca099d9a5406728ed99a8a34cddb92","path":"mccp-payment>inner","join":"","reltype":"might_have","idlclass":"mp","table":"money.payment_view","fields":{"dis_tab":{},"filter_tab":{"voided":{"colname":"voided","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Voided?","field_doc":"","join":"","datatype":"bool","op":"=","op_label":"Equals","op_value":{"value":"f","label":"False"}}},"aggfilter_tab":{}}}}}'
        };
</pre><a href='report-data.html'>Back to output index</a><hr/><h1>Template Data</h1><pre>$VAR1 = {
          'version' => 4,
          'from' => {
                      'path' => 'mccp-payment',
                      'template_path' => 'mccp',
                      'alias' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                      'join' => {
                                  'xact-b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                               'table' => 'money.billable_xact',
                                                                               'key' => 'id',
                                                                               'template_path' => 'mccp-xact>inner',
                                                                               'label' => 'Credit Card Payment :: xact (inner)',
                                                                               'type' => 'inner',
                                                                               'idlclass' => 'mbt',
                                                                               'alias' => '2343919e3d697fc9e5a447952686eac8',
                                                                               'join' => {
                                                                                           'id-mbts-id-2343919e3d697fc9e5a447952686eac8' => {
                                                                                                                                              'label' => 'Credit Card Payment -> Billable Transaction :: Payment Summary (inner)',
                                                                                                                                              'type' => 'inner',
                                                                                                                                              'idlclass' => 'mbts',
                                                                                                                                              'alias' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                                                                                                                              'path' => 'mccp-xact-mbt-summary-mbts',
                                                                                                                                              'table' => 'money.materialized_billable_xact_summary',
                                                                                                                                              'template_path' => 'mccp-xact>inner.mbt-summary>inner',
                                                                                                                                              'key' => 'id'
                                                                                                                                            },
                                                                                           'id-circ-id-1db93687c57d6995a39a7b0e9bced128' => {
                                                                                                                                              'alias' => '67efd3520f8b5644d70d5ec0b9bbdb5c',
                                                                                                                                              'join' => {
                                                                                                                                                          'target_copy-67efd3520f8b5644d70d5ec0b9bbdb5c' => {
                                                                                                                                                                                                              'join' => {
                                                                                                                                                                                                                          'call_number-ba6bd3b37b8e15f615ad51e1e87502ba' => {
                                                                                                                                                                                                                                                                              'path' => 'mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib',
                                                                                                                                                                                                                                                                              'key' => 'id',
                                                                                                                                                                                                                                                                              'join' => {
                                                                                                                                                                                                                                                                                          'owning_lib-b2928f30a98075ec403c153e1e1edbbf' => {
                                                                                                                                                                                                                                                                                                                                             'template_path' => 'mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner',
                                                                                                                                                                                                                                                                                                                                             'key' => 'id',
                                                                                                                                                                                                                                                                                                                                             'table' => 'actor.org_unit',
                                                                                                                                                                                                                                                                                                                                             'path' => 'mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib-aou',
                                                                                                                                                                                                                                                                                                                                             'alias' => '2ed14f7a771a3e0d9afdf271614247e2',
                                                                                                                                                                                                                                                                                                                                             'type' => 'inner',
                                                                                                                                                                                                                                                                                                                                             'idlclass' => 'aou',
                                                                                                                                                                                                                                                                                                                                             'label' => 'Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)'
                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                              'alias' => 'b2928f30a98075ec403c153e1e1edbbf',
                                                                                                                                                                                                                                                                              'type' => 'inner',
                                                                                                                                                                                                                                                                              'table' => 'asset.call_number'
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        },
                                                                                                                                                                                                              'alias' => 'ba6bd3b37b8e15f615ad51e1e87502ba',
                                                                                                                                                                                                              'key' => 'id',
                                                                                                                                                                                                              'path' => 'mccp-xact-mbt-circulation-circ-target_copy-acp-call_number',
                                                                                                                                                                                                              'table' => 'asset.copy',
                                                                                                                                                                                                              'type' => 'inner'
                                                                                                                                                                                                            }
                                                                                                                                                        },
                                                                                                                                              'path' => 'mccp-xact-mbt-circulation-circ-target_copy',
                                                                                                                                              'key' => 'id',
                                                                                                                                              'type' => 'inner',
                                                                                                                                              'table' => 'action.circulation'
                                                                                                                                            },
                                                                                           'usr-1db93687c57d6995a39a7b0e9bced128' => {
                                                                                                                                       'table' => 'actor.usr',
                                                                                                                                       'key' => 'id',
                                                                                                                                       'template_path' => 'mccp-xact>inner.mbt-usr>inner',
                                                                                                                                       'label' => 'Credit Card Payment -> Billable Transaction :: User (inner)',
                                                                                                                                       'idlclass' => 'au',
                                                                                                                                       'type' => 'inner',
                                                                                                                                       'join' => {
                                                                                                                                                   'card-7189f83d072941f48182c23faec7966f' => {
                                                                                                                                                                                                'alias' => '588bc483fd97f3945eab29f2daf080cb',
                                                                                                                                                                                                'path' => 'mccp-xact-mbt-usr-au-card-ac',
                                                                                                                                                                                                'label' => 'Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)',
                                                                                                                                                                                                'idlclass' => 'ac',
                                                                                                                                                                                                'type' => 'inner',
                                                                                                                                                                                                'key' => 'id',
                                                                                                                                                                                                'template_path' => 'mccp-xact>inner.mbt-usr>inner.au-card>inner',
                                                                                                                                                                                                'table' => 'actor.card'
                                                                                                                                                                                              }
                                                                                                                                                 },
                                                                                                                                       'alias' => '379254aff37da471bdf2bdf0c407e586',
                                                                                                                                       'path' => 'mccp-xact-mbt-usr-au'
                                                                                                                                     },
                                                                                           'id-mb-xact-2343919e3d697fc9e5a447952686eac8' => {
                                                                                                                                              'alias' => 'd8660a7e6615416a025e8163b4f716cf',
                                                                                                                                              'join' => {
                                                                                                                                                          'btype-d8660a7e6615416a025e8163b4f716cf' => {
                                                                                                                                                                                                        'alias' => 'dd443e81e6f9130c6e95815f086654ee',
                                                                                                                                                                                                        'path' => 'mccp-xact-mbt-billings-mb-btype-cbt',
                                                                                                                                                                                                        'label' => 'Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)',
                                                                                                                                                                                                        'idlclass' => 'cbt',
                                                                                                                                                                                                        'type' => 'inner',
                                                                                                                                                                                                        'template_path' => 'mccp-xact>inner.mbt-billings>inner.mb-btype>inner',
                                                                                                                                                                                                        'key' => 'id',
                                                                                                                                                                                                        'table' => 'config.billing_type'
                                                                                                                                                                                                      }
                                                                                                                                                        },
                                                                                                                                              'path' => 'mccp-xact-mbt-billings-mb-btype',
                                                                                                                                              'key' => 'xact',
                                                                                                                                              'type' => 'inner',
                                                                                                                                              'table' => 'money.billing'
                                                                                                                                            }
                                                                                         },
                                                                               'path' => 'mccp-xact-mbt-summary'
                                                                             },
                                  'id-mp-id-b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                                   'label' => 'Credit Card Payment :: payment (inner)',
                                                                                   'type' => 'inner',
                                                                                   'idlclass' => 'mp',
                                                                                   'alias' => '3aca099d9a5406728ed99a8a34cddb92',
                                                                                   'path' => 'mccp-payment-mp',
                                                                                   'table' => 'money.payment_view',
                                                                                   'template_path' => 'mccp-payment>inner',
                                                                                   'key' => 'id'
                                                                                 },
                                  'accepting_usr-b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                                        'table' => 'actor.usr',
                                                                                        'type' => 'inner',
                                                                                        'key' => 'id',
                                                                                        'path' => 'mccp-accepting_usr-au-home_ou',
                                                                                        'join' => {
                                                                                                    'home_ou-d4efd8a6eb4e6069135ebc98c8a04134' => {
                                                                                                                                                    'path' => 'mccp-accepting_usr-au-home_ou-aou',
                                                                                                                                                    'alias' => '2fba6895e3b95c8e311666d0e8c243cb',
                                                                                                                                                    'idlclass' => 'aou',
                                                                                                                                                    'type' => 'inner',
                                                                                                                                                    'label' => 'Credit Card Payment -> ILS User :: Home Library (inner)',
                                                                                                                                                    'key' => 'id',
                                                                                                                                                    'template_path' => 'mccp-accepting_usr>inner.au-home_ou>inner',
                                                                                                                                                    'table' => 'actor.org_unit'
                                                                                                                                                  }
                                                                                                  },
                                                                                        'alias' => 'd4efd8a6eb4e6069135ebc98c8a04134'
                                                                                      }
                                },
                      'table' => 'money.credit_card_payment',
                      'idlclass' => 'mccp',
                      'label' => 'Credit Card Payment'
                    },
          'order_by' => [],
          'where' => [
                       {
                         'alias' => 'cash_drawer',
                         'field_doc' => '',
                         'path' => 'mccp-cash_drawer',
                         'condition' => {
                                          'is' => undef
                                        },
                         'column' => {
                                       'colname' => 'cash_drawer',
                                       'transform' => 'Bare',
                                       'transform_label' => 'Raw Data'
                                     },
                         'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                       },
                       {
                         'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                         'column' => {
                                       'transform_label' => 'Date',
                                       'transform' => 'date',
                                       'colname' => 'payment_ts'
                                     },
                         'condition' => {
                                          'between' => '::P0'
                                        },
                         'field_doc' => 'Payment Date',
                         'path' => 'mccp-payment_ts',
                         'alias' => 'payment_ts'
                       },
                       {
                         'alias' => 'Organizational Unit ID',
                         'path' => 'mccp-accepting_usr>inner-au-home_ou>inner-aou-id',
                         'field_doc' => 'Library Receiving Payment',
                         'condition' => {
                                          'not in' => '::P1'
                                        },
                         'column' => {
                                       'colname' => 'id',
                                       'transform' => 'Bare',
                                       'transform_label' => 'Raw Data'
                                     },
                         'relation' => '2fba6895e3b95c8e311666d0e8c243cb'
                       },
                       {
                         'alias' => 'Organizational Unit ID',
                         'path' => 'mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-id',
                         'field_doc' => 'Item-Owning Library',
                         'condition' => {
                                          'in' => '::P2'
                                        },
                         'column' => {
                                       'transform_label' => 'Raw Data',
                                       'colname' => 'id',
                                       'transform' => 'Bare'
                                     },
                         'relation' => '2ed14f7a771a3e0d9afdf271614247e2'
                       },
                       {
                         'alias' => 'ID',
                         'path' => 'mccp-xact>inner-mbt-billings>inner-mb-btype>inner-cbt-id',
                         'field_doc' => '',
                         'condition' => {
                                          'in' => [
                                                    '7',
                                                    '8',
                                                    '106',
                                                    '2',
                                                    '148',
                                                    '10',
                                                    '11',
                                                    '162',
                                                    '3',
                                                    '4',
                                                    '161'
                                                  ]
                                        },
                         'relation' => 'dd443e81e6f9130c6e95815f086654ee',
                         'column' => {
                                       'colname' => 'id',
                                       'transform' => 'Bare',
                                       'transform_label' => 'Raw Data'
                                     }
                       },
                       {
                         'field_doc' => '',
                         'path' => 'mccp-payment>inner-mp-voided',
                         'alias' => 'Voided?',
                         'column' => {
                                       'transform' => 'Bare',
                                       'colname' => 'voided',
                                       'transform_label' => 'Raw Data'
                                     },
                         'relation' => '3aca099d9a5406728ed99a8a34cddb92',
                         'condition' => {
                                          '=' => 'f'
                                        }
                       }
                     ],
          'doc_url' => '',
          'rel_cache' => {
                           '2343919e3d697fc9e5a447952686eac8' => {
                                                                   'path' => 'mccp-xact>inner',
                                                                   'fields' => {
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'id' => {
                                                                                                          'colname' => 'id',
                                                                                                          'field_doc' => '',
                                                                                                          'op_value' => {},
                                                                                                          'transform_label' => 'Raw Data',
                                                                                                          'alias' => 'Bill #',
                                                                                                          'params' => undef,
                                                                                                          'join' => '',
                                                                                                          'datatype' => 'id',
                                                                                                          'transform' => 'Bare',
                                                                                                          'aggregate' => undef,
                                                                                                          'op' => '=',
                                                                                                          'op_label' => 'Equals'
                                                                                                        }
                                                                                              },
                                                                                 'filter_tab' => {}
                                                                               },
                                                                   'alias' => '2343919e3d697fc9e5a447952686eac8',
                                                                   'join' => '',
                                                                   'idlclass' => 'mbt',
                                                                   'label' => 'Credit Card Payment :: xact (inner)',
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'money.billable_xact'
                                                                 },
                           'dd443e81e6f9130c6e95815f086654ee' => {
                                                                   'label' => 'Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)',
                                                                   'idlclass' => 'cbt',
                                                                   'join' => '',
                                                                   'alias' => 'dd443e81e6f9130c6e95815f086654ee',
                                                                   'fields' => {
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {},
                                                                                 'filter_tab' => {
                                                                                                   'id' => {
                                                                                                             'datatype' => 'id',
                                                                                                             'join' => '',
                                                                                                             'params' => undef,
                                                                                                             'alias' => 'ID',
                                                                                                             'aggregate' => undef,
                                                                                                             'transform' => 'Bare',
                                                                                                             'op' => 'in',
                                                                                                             'op_label' => 'In list',
                                                                                                             'colname' => 'id',
                                                                                                             'field_doc' => '',
                                                                                                             'op_value' => {
                                                                                                                             'label' => '"7,8,106,2,148,10,11,162,3,4,161"',
                                                                                                                             'value' => [
                                                                                                                                          '7',
                                                                                                                                          '8',
                                                                                                                                          '106',
                                                                                                                                          '2',
                                                                                                                                          '148',
                                                                                                                                          '10',
                                                                                                                                          '11',
                                                                                                                                          '162',
                                                                                                                                          '3',
                                                                                                                                          '4',
                                                                                                                                          '161'
                                                                                                                                        ]
                                                                                                                           },
                                                                                                             'transform_label' => 'Raw Data'
                                                                                                           }
                                                                                                 }
                                                                               },
                                                                   'path' => 'mccp-xact>inner.mbt-billings>inner.mb-btype>inner',
                                                                   'table' => 'config.billing_type',
                                                                   'reltype' => 'has_a'
                                                                 },
                           '2ed14f7a771a3e0d9afdf271614247e2' => {
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'actor.org_unit',
                                                                   'join' => '',
                                                                   'alias' => '2ed14f7a771a3e0d9afdf271614247e2',
                                                                   'fields' => {
                                                                                 'dis_tab' => {
                                                                                                'shortname' => {
                                                                                                                 'aggregate' => undef,
                                                                                                                 'transform' => 'Bare',
                                                                                                                 'join' => '',
                                                                                                                 'datatype' => 'text',
                                                                                                                 'params' => undef,
                                                                                                                 'alias' => 'Item-Owning Library',
                                                                                                                 'op_label' => 'Equals',
                                                                                                                 'op' => '=',
                                                                                                                 'field_doc' => '',
                                                                                                                 'colname' => 'shortname',
                                                                                                                 'transform_label' => 'Raw Data',
                                                                                                                 'op_value' => {}
                                                                                                               }
                                                                                              },
                                                                                 'aggfilter_tab' => {},
                                                                                 'filter_tab' => {
                                                                                                   'id' => {
                                                                                                             'params' => undef,
                                                                                                             'alias' => 'Organizational Unit ID',
                                                                                                             'join' => '',
                                                                                                             'datatype' => 'org_unit',
                                                                                                             'transform' => 'Bare',
                                                                                                             'aggregate' => undef,
                                                                                                             'op' => 'in',
                                                                                                             'op_label' => 'In list',
                                                                                                             'colname' => 'id',
                                                                                                             'field_doc' => 'Item-Owning Library',
                                                                                                             'op_value' => {},
                                                                                                             'transform_label' => 'Raw Data'
                                                                                                           }
                                                                                                 }
                                                                               },
                                                                   'path' => 'mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner',
                                                                   'label' => 'Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)',
                                                                   'idlclass' => 'aou'
                                                                 },
                           'f8673f032e87d533b6f18c54fd7b15a2' => {
                                                                   'reltype' => 'might_have',
                                                                   'table' => 'money.materialized_billable_xact_summary',
                                                                   'alias' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                                                   'join' => '',
                                                                   'path' => 'mccp-xact>inner.mbt-summary>inner',
                                                                   'fields' => {
                                                                                 'filter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'last_billing_note' => {
                                                                                                                         'op_value' => {},
                                                                                                                         'transform_label' => 'Raw Data',
                                                                                                                         'colname' => 'last_billing_note',
                                                                                                                         'field_doc' => '',
                                                                                                                         'op' => '=',
                                                                                                                         'op_label' => 'Equals',
                                                                                                                         'datatype' => 'text',
                                                                                                                         'join' => '',
                                                                                                                         'alias' => 'Last Billing Note',
                                                                                                                         'params' => undef,
                                                                                                                         'aggregate' => undef,
                                                                                                                         'transform' => 'Bare'
                                                                                                                       },
                                                                                                'last_payment_note' => {
                                                                                                                         'op_label' => 'Equals',
                                                                                                                         'op' => '=',
                                                                                                                         'transform' => 'Bare',
                                                                                                                         'aggregate' => undef,
                                                                                                                         'params' => undef,
                                                                                                                         'alias' => 'Last Payment Note',
                                                                                                                         'datatype' => 'text',
                                                                                                                         'join' => '',
                                                                                                                         'transform_label' => 'Raw Data',
                                                                                                                         'op_value' => {},
                                                                                                                         'field_doc' => '',
                                                                                                                         'colname' => 'last_payment_note'
                                                                                                                       }
                                                                                              },
                                                                                 'aggfilter_tab' => {}
                                                                               },
                                                                   'label' => 'Credit Card Payment -> Billable Transaction :: Payment Summary (inner)',
                                                                   'idlclass' => 'mbts'
                                                                 },
                           'order_by' => [
                                           {
                                             'field' => 'shortname',
                                             'relation' => '2fba6895e3b95c8e311666d0e8c243cb'
                                           },
                                           {
                                             'relation' => '2ed14f7a771a3e0d9afdf271614247e2',
                                             'field' => 'shortname'
                                           },
                                           {
                                             'relation' => '588bc483fd97f3945eab29f2daf080cb',
                                             'field' => 'barcode'
                                           },
                                           {
                                             'field' => 'last_billing_note',
                                             'relation' => 'f8673f032e87d533b6f18c54fd7b15a2'
                                           },
                                           {
                                             'field' => 'first_given_name',
                                             'relation' => '379254aff37da471bdf2bdf0c407e586'
                                           },
                                           {
                                             'field' => 'second_given_name',
                                             'relation' => '379254aff37da471bdf2bdf0c407e586'
                                           },
                                           {
                                             'relation' => '379254aff37da471bdf2bdf0c407e586',
                                             'field' => 'family_name'
                                           },
                                           {
                                             'relation' => '2343919e3d697fc9e5a447952686eac8',
                                             'field' => 'id'
                                           },
                                           {
                                             'field' => 'payment_ts',
                                             'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                                           },
                                           {
                                             'relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                             'field' => 'last_payment_note'
                                           }
                                         ],
                           '379254aff37da471bdf2bdf0c407e586' => {
                                                                   'label' => 'Credit Card Payment -> Billable Transaction :: User (inner)',
                                                                   'idlclass' => 'au',
                                                                   'alias' => '379254aff37da471bdf2bdf0c407e586',
                                                                   'join' => '',
                                                                   'path' => 'mccp-xact>inner.mbt-usr>inner',
                                                                   'fields' => {
                                                                                 'dis_tab' => {
                                                                                                'family_name' => {
                                                                                                                   'transform_label' => 'Raw Data',
                                                                                                                   'op_value' => {},
                                                                                                                   'field_doc' => '',
                                                                                                                   'colname' => 'family_name',
                                                                                                                   'op_label' => 'Equals',
                                                                                                                   'op' => '=',
                                                                                                                   'aggregate' => undef,
                                                                                                                   'transform' => 'Bare',
                                                                                                                   'join' => '',
                                                                                                                   'datatype' => 'text',
                                                                                                                   'params' => undef,
                                                                                                                   'alias' => 'Last Name'
                                                                                                                 },
                                                                                                'second_given_name' => {
                                                                                                                         'colname' => 'second_given_name',
                                                                                                                         'field_doc' => '',
                                                                                                                         'op_value' => {},
                                                                                                                         'transform_label' => 'Raw Data',
                                                                                                                         'join' => '',
                                                                                                                         'datatype' => 'text',
                                                                                                                         'alias' => 'Middle Name',
                                                                                                                         'params' => undef,
                                                                                                                         'aggregate' => undef,
                                                                                                                         'transform' => 'Bare',
                                                                                                                         'op' => '=',
                                                                                                                         'op_label' => 'Equals'
                                                                                                                       },
                                                                                                'first_given_name' => {
                                                                                                                        'colname' => 'first_given_name',
                                                                                                                        'field_doc' => '',
                                                                                                                        'op_value' => {},
                                                                                                                        'transform_label' => 'Raw Data',
                                                                                                                        'alias' => 'First Name',
                                                                                                                        'params' => undef,
                                                                                                                        'datatype' => 'text',
                                                                                                                        'join' => '',
                                                                                                                        'transform' => 'Bare',
                                                                                                                        'aggregate' => undef,
                                                                                                                        'op' => '=',
                                                                                                                        'op_label' => 'Equals'
                                                                                                                      }
                                                                                              },
                                                                                 'aggfilter_tab' => {},
                                                                                 'filter_tab' => {}
                                                                               },
                                                                   'table' => 'actor.usr',
                                                                   'reltype' => 'has_a'
                                                                 },
                           '3aca099d9a5406728ed99a8a34cddb92' => {
                                                                   'reltype' => 'might_have',
                                                                   'table' => 'money.payment_view',
                                                                   'fields' => {
                                                                                 'filter_tab' => {
                                                                                                   'voided' => {
                                                                                                                 'colname' => 'voided',
                                                                                                                 'field_doc' => '',
                                                                                                                 'op_value' => {
                                                                                                                                 'value' => 'f',
                                                                                                                                 'label' => 'False'
                                                                                                                               },
                                                                                                                 'transform_label' => 'Raw Data',
                                                                                                                 'join' => '',
                                                                                                                 'datatype' => 'bool',
                                                                                                                 'params' => undef,
                                                                                                                 'alias' => 'Voided?',
                                                                                                                 'aggregate' => undef,
                                                                                                                 'transform' => 'Bare',
                                                                                                                 'op' => '=',
                                                                                                                 'op_label' => 'Equals'
                                                                                                               }
                                                                                                 },
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {}
                                                                               },
                                                                   'path' => 'mccp-payment>inner',
                                                                   'join' => '',
                                                                   'alias' => '3aca099d9a5406728ed99a8a34cddb92',
                                                                   'idlclass' => 'mp',
                                                                   'label' => 'Credit Card Payment :: payment (inner)'
                                                                 },
                           '2fba6895e3b95c8e311666d0e8c243cb' => {
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'actor.org_unit',
                                                                   'join' => '',
                                                                   'alias' => '2fba6895e3b95c8e311666d0e8c243cb',
                                                                   'fields' => {
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'shortname' => {
                                                                                                                 'transform_label' => 'Raw Data',
                                                                                                                 'op_value' => {},
                                                                                                                 'field_doc' => '',
                                                                                                                 'colname' => 'shortname',
                                                                                                                 'op_label' => 'Equals',
                                                                                                                 'op' => '=',
                                                                                                                 'transform' => 'Bare',
                                                                                                                 'aggregate' => undef,
                                                                                                                 'alias' => 'Library Receiving Payment',
                                                                                                                 'params' => undef,
                                                                                                                 'join' => '',
                                                                                                                 'datatype' => 'text'
                                                                                                               }
                                                                                              },
                                                                                 'filter_tab' => {
                                                                                                   'id' => {
                                                                                                             'transform_label' => 'Raw Data',
                                                                                                             'op_value' => {},
                                                                                                             'field_doc' => 'Library Receiving Payment',
                                                                                                             'colname' => 'id',
                                                                                                             'op_label' => 'Not in list',
                                                                                                             'op' => 'not in',
                                                                                                             'transform' => 'Bare',
                                                                                                             'aggregate' => undef,
                                                                                                             'params' => undef,
                                                                                                             'alias' => 'Organizational Unit ID',
                                                                                                             'datatype' => 'org_unit',
                                                                                                             'join' => ''
                                                                                                           }
                                                                                                 }
                                                                               },
                                                                   'path' => 'mccp-accepting_usr>inner.au-home_ou>inner',
                                                                   'label' => 'Credit Card Payment -> ILS User :: Home Library (inner)',
                                                                   'idlclass' => 'aou'
                                                                 },
                           'b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                   'table' => 'money.credit_card_payment',
                                                                   'reltype' => '',
                                                                   'label' => 'Credit Card Payment',
                                                                   'idlclass' => 'mccp',
                                                                   'join' => '',
                                                                   'alias' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                                                                   'fields' => {
                                                                                 'filter_tab' => {
                                                                                                   'cash_drawer' => {
                                                                                                                      'op_value' => {},
                                                                                                                      'transform_label' => 'Raw Data',
                                                                                                                      'colname' => 'cash_drawer',
                                                                                                                      'field_doc' => '',
                                                                                                                      'op' => 'is',
                                                                                                                      'op_label' => 'Is NULL',
                                                                                                                      'datatype' => 'link',
                                                                                                                      'join' => '',
                                                                                                                      'params' => undef,
                                                                                                                      'alias' => 'cash_drawer',
                                                                                                                      'aggregate' => undef,
                                                                                                                      'transform' => 'Bare'
                                                                                                                    },
                                                                                                   'payment_ts' => {
                                                                                                                     'transform_label' => 'Date',
                                                                                                                     'op_value' => {},
                                                                                                                     'field_doc' => 'Payment Date',
                                                                                                                     'colname' => 'payment_ts',
                                                                                                                     'op_label' => 'Between',
                                                                                                                     'op' => 'between',
                                                                                                                     'transform' => 'date',
                                                                                                                     'aggregate' => undef,
                                                                                                                     'alias' => 'payment_ts',
                                                                                                                     'params' => undef,
                                                                                                                     'datatype' => 'timestamp',
                                                                                                                     'join' => ''
                                                                                                                   }
                                                                                                 },
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'payment_ts' => {
                                                                                                                  'op' => '=',
                                                                                                                  'op_label' => 'Equals',
                                                                                                                  'join' => '',
                                                                                                                  'datatype' => 'timestamp',
                                                                                                                  'alias' => 'Payment Date',
                                                                                                                  'params' => undef,
                                                                                                                  'aggregate' => undef,
                                                                                                                  'transform' => 'date',
                                                                                                                  'op_value' => {},
                                                                                                                  'transform_label' => 'Date',
                                                                                                                  'colname' => 'payment_ts',
                                                                                                                  'field_doc' => ''
                                                                                                                }
                                                                                              }
                                                                               },
                                                                   'path' => 'mccp'
                                                                 },
                           '588bc483fd97f3945eab29f2daf080cb' => {
                                                                   'join' => '',
                                                                   'alias' => '588bc483fd97f3945eab29f2daf080cb',
                                                                   'fields' => {
                                                                                 'filter_tab' => {},
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'barcode' => {
                                                                                                               'colname' => 'barcode',
                                                                                                               'field_doc' => '',
                                                                                                               'op_value' => {},
                                                                                                               'transform_label' => 'Raw Data',
                                                                                                               'alias' => 'Patron Barcode',
                                                                                                               'params' => undef,
                                                                                                               'datatype' => 'text',
                                                                                                               'join' => '',
                                                                                                               'transform' => 'Bare',
                                                                                                               'aggregate' => undef,
                                                                                                               'op' => '=',
                                                                                                               'op_label' => 'Equals'
                                                                                                             }
                                                                                              }
                                                                               },
                                                                   'path' => 'mccp-xact>inner.mbt-usr>inner.au-card>inner',
                                                                   'label' => 'Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)',
                                                                   'idlclass' => 'ac',
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'actor.card'
                                                                 }
                         },
          'having' => [],
          'core_class' => 'mccp',
          'select' => [
                        {
                          'column' => {
                                        'colname' => 'shortname',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '2fba6895e3b95c8e311666d0e8c243cb',
                          'field_doc' => '',
                          'path' => 'mccp-accepting_usr>inner-au-home_ou>inner-aou-shortname',
                          'alias' => 'Library Receiving Payment'
                        },
                        {
                          'alias' => 'Item-Owning Library',
                          'path' => 'mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-shortname',
                          'field_doc' => '',
                          'column' => {
                                        'colname' => 'shortname',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '2ed14f7a771a3e0d9afdf271614247e2'
                        },
                        {
                          'field_doc' => '',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-card>inner-ac-barcode',
                          'alias' => 'Patron Barcode',
                          'relation' => '588bc483fd97f3945eab29f2daf080cb',
                          'column' => {
                                        'transform' => 'Bare',
                                        'colname' => 'barcode',
                                        'transform_label' => 'Raw Data'
                                      }
                        },
                        {
                          'relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                          'column' => {
                                        'colname' => 'last_billing_note',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'field_doc' => '',
                          'path' => 'mccp-xact>inner-mbt-summary>inner-mbts-last_billing_note',
                          'alias' => 'Last Billing Note'
                        },
                        {
                          'column' => {
                                        'transform' => 'Bare',
                                        'colname' => 'first_given_name',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '379254aff37da471bdf2bdf0c407e586',
                          'field_doc' => '',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-first_given_name',
                          'alias' => 'First Name'
                        },
                        {
                          'alias' => 'Middle Name',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-second_given_name',
                          'field_doc' => '',
                          'column' => {
                                        'transform_label' => 'Raw Data',
                                        'transform' => 'Bare',
                                        'colname' => 'second_given_name'
                                      },
                          'relation' => '379254aff37da471bdf2bdf0c407e586'
                        },
                        {
                          'alias' => 'Last Name',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-family_name',
                          'field_doc' => '',
                          'column' => {
                                        'transform' => 'Bare',
                                        'colname' => 'family_name',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '379254aff37da471bdf2bdf0c407e586'
                        },
                        {
                          'alias' => 'Bill #',
                          'path' => 'mccp-xact>inner-mbt-id',
                          'field_doc' => '',
                          'column' => {
                                        'colname' => 'id',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '2343919e3d697fc9e5a447952686eac8'
                        },
                        {
                          'field_doc' => '',
                          'path' => 'mccp-payment_ts',
                          'alias' => 'Payment Date',
                          'column' => {
                                        'transform_label' => 'Date',
                                        'colname' => 'payment_ts',
                                        'transform' => 'date'
                                      },
                          'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                        },
                        {
                          'alias' => 'Last Payment Note',
                          'path' => 'mccp-xact>inner-mbt-summary>inner-mbts-last_payment_note',
                          'field_doc' => '',
                          'column' => {
                                        'transform_label' => 'Raw Data',
                                        'transform' => 'Bare',
                                        'colname' => 'last_payment_note'
                                      },
                          'relation' => 'f8673f032e87d533b6f18c54fd7b15a2'
                        }
                      ]
        };
</pre><a href='report-data.html'>Back to output index</a><hr/><h1>Report Parameter</h1><pre>$VAR1 = {
          'id' => 176707,
          'description' => '',
          'recurrence' => undef,
          'data' => '{"P0":["2020-06-05","2020-06-09"],"P1":["165","166","167","176","375","352","168","358","349","169","164","170","171","320","172","173","174","372","175","319"],"P2":["165","166","167","176","375","352","168","358","349","169","164","170","171","320","172","173","174","372","175","319"]}',
          'folder' => 5139,
          'template' => {
                          'id' => 68669,
                          'create_time' => '2019-08-16 10:34:25-04',
                          'owner' => 3983472,
                          'description' => 'This report identifies specific bills on patron accounts where an OPAC credit card payment was applied another library on behalf of your owning library for one of the following types of bills: Lost Materials, Lost Materials Processing Fee, Long Overdue Materials, Long Overdue Processing Fee, Damaged Materials, Collections Agency Fees.

To Use: Choose YOUR library/libraries for both "Library Receiving Payment" and "Item Owning Library" options.

____________________________________________________________________

Uses Credit Card Payment source. Nullability selection enabled.

Displayed Fields:

Credit Card Payment -> (None) accepting_usr -> (None) Home Library -> Short (Policy) Name as "Library Receiving Payment"
Credit Card Payment -> (None) xact -> (None) Circulation Billing Link -> (None) Circulating Item -> (None) Call Number/Volume -> (None) Owning Library -> Short (Policy) Name as "Item-Owning Library"
Credit Card Payment -> (None) Billable Transaction -> (None) User -> (None) Current Library Card -> Barcode as "Patron Barcode"
Credit Card Payment -> (None) Billable Transaction -> Payment Summary -> Last Billing Note
Credit Card Payment -> (None) Billable Transaction -> (None) User -> First Name
Credit Card Payment -> (None) Billable Transaction -> (None) User -> Middle Name
Credit Card Payment -> (None) Billable Transaction -> (None) User -> Last Name
Credit Card Payment -> (None) Billable Transaction -> Transaction ID as "Bill #"
Credit Card Payment -> (None) Billable Transaction -> Payment Date/Time as "Payment Date" (Field Transform to Date)
Credit Card Payment -> (None) Billable Transaction -> (None) Payment Summary -> Last Billing Note

Base Filters:

Credit Card Payment -> cash_drawer (Is NULL)
Credit Card Payment -> (None) accepting_usr -> (None) Home Library -> Organizational Unit ID (Not In list)
Credit Card Payment -> (None) xact -> (None) Circulation Billing Link -> (None) Circulating Item -> (None) Call Number/Volume -> (None) Owning Library -> Organizational Unit ID (In list)
Credit Card Payment -> payment_ts (Date) (Between)
Credit Card Payment -> (None) Payment -> Voided? (Equals) (False)
Credit Card Payment -> (None) Billable Transaction -> (None) Billing Line Items -> (None) Type -> ID (In list) ("2, 3, 4, 10, 11, 106")

Billing Types:

7 = Damaged Item
8 = Damaged Item Processing Fee
106 = Damaged Material
2 = Long Overdue Collection Fee
148 = Long Overdue Items
10 = Long-Overdue Materials
11 = Long-Overdue Materials Processing Fee
162 = Lost Items Processing Fee
3 = Lost Materials
4 = Lost Materials Processing Fee
161 = Lost items',
                          'name' => 'Invoice Report: OPAC Payments',
                          'folder' => 2787,
                          'data' => '{"version":4,"doc_url":"","core_class":"mccp","select":[{"alias":"Library Receiving Payment","field_doc":"","column":{"colname":"shortname","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-accepting_usr>inner-au-home_ou>inner-aou-shortname","relation":"2fba6895e3b95c8e311666d0e8c243cb"},{"alias":"Item-Owning Library","field_doc":"","column":{"colname":"shortname","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-shortname","relation":"2ed14f7a771a3e0d9afdf271614247e2"},{"alias":"Patron Barcode","field_doc":"","column":{"colname":"barcode","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-card>inner-ac-barcode","relation":"588bc483fd97f3945eab29f2daf080cb"},{"alias":"Last Billing Note","field_doc":"","column":{"colname":"last_billing_note","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-summary>inner-mbts-last_billing_note","relation":"f8673f032e87d533b6f18c54fd7b15a2"},{"alias":"First Name","field_doc":"","column":{"colname":"first_given_name","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-first_given_name","relation":"379254aff37da471bdf2bdf0c407e586"},{"alias":"Middle Name","field_doc":"","column":{"colname":"second_given_name","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-second_given_name","relation":"379254aff37da471bdf2bdf0c407e586"},{"alias":"Last Name","field_doc":"","column":{"colname":"family_name","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-usr>inner-au-family_name","relation":"379254aff37da471bdf2bdf0c407e586"},{"alias":"Bill #","field_doc":"","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-id","relation":"2343919e3d697fc9e5a447952686eac8"},{"alias":"Payment Date","field_doc":"","column":{"colname":"payment_ts","transform":"date","transform_label":"Date"},"path":"mccp-payment_ts","relation":"b27fa2c9836b0e0aca9dd6e1a27ac044"},{"alias":"Last Payment Note","field_doc":"","column":{"colname":"last_payment_note","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-summary>inner-mbts-last_payment_note","relation":"f8673f032e87d533b6f18c54fd7b15a2"}],"from":{"path":"mccp-payment","table":"money.credit_card_payment","label":"Credit Card Payment","alias":"b27fa2c9836b0e0aca9dd6e1a27ac044","idlclass":"mccp","template_path":"mccp","join":{"accepting_usr-b27fa2c9836b0e0aca9dd6e1a27ac044":{"key":"id","type":"inner","path":"mccp-accepting_usr-au-home_ou","table":"actor.usr","alias":"d4efd8a6eb4e6069135ebc98c8a04134","join":{"home_ou-d4efd8a6eb4e6069135ebc98c8a04134":{"key":"id","type":"inner","path":"mccp-accepting_usr-au-home_ou-aou","table":"actor.org_unit","label":"Credit Card Payment -> ILS User :: Home Library (inner)","alias":"2fba6895e3b95c8e311666d0e8c243cb","idlclass":"aou","template_path":"mccp-accepting_usr>inner.au-home_ou>inner"}}},"xact-b27fa2c9836b0e0aca9dd6e1a27ac044":{"key":"id","type":"inner","path":"mccp-xact-mbt-summary","table":"money.billable_xact","alias":"2343919e3d697fc9e5a447952686eac8","join":{"id-circ-id-1db93687c57d6995a39a7b0e9bced128":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy","table":"action.circulation","alias":"67efd3520f8b5644d70d5ec0b9bbdb5c","join":{"target_copy-67efd3520f8b5644d70d5ec0b9bbdb5c":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy-acp-call_number","table":"asset.copy","alias":"ba6bd3b37b8e15f615ad51e1e87502ba","join":{"call_number-ba6bd3b37b8e15f615ad51e1e87502ba":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib","table":"asset.call_number","alias":"b2928f30a98075ec403c153e1e1edbbf","join":{"owning_lib-b2928f30a98075ec403c153e1e1edbbf":{"key":"id","type":"inner","path":"mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib-aou","table":"actor.org_unit","label":"Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)","alias":"2ed14f7a771a3e0d9afdf271614247e2","idlclass":"aou","template_path":"mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner"}}}}}}},"usr-1db93687c57d6995a39a7b0e9bced128":{"key":"id","type":"inner","path":"mccp-xact-mbt-usr-au","table":"actor.usr","alias":"379254aff37da471bdf2bdf0c407e586","join":{"card-7189f83d072941f48182c23faec7966f":{"key":"id","type":"inner","path":"mccp-xact-mbt-usr-au-card-ac","table":"actor.card","label":"Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)","alias":"588bc483fd97f3945eab29f2daf080cb","idlclass":"ac","template_path":"mccp-xact>inner.mbt-usr>inner.au-card>inner"}},"label":"Credit Card Payment -> Billable Transaction :: User (inner)","idlclass":"au","template_path":"mccp-xact>inner.mbt-usr>inner"},"id-mb-xact-2343919e3d697fc9e5a447952686eac8":{"key":"xact","type":"inner","path":"mccp-xact-mbt-billings-mb-btype","table":"money.billing","alias":"d8660a7e6615416a025e8163b4f716cf","join":{"btype-d8660a7e6615416a025e8163b4f716cf":{"key":"id","type":"inner","path":"mccp-xact-mbt-billings-mb-btype-cbt","table":"config.billing_type","label":"Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)","alias":"dd443e81e6f9130c6e95815f086654ee","idlclass":"cbt","template_path":"mccp-xact>inner.mbt-billings>inner.mb-btype>inner"}}},"id-mbts-id-2343919e3d697fc9e5a447952686eac8":{"key":"id","type":"inner","path":"mccp-xact-mbt-summary-mbts","table":"money.materialized_billable_xact_summary","label":"Credit Card Payment -> Billable Transaction :: Payment Summary (inner)","alias":"f8673f032e87d533b6f18c54fd7b15a2","idlclass":"mbts","template_path":"mccp-xact>inner.mbt-summary>inner"}},"label":"Credit Card Payment :: xact (inner)","idlclass":"mbt","template_path":"mccp-xact>inner"},"id-mp-id-b27fa2c9836b0e0aca9dd6e1a27ac044":{"key":"id","type":"inner","path":"mccp-payment-mp","table":"money.payment_view","label":"Credit Card Payment :: payment (inner)","alias":"3aca099d9a5406728ed99a8a34cddb92","idlclass":"mp","template_path":"mccp-payment>inner"}}},"where":[{"alias":"cash_drawer","field_doc":"","column":{"colname":"cash_drawer","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-cash_drawer","relation":"b27fa2c9836b0e0aca9dd6e1a27ac044","condition":{"is":null}},{"alias":"payment_ts","field_doc":"Payment Date","column":{"colname":"payment_ts","transform":"date","transform_label":"Date"},"path":"mccp-payment_ts","relation":"b27fa2c9836b0e0aca9dd6e1a27ac044","condition":{"between":"::P0"}},{"alias":"Organizational Unit ID","field_doc":"Library Receiving Payment","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-accepting_usr>inner-au-home_ou>inner-aou-id","relation":"2fba6895e3b95c8e311666d0e8c243cb","condition":{"not in":"::P1"}},{"alias":"Organizational Unit ID","field_doc":"Item-Owning Library","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-id","relation":"2ed14f7a771a3e0d9afdf271614247e2","condition":{"in":"::P2"}},{"alias":"ID","field_doc":"","column":{"colname":"id","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-xact>inner-mbt-billings>inner-mb-btype>inner-cbt-id","relation":"dd443e81e6f9130c6e95815f086654ee","condition":{"in":["7","8","106","2","148","10","11","162","3","4","161"]}},{"alias":"Voided?","field_doc":"","column":{"colname":"voided","transform":"Bare","transform_label":"Raw Data"},"path":"mccp-payment>inner-mp-voided","relation":"3aca099d9a5406728ed99a8a34cddb92","condition":{"=":"f"}}],"having":[],"order_by":[],"rel_cache":{"order_by":[{"relation":"2fba6895e3b95c8e311666d0e8c243cb","field":"shortname"},{"relation":"2ed14f7a771a3e0d9afdf271614247e2","field":"shortname"},{"relation":"588bc483fd97f3945eab29f2daf080cb","field":"barcode"},{"relation":"f8673f032e87d533b6f18c54fd7b15a2","field":"last_billing_note"},{"relation":"379254aff37da471bdf2bdf0c407e586","field":"first_given_name"},{"relation":"379254aff37da471bdf2bdf0c407e586","field":"second_given_name"},{"relation":"379254aff37da471bdf2bdf0c407e586","field":"family_name"},{"relation":"2343919e3d697fc9e5a447952686eac8","field":"id"},{"relation":"b27fa2c9836b0e0aca9dd6e1a27ac044","field":"payment_ts"},{"relation":"f8673f032e87d533b6f18c54fd7b15a2","field":"last_payment_note"}],"b27fa2c9836b0e0aca9dd6e1a27ac044":{"label":"Credit Card Payment","alias":"b27fa2c9836b0e0aca9dd6e1a27ac044","path":"mccp","join":"","reltype":"","idlclass":"mccp","table":"money.credit_card_payment","fields":{"dis_tab":{"payment_ts":{"colname":"payment_ts","transform":"date","aggregate":null,"params":null,"transform_label":"Date","alias":"Payment Date","field_doc":"","join":"","datatype":"timestamp","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{"cash_drawer":{"colname":"cash_drawer","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"cash_drawer","field_doc":"","join":"","datatype":"link","op":"is","op_label":"Is NULL","op_value":{}},"payment_ts":{"colname":"payment_ts","transform":"date","aggregate":null,"params":null,"transform_label":"Date","alias":"payment_ts","field_doc":"Payment Date","join":"","datatype":"timestamp","op":"between","op_label":"Between","op_value":{}}},"aggfilter_tab":{}}},"2fba6895e3b95c8e311666d0e8c243cb":{"label":"Credit Card Payment -> ILS User :: Home Library (inner)","alias":"2fba6895e3b95c8e311666d0e8c243cb","path":"mccp-accepting_usr>inner.au-home_ou>inner","join":"","reltype":"has_a","idlclass":"aou","table":"actor.org_unit","fields":{"dis_tab":{"shortname":{"colname":"shortname","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Library Receiving Payment","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Organizational Unit ID","field_doc":"Library Receiving Payment","join":"","datatype":"org_unit","op":"not in","op_label":"Not in list","op_value":{}}},"aggfilter_tab":{}}},"2ed14f7a771a3e0d9afdf271614247e2":{"label":"Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)","alias":"2ed14f7a771a3e0d9afdf271614247e2","path":"mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner","join":"","reltype":"has_a","idlclass":"aou","table":"actor.org_unit","fields":{"dis_tab":{"shortname":{"colname":"shortname","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Item-Owning Library","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Organizational Unit ID","field_doc":"Item-Owning Library","join":"","datatype":"org_unit","op":"in","op_label":"In list","op_value":{}}},"aggfilter_tab":{}}},"588bc483fd97f3945eab29f2daf080cb":{"label":"Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)","alias":"588bc483fd97f3945eab29f2daf080cb","path":"mccp-xact>inner.mbt-usr>inner.au-card>inner","join":"","reltype":"has_a","idlclass":"ac","table":"actor.card","fields":{"dis_tab":{"barcode":{"colname":"barcode","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Patron Barcode","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"379254aff37da471bdf2bdf0c407e586":{"label":"Credit Card Payment -> Billable Transaction :: User (inner)","alias":"379254aff37da471bdf2bdf0c407e586","path":"mccp-xact>inner.mbt-usr>inner","join":"","reltype":"has_a","idlclass":"au","table":"actor.usr","fields":{"dis_tab":{"first_given_name":{"colname":"first_given_name","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"First Name","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}},"second_given_name":{"colname":"second_given_name","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Middle Name","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}},"family_name":{"colname":"family_name","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Last Name","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"2343919e3d697fc9e5a447952686eac8":{"label":"Credit Card Payment :: xact (inner)","alias":"2343919e3d697fc9e5a447952686eac8","path":"mccp-xact>inner","join":"","reltype":"has_a","idlclass":"mbt","table":"money.billable_xact","fields":{"dis_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Bill #","field_doc":"","join":"","datatype":"id","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"dd443e81e6f9130c6e95815f086654ee":{"label":"Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)","alias":"dd443e81e6f9130c6e95815f086654ee","path":"mccp-xact>inner.mbt-billings>inner.mb-btype>inner","join":"","reltype":"has_a","idlclass":"cbt","table":"config.billing_type","fields":{"dis_tab":{},"filter_tab":{"id":{"colname":"id","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"ID","field_doc":"","join":"","datatype":"id","op":"in","op_label":"In list","op_value":{"value":["7","8","106","2","148","10","11","162","3","4","161"],"label":"\\"7,8,106,2,148,10,11,162,3,4,161\\""}}},"aggfilter_tab":{}}},"f8673f032e87d533b6f18c54fd7b15a2":{"label":"Credit Card Payment -> Billable Transaction :: Payment Summary (inner)","alias":"f8673f032e87d533b6f18c54fd7b15a2","path":"mccp-xact>inner.mbt-summary>inner","join":"","reltype":"might_have","idlclass":"mbts","table":"money.materialized_billable_xact_summary","fields":{"dis_tab":{"last_billing_note":{"colname":"last_billing_note","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Last Billing Note","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}},"last_payment_note":{"colname":"last_payment_note","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Last Payment Note","field_doc":"","join":"","datatype":"text","op":"=","op_label":"Equals","op_value":{}}},"filter_tab":{},"aggfilter_tab":{}}},"3aca099d9a5406728ed99a8a34cddb92":{"label":"Credit Card Payment :: payment (inner)","alias":"3aca099d9a5406728ed99a8a34cddb92","path":"mccp-payment>inner","join":"","reltype":"might_have","idlclass":"mp","table":"money.payment_view","fields":{"dis_tab":{},"filter_tab":{"voided":{"colname":"voided","transform":"Bare","aggregate":null,"params":null,"transform_label":"Raw Data","alias":"Voided?","field_doc":"","join":"","datatype":"bool","op":"=","op_label":"Equals","op_value":{"value":"f","label":"False"}}},"aggfilter_tab":{}}}}}'
                        },
          'create_time' => '2020-06-09 19:49:20.9345-04',
          'recur' => 0,
          'owner' => 148221,
          'name' => 'test opac payment 6-9 with DC2'
        };
</pre><a href='report-data.html'>Back to output index</a><hr/><h1>Report Parameter Data</h1><pre>$VAR1 = {
          'version' => 4,
          'from' => {
                      'path' => 'mccp-payment',
                      'template_path' => 'mccp',
                      'alias' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                      'join' => {
                                  'xact-b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                               'table' => 'money.billable_xact',
                                                                               'key' => 'id',
                                                                               'template_path' => 'mccp-xact>inner',
                                                                               'label' => 'Credit Card Payment :: xact (inner)',
                                                                               'type' => 'inner',
                                                                               'idlclass' => 'mbt',
                                                                               'alias' => '2343919e3d697fc9e5a447952686eac8',
                                                                               'join' => {
                                                                                           'id-mbts-id-2343919e3d697fc9e5a447952686eac8' => {
                                                                                                                                              'label' => 'Credit Card Payment -> Billable Transaction :: Payment Summary (inner)',
                                                                                                                                              'type' => 'inner',
                                                                                                                                              'idlclass' => 'mbts',
                                                                                                                                              'alias' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                                                                                                                              'path' => 'mccp-xact-mbt-summary-mbts',
                                                                                                                                              'table' => 'money.materialized_billable_xact_summary',
                                                                                                                                              'template_path' => 'mccp-xact>inner.mbt-summary>inner',
                                                                                                                                              'key' => 'id'
                                                                                                                                            },
                                                                                           'id-circ-id-1db93687c57d6995a39a7b0e9bced128' => {
                                                                                                                                              'alias' => '67efd3520f8b5644d70d5ec0b9bbdb5c',
                                                                                                                                              'join' => {
                                                                                                                                                          'target_copy-67efd3520f8b5644d70d5ec0b9bbdb5c' => {
                                                                                                                                                                                                              'join' => {
                                                                                                                                                                                                                          'call_number-ba6bd3b37b8e15f615ad51e1e87502ba' => {
                                                                                                                                                                                                                                                                              'path' => 'mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib',
                                                                                                                                                                                                                                                                              'key' => 'id',
                                                                                                                                                                                                                                                                              'join' => {
                                                                                                                                                                                                                                                                                          'owning_lib-b2928f30a98075ec403c153e1e1edbbf' => {
                                                                                                                                                                                                                                                                                                                                             'template_path' => 'mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner',
                                                                                                                                                                                                                                                                                                                                             'key' => 'id',
                                                                                                                                                                                                                                                                                                                                             'table' => 'actor.org_unit',
                                                                                                                                                                                                                                                                                                                                             'path' => 'mccp-xact-mbt-circulation-circ-target_copy-acp-call_number-acn-owning_lib-aou',
                                                                                                                                                                                                                                                                                                                                             'alias' => '2ed14f7a771a3e0d9afdf271614247e2',
                                                                                                                                                                                                                                                                                                                                             'type' => 'inner',
                                                                                                                                                                                                                                                                                                                                             'idlclass' => 'aou',
                                                                                                                                                                                                                                                                                                                                             'label' => 'Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)'
                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                              'alias' => 'b2928f30a98075ec403c153e1e1edbbf',
                                                                                                                                                                                                                                                                              'type' => 'inner',
                                                                                                                                                                                                                                                                              'table' => 'asset.call_number'
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        },
                                                                                                                                                                                                              'alias' => 'ba6bd3b37b8e15f615ad51e1e87502ba',
                                                                                                                                                                                                              'key' => 'id',
                                                                                                                                                                                                              'path' => 'mccp-xact-mbt-circulation-circ-target_copy-acp-call_number',
                                                                                                                                                                                                              'table' => 'asset.copy',
                                                                                                                                                                                                              'type' => 'inner'
                                                                                                                                                                                                            }
                                                                                                                                                        },
                                                                                                                                              'path' => 'mccp-xact-mbt-circulation-circ-target_copy',
                                                                                                                                              'key' => 'id',
                                                                                                                                              'type' => 'inner',
                                                                                                                                              'table' => 'action.circulation'
                                                                                                                                            },
                                                                                           'usr-1db93687c57d6995a39a7b0e9bced128' => {
                                                                                                                                       'table' => 'actor.usr',
                                                                                                                                       'key' => 'id',
                                                                                                                                       'template_path' => 'mccp-xact>inner.mbt-usr>inner',
                                                                                                                                       'label' => 'Credit Card Payment -> Billable Transaction :: User (inner)',
                                                                                                                                       'idlclass' => 'au',
                                                                                                                                       'type' => 'inner',
                                                                                                                                       'join' => {
                                                                                                                                                   'card-7189f83d072941f48182c23faec7966f' => {
                                                                                                                                                                                                'alias' => '588bc483fd97f3945eab29f2daf080cb',
                                                                                                                                                                                                'path' => 'mccp-xact-mbt-usr-au-card-ac',
                                                                                                                                                                                                'label' => 'Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)',
                                                                                                                                                                                                'idlclass' => 'ac',
                                                                                                                                                                                                'type' => 'inner',
                                                                                                                                                                                                'key' => 'id',
                                                                                                                                                                                                'template_path' => 'mccp-xact>inner.mbt-usr>inner.au-card>inner',
                                                                                                                                                                                                'table' => 'actor.card'
                                                                                                                                                                                              }
                                                                                                                                                 },
                                                                                                                                       'alias' => '379254aff37da471bdf2bdf0c407e586',
                                                                                                                                       'path' => 'mccp-xact-mbt-usr-au'
                                                                                                                                     },
                                                                                           'id-mb-xact-2343919e3d697fc9e5a447952686eac8' => {
                                                                                                                                              'alias' => 'd8660a7e6615416a025e8163b4f716cf',
                                                                                                                                              'join' => {
                                                                                                                                                          'btype-d8660a7e6615416a025e8163b4f716cf' => {
                                                                                                                                                                                                        'alias' => 'dd443e81e6f9130c6e95815f086654ee',
                                                                                                                                                                                                        'path' => 'mccp-xact-mbt-billings-mb-btype-cbt',
                                                                                                                                                                                                        'label' => 'Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)',
                                                                                                                                                                                                        'idlclass' => 'cbt',
                                                                                                                                                                                                        'type' => 'inner',
                                                                                                                                                                                                        'template_path' => 'mccp-xact>inner.mbt-billings>inner.mb-btype>inner',
                                                                                                                                                                                                        'key' => 'id',
                                                                                                                                                                                                        'table' => 'config.billing_type'
                                                                                                                                                                                                      }
                                                                                                                                                        },
                                                                                                                                              'path' => 'mccp-xact-mbt-billings-mb-btype',
                                                                                                                                              'key' => 'xact',
                                                                                                                                              'type' => 'inner',
                                                                                                                                              'table' => 'money.billing'
                                                                                                                                            }
                                                                                         },
                                                                               'path' => 'mccp-xact-mbt-summary'
                                                                             },
                                  'id-mp-id-b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                                   'label' => 'Credit Card Payment :: payment (inner)',
                                                                                   'type' => 'inner',
                                                                                   'idlclass' => 'mp',
                                                                                   'alias' => '3aca099d9a5406728ed99a8a34cddb92',
                                                                                   'path' => 'mccp-payment-mp',
                                                                                   'table' => 'money.payment_view',
                                                                                   'template_path' => 'mccp-payment>inner',
                                                                                   'key' => 'id'
                                                                                 },
                                  'accepting_usr-b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                                        'table' => 'actor.usr',
                                                                                        'type' => 'inner',
                                                                                        'key' => 'id',
                                                                                        'path' => 'mccp-accepting_usr-au-home_ou',
                                                                                        'join' => {
                                                                                                    'home_ou-d4efd8a6eb4e6069135ebc98c8a04134' => {
                                                                                                                                                    'path' => 'mccp-accepting_usr-au-home_ou-aou',
                                                                                                                                                    'alias' => '2fba6895e3b95c8e311666d0e8c243cb',
                                                                                                                                                    'idlclass' => 'aou',
                                                                                                                                                    'type' => 'inner',
                                                                                                                                                    'label' => 'Credit Card Payment -> ILS User :: Home Library (inner)',
                                                                                                                                                    'key' => 'id',
                                                                                                                                                    'template_path' => 'mccp-accepting_usr>inner.au-home_ou>inner',
                                                                                                                                                    'table' => 'actor.org_unit'
                                                                                                                                                  }
                                                                                                  },
                                                                                        'alias' => 'd4efd8a6eb4e6069135ebc98c8a04134'
                                                                                      }
                                },
                      'table' => 'money.credit_card_payment',
                      'idlclass' => 'mccp',
                      'label' => 'Credit Card Payment'
                    },
          'order_by' => [],
          'where' => [
                       {
                         'alias' => 'cash_drawer',
                         'field_doc' => '',
                         'path' => 'mccp-cash_drawer',
                         'condition' => {
                                          'is' => undef
                                        },
                         'column' => {
                                       'colname' => 'cash_drawer',
                                       'transform' => 'Bare',
                                       'transform_label' => 'Raw Data'
                                     },
                         'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                       },
                       {
                         'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                         'column' => {
                                       'transform_label' => 'Date',
                                       'transform' => 'date',
                                       'colname' => 'payment_ts'
                                     },
                         'condition' => {
                                          'between' => '::P0'
                                        },
                         'field_doc' => 'Payment Date',
                         'path' => 'mccp-payment_ts',
                         'alias' => 'payment_ts'
                       },
                       {
                         'alias' => 'Organizational Unit ID',
                         'path' => 'mccp-accepting_usr>inner-au-home_ou>inner-aou-id',
                         'field_doc' => 'Library Receiving Payment',
                         'condition' => {
                                          'not in' => '::P1'
                                        },
                         'column' => {
                                       'colname' => 'id',
                                       'transform' => 'Bare',
                                       'transform_label' => 'Raw Data'
                                     },
                         'relation' => '2fba6895e3b95c8e311666d0e8c243cb'
                       },
                       {
                         'alias' => 'Organizational Unit ID',
                         'path' => 'mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-id',
                         'field_doc' => 'Item-Owning Library',
                         'condition' => {
                                          'in' => '::P2'
                                        },
                         'column' => {
                                       'transform_label' => 'Raw Data',
                                       'colname' => 'id',
                                       'transform' => 'Bare'
                                     },
                         'relation' => '2ed14f7a771a3e0d9afdf271614247e2'
                       },
                       {
                         'alias' => 'ID',
                         'path' => 'mccp-xact>inner-mbt-billings>inner-mb-btype>inner-cbt-id',
                         'field_doc' => '',
                         'condition' => {
                                          'in' => [
                                                    '7',
                                                    '8',
                                                    '106',
                                                    '2',
                                                    '148',
                                                    '10',
                                                    '11',
                                                    '162',
                                                    '3',
                                                    '4',
                                                    '161'
                                                  ]
                                        },
                         'relation' => 'dd443e81e6f9130c6e95815f086654ee',
                         'column' => {
                                       'colname' => 'id',
                                       'transform' => 'Bare',
                                       'transform_label' => 'Raw Data'
                                     }
                       },
                       {
                         'field_doc' => '',
                         'path' => 'mccp-payment>inner-mp-voided',
                         'alias' => 'Voided?',
                         'column' => {
                                       'transform' => 'Bare',
                                       'colname' => 'voided',
                                       'transform_label' => 'Raw Data'
                                     },
                         'relation' => '3aca099d9a5406728ed99a8a34cddb92',
                         'condition' => {
                                          '=' => 'f'
                                        }
                       }
                     ],
          'doc_url' => '',
          'rel_cache' => {
                           '2343919e3d697fc9e5a447952686eac8' => {
                                                                   'path' => 'mccp-xact>inner',
                                                                   'fields' => {
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'id' => {
                                                                                                          'colname' => 'id',
                                                                                                          'field_doc' => '',
                                                                                                          'op_value' => {},
                                                                                                          'transform_label' => 'Raw Data',
                                                                                                          'alias' => 'Bill #',
                                                                                                          'params' => undef,
                                                                                                          'join' => '',
                                                                                                          'datatype' => 'id',
                                                                                                          'transform' => 'Bare',
                                                                                                          'aggregate' => undef,
                                                                                                          'op' => '=',
                                                                                                          'op_label' => 'Equals'
                                                                                                        }
                                                                                              },
                                                                                 'filter_tab' => {}
                                                                               },
                                                                   'alias' => '2343919e3d697fc9e5a447952686eac8',
                                                                   'join' => '',
                                                                   'idlclass' => 'mbt',
                                                                   'label' => 'Credit Card Payment :: xact (inner)',
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'money.billable_xact'
                                                                 },
                           'dd443e81e6f9130c6e95815f086654ee' => {
                                                                   'label' => 'Credit Card Payment -> Billable Transaction -> Billing Line Item :: Type (inner)',
                                                                   'idlclass' => 'cbt',
                                                                   'join' => '',
                                                                   'alias' => 'dd443e81e6f9130c6e95815f086654ee',
                                                                   'fields' => {
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {},
                                                                                 'filter_tab' => {
                                                                                                   'id' => {
                                                                                                             'datatype' => 'id',
                                                                                                             'join' => '',
                                                                                                             'params' => undef,
                                                                                                             'alias' => 'ID',
                                                                                                             'aggregate' => undef,
                                                                                                             'transform' => 'Bare',
                                                                                                             'op' => 'in',
                                                                                                             'op_label' => 'In list',
                                                                                                             'colname' => 'id',
                                                                                                             'field_doc' => '',
                                                                                                             'op_value' => {
                                                                                                                             'label' => '"7,8,106,2,148,10,11,162,3,4,161"',
                                                                                                                             'value' => [
                                                                                                                                          '7',
                                                                                                                                          '8',
                                                                                                                                          '106',
                                                                                                                                          '2',
                                                                                                                                          '148',
                                                                                                                                          '10',
                                                                                                                                          '11',
                                                                                                                                          '162',
                                                                                                                                          '3',
                                                                                                                                          '4',
                                                                                                                                          '161'
                                                                                                                                        ]
                                                                                                                           },
                                                                                                             'transform_label' => 'Raw Data'
                                                                                                           }
                                                                                                 }
                                                                               },
                                                                   'path' => 'mccp-xact>inner.mbt-billings>inner.mb-btype>inner',
                                                                   'table' => 'config.billing_type',
                                                                   'reltype' => 'has_a'
                                                                 },
                           '2ed14f7a771a3e0d9afdf271614247e2' => {
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'actor.org_unit',
                                                                   'join' => '',
                                                                   'alias' => '2ed14f7a771a3e0d9afdf271614247e2',
                                                                   'fields' => {
                                                                                 'dis_tab' => {
                                                                                                'shortname' => {
                                                                                                                 'aggregate' => undef,
                                                                                                                 'transform' => 'Bare',
                                                                                                                 'join' => '',
                                                                                                                 'datatype' => 'text',
                                                                                                                 'params' => undef,
                                                                                                                 'alias' => 'Item-Owning Library',
                                                                                                                 'op_label' => 'Equals',
                                                                                                                 'op' => '=',
                                                                                                                 'field_doc' => '',
                                                                                                                 'colname' => 'shortname',
                                                                                                                 'transform_label' => 'Raw Data',
                                                                                                                 'op_value' => {}
                                                                                                               }
                                                                                              },
                                                                                 'aggfilter_tab' => {},
                                                                                 'filter_tab' => {
                                                                                                   'id' => {
                                                                                                             'params' => undef,
                                                                                                             'alias' => 'Organizational Unit ID',
                                                                                                             'join' => '',
                                                                                                             'datatype' => 'org_unit',
                                                                                                             'transform' => 'Bare',
                                                                                                             'aggregate' => undef,
                                                                                                             'op' => 'in',
                                                                                                             'op_label' => 'In list',
                                                                                                             'colname' => 'id',
                                                                                                             'field_doc' => 'Item-Owning Library',
                                                                                                             'op_value' => {},
                                                                                                             'transform_label' => 'Raw Data'
                                                                                                           }
                                                                                                 }
                                                                               },
                                                                   'path' => 'mccp-xact>inner.mbt-circulation>inner.circ-target_copy>inner.acp-call_number>inner.acn-owning_lib>inner',
                                                                   'label' => 'Credit Card Payment -> Billable Transaction -> Circulation -> Item -> Call Number/Volume :: Owning Library (inner)',
                                                                   'idlclass' => 'aou'
                                                                 },
                           'f8673f032e87d533b6f18c54fd7b15a2' => {
                                                                   'reltype' => 'might_have',
                                                                   'table' => 'money.materialized_billable_xact_summary',
                                                                   'alias' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                                                   'join' => '',
                                                                   'path' => 'mccp-xact>inner.mbt-summary>inner',
                                                                   'fields' => {
                                                                                 'filter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'last_billing_note' => {
                                                                                                                         'op_value' => {},
                                                                                                                         'transform_label' => 'Raw Data',
                                                                                                                         'colname' => 'last_billing_note',
                                                                                                                         'field_doc' => '',
                                                                                                                         'op' => '=',
                                                                                                                         'op_label' => 'Equals',
                                                                                                                         'datatype' => 'text',
                                                                                                                         'join' => '',
                                                                                                                         'alias' => 'Last Billing Note',
                                                                                                                         'params' => undef,
                                                                                                                         'aggregate' => undef,
                                                                                                                         'transform' => 'Bare'
                                                                                                                       },
                                                                                                'last_payment_note' => {
                                                                                                                         'op_label' => 'Equals',
                                                                                                                         'op' => '=',
                                                                                                                         'transform' => 'Bare',
                                                                                                                         'aggregate' => undef,
                                                                                                                         'params' => undef,
                                                                                                                         'alias' => 'Last Payment Note',
                                                                                                                         'datatype' => 'text',
                                                                                                                         'join' => '',
                                                                                                                         'transform_label' => 'Raw Data',
                                                                                                                         'op_value' => {},
                                                                                                                         'field_doc' => '',
                                                                                                                         'colname' => 'last_payment_note'
                                                                                                                       }
                                                                                              },
                                                                                 'aggfilter_tab' => {}
                                                                               },
                                                                   'label' => 'Credit Card Payment -> Billable Transaction :: Payment Summary (inner)',
                                                                   'idlclass' => 'mbts'
                                                                 },
                           'order_by' => [
                                           {
                                             'field' => 'shortname',
                                             'relation' => '2fba6895e3b95c8e311666d0e8c243cb'
                                           },
                                           {
                                             'relation' => '2ed14f7a771a3e0d9afdf271614247e2',
                                             'field' => 'shortname'
                                           },
                                           {
                                             'relation' => '588bc483fd97f3945eab29f2daf080cb',
                                             'field' => 'barcode'
                                           },
                                           {
                                             'field' => 'last_billing_note',
                                             'relation' => 'f8673f032e87d533b6f18c54fd7b15a2'
                                           },
                                           {
                                             'field' => 'first_given_name',
                                             'relation' => '379254aff37da471bdf2bdf0c407e586'
                                           },
                                           {
                                             'field' => 'second_given_name',
                                             'relation' => '379254aff37da471bdf2bdf0c407e586'
                                           },
                                           {
                                             'relation' => '379254aff37da471bdf2bdf0c407e586',
                                             'field' => 'family_name'
                                           },
                                           {
                                             'relation' => '2343919e3d697fc9e5a447952686eac8',
                                             'field' => 'id'
                                           },
                                           {
                                             'field' => 'payment_ts',
                                             'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                                           },
                                           {
                                             'relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                             'field' => 'last_payment_note'
                                           }
                                         ],
                           '379254aff37da471bdf2bdf0c407e586' => {
                                                                   'label' => 'Credit Card Payment -> Billable Transaction :: User (inner)',
                                                                   'idlclass' => 'au',
                                                                   'alias' => '379254aff37da471bdf2bdf0c407e586',
                                                                   'join' => '',
                                                                   'path' => 'mccp-xact>inner.mbt-usr>inner',
                                                                   'fields' => {
                                                                                 'dis_tab' => {
                                                                                                'family_name' => {
                                                                                                                   'transform_label' => 'Raw Data',
                                                                                                                   'op_value' => {},
                                                                                                                   'field_doc' => '',
                                                                                                                   'colname' => 'family_name',
                                                                                                                   'op_label' => 'Equals',
                                                                                                                   'op' => '=',
                                                                                                                   'aggregate' => undef,
                                                                                                                   'transform' => 'Bare',
                                                                                                                   'join' => '',
                                                                                                                   'datatype' => 'text',
                                                                                                                   'params' => undef,
                                                                                                                   'alias' => 'Last Name'
                                                                                                                 },
                                                                                                'second_given_name' => {
                                                                                                                         'colname' => 'second_given_name',
                                                                                                                         'field_doc' => '',
                                                                                                                         'op_value' => {},
                                                                                                                         'transform_label' => 'Raw Data',
                                                                                                                         'join' => '',
                                                                                                                         'datatype' => 'text',
                                                                                                                         'alias' => 'Middle Name',
                                                                                                                         'params' => undef,
                                                                                                                         'aggregate' => undef,
                                                                                                                         'transform' => 'Bare',
                                                                                                                         'op' => '=',
                                                                                                                         'op_label' => 'Equals'
                                                                                                                       },
                                                                                                'first_given_name' => {
                                                                                                                        'colname' => 'first_given_name',
                                                                                                                        'field_doc' => '',
                                                                                                                        'op_value' => {},
                                                                                                                        'transform_label' => 'Raw Data',
                                                                                                                        'alias' => 'First Name',
                                                                                                                        'params' => undef,
                                                                                                                        'datatype' => 'text',
                                                                                                                        'join' => '',
                                                                                                                        'transform' => 'Bare',
                                                                                                                        'aggregate' => undef,
                                                                                                                        'op' => '=',
                                                                                                                        'op_label' => 'Equals'
                                                                                                                      }
                                                                                              },
                                                                                 'aggfilter_tab' => {},
                                                                                 'filter_tab' => {}
                                                                               },
                                                                   'table' => 'actor.usr',
                                                                   'reltype' => 'has_a'
                                                                 },
                           '3aca099d9a5406728ed99a8a34cddb92' => {
                                                                   'reltype' => 'might_have',
                                                                   'table' => 'money.payment_view',
                                                                   'fields' => {
                                                                                 'filter_tab' => {
                                                                                                   'voided' => {
                                                                                                                 'colname' => 'voided',
                                                                                                                 'field_doc' => '',
                                                                                                                 'op_value' => {
                                                                                                                                 'value' => 'f',
                                                                                                                                 'label' => 'False'
                                                                                                                               },
                                                                                                                 'transform_label' => 'Raw Data',
                                                                                                                 'join' => '',
                                                                                                                 'datatype' => 'bool',
                                                                                                                 'params' => undef,
                                                                                                                 'alias' => 'Voided?',
                                                                                                                 'aggregate' => undef,
                                                                                                                 'transform' => 'Bare',
                                                                                                                 'op' => '=',
                                                                                                                 'op_label' => 'Equals'
                                                                                                               }
                                                                                                 },
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {}
                                                                               },
                                                                   'path' => 'mccp-payment>inner',
                                                                   'join' => '',
                                                                   'alias' => '3aca099d9a5406728ed99a8a34cddb92',
                                                                   'idlclass' => 'mp',
                                                                   'label' => 'Credit Card Payment :: payment (inner)'
                                                                 },
                           '2fba6895e3b95c8e311666d0e8c243cb' => {
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'actor.org_unit',
                                                                   'join' => '',
                                                                   'alias' => '2fba6895e3b95c8e311666d0e8c243cb',
                                                                   'fields' => {
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'shortname' => {
                                                                                                                 'transform_label' => 'Raw Data',
                                                                                                                 'op_value' => {},
                                                                                                                 'field_doc' => '',
                                                                                                                 'colname' => 'shortname',
                                                                                                                 'op_label' => 'Equals',
                                                                                                                 'op' => '=',
                                                                                                                 'transform' => 'Bare',
                                                                                                                 'aggregate' => undef,
                                                                                                                 'alias' => 'Library Receiving Payment',
                                                                                                                 'params' => undef,
                                                                                                                 'join' => '',
                                                                                                                 'datatype' => 'text'
                                                                                                               }
                                                                                              },
                                                                                 'filter_tab' => {
                                                                                                   'id' => {
                                                                                                             'transform_label' => 'Raw Data',
                                                                                                             'op_value' => {},
                                                                                                             'field_doc' => 'Library Receiving Payment',
                                                                                                             'colname' => 'id',
                                                                                                             'op_label' => 'Not in list',
                                                                                                             'op' => 'not in',
                                                                                                             'transform' => 'Bare',
                                                                                                             'aggregate' => undef,
                                                                                                             'params' => undef,
                                                                                                             'alias' => 'Organizational Unit ID',
                                                                                                             'datatype' => 'org_unit',
                                                                                                             'join' => ''
                                                                                                           }
                                                                                                 }
                                                                               },
                                                                   'path' => 'mccp-accepting_usr>inner.au-home_ou>inner',
                                                                   'label' => 'Credit Card Payment -> ILS User :: Home Library (inner)',
                                                                   'idlclass' => 'aou'
                                                                 },
                           'b27fa2c9836b0e0aca9dd6e1a27ac044' => {
                                                                   'table' => 'money.credit_card_payment',
                                                                   'reltype' => '',
                                                                   'label' => 'Credit Card Payment',
                                                                   'idlclass' => 'mccp',
                                                                   'join' => '',
                                                                   'alias' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                                                                   'fields' => {
                                                                                 'filter_tab' => {
                                                                                                   'cash_drawer' => {
                                                                                                                      'op_value' => {},
                                                                                                                      'transform_label' => 'Raw Data',
                                                                                                                      'colname' => 'cash_drawer',
                                                                                                                      'field_doc' => '',
                                                                                                                      'op' => 'is',
                                                                                                                      'op_label' => 'Is NULL',
                                                                                                                      'datatype' => 'link',
                                                                                                                      'join' => '',
                                                                                                                      'params' => undef,
                                                                                                                      'alias' => 'cash_drawer',
                                                                                                                      'aggregate' => undef,
                                                                                                                      'transform' => 'Bare'
                                                                                                                    },
                                                                                                   'payment_ts' => {
                                                                                                                     'transform_label' => 'Date',
                                                                                                                     'op_value' => {},
                                                                                                                     'field_doc' => 'Payment Date',
                                                                                                                     'colname' => 'payment_ts',
                                                                                                                     'op_label' => 'Between',
                                                                                                                     'op' => 'between',
                                                                                                                     'transform' => 'date',
                                                                                                                     'aggregate' => undef,
                                                                                                                     'alias' => 'payment_ts',
                                                                                                                     'params' => undef,
                                                                                                                     'datatype' => 'timestamp',
                                                                                                                     'join' => ''
                                                                                                                   }
                                                                                                 },
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'payment_ts' => {
                                                                                                                  'op' => '=',
                                                                                                                  'op_label' => 'Equals',
                                                                                                                  'join' => '',
                                                                                                                  'datatype' => 'timestamp',
                                                                                                                  'alias' => 'Payment Date',
                                                                                                                  'params' => undef,
                                                                                                                  'aggregate' => undef,
                                                                                                                  'transform' => 'date',
                                                                                                                  'op_value' => {},
                                                                                                                  'transform_label' => 'Date',
                                                                                                                  'colname' => 'payment_ts',
                                                                                                                  'field_doc' => ''
                                                                                                                }
                                                                                              }
                                                                               },
                                                                   'path' => 'mccp'
                                                                 },
                           '588bc483fd97f3945eab29f2daf080cb' => {
                                                                   'join' => '',
                                                                   'alias' => '588bc483fd97f3945eab29f2daf080cb',
                                                                   'fields' => {
                                                                                 'filter_tab' => {},
                                                                                 'aggfilter_tab' => {},
                                                                                 'dis_tab' => {
                                                                                                'barcode' => {
                                                                                                               'colname' => 'barcode',
                                                                                                               'field_doc' => '',
                                                                                                               'op_value' => {},
                                                                                                               'transform_label' => 'Raw Data',
                                                                                                               'alias' => 'Patron Barcode',
                                                                                                               'params' => undef,
                                                                                                               'datatype' => 'text',
                                                                                                               'join' => '',
                                                                                                               'transform' => 'Bare',
                                                                                                               'aggregate' => undef,
                                                                                                               'op' => '=',
                                                                                                               'op_label' => 'Equals'
                                                                                                             }
                                                                                              }
                                                                               },
                                                                   'path' => 'mccp-xact>inner.mbt-usr>inner.au-card>inner',
                                                                   'label' => 'Credit Card Payment -> Billable Transaction -> ILS User :: Current Library Card (inner)',
                                                                   'idlclass' => 'ac',
                                                                   'reltype' => 'has_a',
                                                                   'table' => 'actor.card'
                                                                 }
                         },
          'having' => [],
          'core_class' => 'mccp',
          'select' => [
                        {
                          'column' => {
                                        'colname' => 'shortname',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '2fba6895e3b95c8e311666d0e8c243cb',
                          'field_doc' => '',
                          'path' => 'mccp-accepting_usr>inner-au-home_ou>inner-aou-shortname',
                          'alias' => 'Library Receiving Payment'
                        },
                        {
                          'alias' => 'Item-Owning Library',
                          'path' => 'mccp-xact>inner-mbt-circulation>inner-circ-target_copy>inner-acp-call_number>inner-acn-owning_lib>inner-aou-shortname',
                          'field_doc' => '',
                          'column' => {
                                        'colname' => 'shortname',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '2ed14f7a771a3e0d9afdf271614247e2'
                        },
                        {
                          'field_doc' => '',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-card>inner-ac-barcode',
                          'alias' => 'Patron Barcode',
                          'relation' => '588bc483fd97f3945eab29f2daf080cb',
                          'column' => {
                                        'transform' => 'Bare',
                                        'colname' => 'barcode',
                                        'transform_label' => 'Raw Data'
                                      }
                        },
                        {
                          'relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                          'column' => {
                                        'colname' => 'last_billing_note',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'field_doc' => '',
                          'path' => 'mccp-xact>inner-mbt-summary>inner-mbts-last_billing_note',
                          'alias' => 'Last Billing Note'
                        },
                        {
                          'column' => {
                                        'transform' => 'Bare',
                                        'colname' => 'first_given_name',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '379254aff37da471bdf2bdf0c407e586',
                          'field_doc' => '',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-first_given_name',
                          'alias' => 'First Name'
                        },
                        {
                          'alias' => 'Middle Name',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-second_given_name',
                          'field_doc' => '',
                          'column' => {
                                        'transform_label' => 'Raw Data',
                                        'transform' => 'Bare',
                                        'colname' => 'second_given_name'
                                      },
                          'relation' => '379254aff37da471bdf2bdf0c407e586'
                        },
                        {
                          'alias' => 'Last Name',
                          'path' => 'mccp-xact>inner-mbt-usr>inner-au-family_name',
                          'field_doc' => '',
                          'column' => {
                                        'transform' => 'Bare',
                                        'colname' => 'family_name',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '379254aff37da471bdf2bdf0c407e586'
                        },
                        {
                          'alias' => 'Bill #',
                          'path' => 'mccp-xact>inner-mbt-id',
                          'field_doc' => '',
                          'column' => {
                                        'colname' => 'id',
                                        'transform' => 'Bare',
                                        'transform_label' => 'Raw Data'
                                      },
                          'relation' => '2343919e3d697fc9e5a447952686eac8'
                        },
                        {
                          'field_doc' => '',
                          'path' => 'mccp-payment_ts',
                          'alias' => 'Payment Date',
                          'column' => {
                                        'transform_label' => 'Date',
                                        'colname' => 'payment_ts',
                                        'transform' => 'date'
                                      },
                          'relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                        },
                        {
                          'alias' => 'Last Payment Note',
                          'path' => 'mccp-xact>inner-mbt-summary>inner-mbts-last_payment_note',
                          'field_doc' => '',
                          'column' => {
                                        'transform_label' => 'Raw Data',
                                        'transform' => 'Bare',
                                        'colname' => 'last_payment_note'
                                      },
                          'relation' => 'f8673f032e87d533b6f18c54fd7b15a2'
                        }
                      ]
        };
</pre><a href='report-data.html'>Back to output index</a><hr/><h1>Report Run Time</h1><pre>2020-06-09 19:49:20.9345-04</pre><a href='report-data.html'>Back to output index</a><hr/><h1>OpenILS::Reporter::SQLBuilder::ResultSet Object</h1><pre>$VAR1 = bless( {
                 '_where' => [
                               bless( {
                                        '_column' => {
                                                       'transform_label' => 'Raw Data',
                                                       'transform' => 'Bare',
                                                       'colname' => 'cash_drawer'
                                                     },
                                        '_condition' => {
                                                          'is' => undef
                                                        },
                                        '_relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                                        '_sql' => '"b27fa2c9836b0e0aca9dd6e1a27ac044"."cash_drawer" is NULL',
                                        '_aggregate' => undef,
                                        '_builder' => bless( {
                                                               '_resultset_limit' => 1048575,
                                                               '_rels' => {
                                                                            'ba6bd3b37b8e15f615ad51e1e87502ba' => bless( {
                                                                                                                           '_table' => 'asset.copy',
                                                                                                                           '_join' => [
                                                                                                                                        bless( {
                                                                                                                                                 '_sql' => '
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")',
                                                                                                                                                 '_right_col' => 'id',
                                                                                                                                                 '_right_rel' => bless( {
                                                                                                                                                                          '_nullable' => undef,
                                                                                                                                                                          '_alias' => 'b2928f30a98075ec403c153e1e1edbbf',
                                                                                                                                                                          '_join_type' => 'inner',
                                                                                                                                                                          '_columns' => [],
                                                                                                                                                                          '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                          '_is_join' => 1,
                                                                                                                                                                          '_sql' => 'asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf"',
                                                                                                                                                                          '_join' => [
                                                                                                                                                                                       bless( {
                                                                                                                                                                                                '_right_rel' => bless( {
                                                                                                                                                                                                                         '_join_type' => 'inner',
                                                                                                                                                                                                                         '_alias' => '2ed14f7a771a3e0d9afdf271614247e2',
                                                                                                                                                                                                                         '_table' => 'actor.org_unit',
                                                                                                                                                                                                                         '_join' => [],
                                                                                                                                                                                                                         '_sql' => 'actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2"',
                                                                                                                                                                                                                         '_is_join' => 1,
                                                                                                                                                                                                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                         '_columns' => []
                                                                                                                                                                                                                       }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                                                                '_right_col' => 'id',
                                                                                                                                                                                                '_sql' => '
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")',
                                                                                                                                                                                                '_join_type' => 'i',
                                                                                                                                                                                                '_left_col' => 'owning_lib',
                                                                                                                                                                                                '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'ba6bd3b37b8e15f615ad51e1e87502ba'}{'_join'}[0]{'_right_rel'}
                                                                                                                                                                                              }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                                                                     ],
                                                                                                                                                                          '_table' => 'asset.call_number'
                                                                                                                                                                        }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                 '_left_col' => 'call_number',
                                                                                                                                                 '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'ba6bd3b37b8e15f615ad51e1e87502ba'},
                                                                                                                                                 '_join_type' => 'i'
                                                                                                                                               }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                      ],
                                                                                                                           '_sql' => 'asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba"',
                                                                                                                           '_is_join' => 1,
                                                                                                                           '_columns' => [],
                                                                                                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                           '_join_type' => 'inner',
                                                                                                                           '_alias' => 'ba6bd3b37b8e15f615ad51e1e87502ba',
                                                                                                                           '_nullable' => undef
                                                                                                                         }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                            '588bc483fd97f3945eab29f2daf080cb' => bless( {
                                                                                                                           '_alias' => '588bc483fd97f3945eab29f2daf080cb',
                                                                                                                           '_join_type' => 'inner',
                                                                                                                           '_join' => [],
                                                                                                                           '_table' => 'actor.card',
                                                                                                                           '_columns' => [],
                                                                                                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                           '_is_join' => 1,
                                                                                                                           '_sql' => 'actor.card AS "588bc483fd97f3945eab29f2daf080cb"'
                                                                                                                         }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                            'b27fa2c9836b0e0aca9dd6e1a27ac044' => bless( {
                                                                                                                           '_columns' => [],
                                                                                                                           '_nullable' => undef,
                                                                                                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                           '_sql' => 'money.credit_card_payment AS "b27fa2c9836b0e0aca9dd6e1a27ac044"
	INNER JOIN money.billable_xact AS "2343919e3d697fc9e5a447952686eac8" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."xact" = "2343919e3d697fc9e5a447952686eac8"."id")
	INNER JOIN money.materialized_billable_xact_summary AS "f8673f032e87d533b6f18c54fd7b15a2" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "f8673f032e87d533b6f18c54fd7b15a2"."id")
	INNER JOIN actor.usr AS "379254aff37da471bdf2bdf0c407e586" ON ("2343919e3d697fc9e5a447952686eac8"."usr" = "379254aff37da471bdf2bdf0c407e586"."id")
	INNER JOIN actor.card AS "588bc483fd97f3945eab29f2daf080cb" ON ("379254aff37da471bdf2bdf0c407e586"."card" = "588bc483fd97f3945eab29f2daf080cb"."id")
	INNER JOIN action.circulation AS "67efd3520f8b5644d70d5ec0b9bbdb5c" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "67efd3520f8b5644d70d5ec0b9bbdb5c"."id")
	INNER JOIN asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba" ON ("67efd3520f8b5644d70d5ec0b9bbdb5c"."target_copy" = "ba6bd3b37b8e15f615ad51e1e87502ba"."id")
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")
	INNER JOIN money.billing AS "d8660a7e6615416a025e8163b4f716cf" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "d8660a7e6615416a025e8163b4f716cf"."xact")
	INNER JOIN config.billing_type AS "dd443e81e6f9130c6e95815f086654ee" ON ("d8660a7e6615416a025e8163b4f716cf"."btype" = "dd443e81e6f9130c6e95815f086654ee"."id")
	INNER JOIN money.payment_view AS "3aca099d9a5406728ed99a8a34cddb92" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."id" = "3aca099d9a5406728ed99a8a34cddb92"."id")
	INNER JOIN actor.usr AS "d4efd8a6eb4e6069135ebc98c8a04134" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."accepting_usr" = "d4efd8a6eb4e6069135ebc98c8a04134"."id")
	INNER JOIN actor.org_unit AS "2fba6895e3b95c8e311666d0e8c243cb" ON ("d4efd8a6eb4e6069135ebc98c8a04134"."home_ou" = "2fba6895e3b95c8e311666d0e8c243cb"."id")',
                                                                                                                           '_table' => 'money.credit_card_payment',
                                                                                                                           '_join' => [
                                                                                                                                        bless( {
                                                                                                                                                 '_right_rel' => bless( {
                                                                                                                                                                          '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                          '_columns' => [],
                                                                                                                                                                          '_is_join' => 1,
                                                                                                                                                                          '_sql' => 'money.billable_xact AS "2343919e3d697fc9e5a447952686eac8"',
                                                                                                                                                                          '_join' => [
                                                                                                                                                                                       bless( {
                                                                                                                                                                                                '_left_col' => 'id',
                                                                                                                                                                                                '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'},
                                                                                                                                                                                                '_join_type' => 'i',
                                                                                                                                                                                                '_right_col' => 'id',
                                                                                                                                                                                                '_sql' => '
	INNER JOIN money.materialized_billable_xact_summary AS "f8673f032e87d533b6f18c54fd7b15a2" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "f8673f032e87d533b6f18c54fd7b15a2"."id")',
                                                                                                                                                                                                '_right_rel' => bless( {
                                                                                                                                                                                                                         '_alias' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                                                                                                                                                                                                         '_join_type' => 'inner',
                                                                                                                                                                                                                         '_columns' => [],
                                                                                                                                                                                                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                         '_is_join' => 1,
                                                                                                                                                                                                                         '_sql' => 'money.materialized_billable_xact_summary AS "f8673f032e87d533b6f18c54fd7b15a2"',
                                                                                                                                                                                                                         '_join' => [],
                                                                                                                                                                                                                         '_table' => 'money.materialized_billable_xact_summary'
                                                                                                                                                                                                                       }, 'OpenILS::Reporter::SQLBuilder::Relation' )
                                                                                                                                                                                              }, 'OpenILS::Reporter::SQLBuilder::Join::inner' ),
                                                                                                                                                                                       bless( {
                                                                                                                                                                                                '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'},
                                                                                                                                                                                                '_left_col' => 'usr',
                                                                                                                                                                                                '_join_type' => 'i',
                                                                                                                                                                                                '_right_col' => 'id',
                                                                                                                                                                                                '_sql' => '
	INNER JOIN actor.usr AS "379254aff37da471bdf2bdf0c407e586" ON ("2343919e3d697fc9e5a447952686eac8"."usr" = "379254aff37da471bdf2bdf0c407e586"."id")
	INNER JOIN actor.card AS "588bc483fd97f3945eab29f2daf080cb" ON ("379254aff37da471bdf2bdf0c407e586"."card" = "588bc483fd97f3945eab29f2daf080cb"."id")',
                                                                                                                                                                                                '_right_rel' => bless( {
                                                                                                                                                                                                                         '_nullable' => undef,
                                                                                                                                                                                                                         '_alias' => '379254aff37da471bdf2bdf0c407e586',
                                                                                                                                                                                                                         '_join_type' => 'inner',
                                                                                                                                                                                                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                         '_columns' => [],
                                                                                                                                                                                                                         '_is_join' => 1,
                                                                                                                                                                                                                         '_sql' => 'actor.usr AS "379254aff37da471bdf2bdf0c407e586"',
                                                                                                                                                                                                                         '_join' => [
                                                                                                                                                                                                                                      bless( {
                                                                                                                                                                                                                                               '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[1]{'_right_rel'},
                                                                                                                                                                                                                                               '_left_col' => 'card',
                                                                                                                                                                                                                                               '_join_type' => 'i',
                                                                                                                                                                                                                                               '_sql' => '
	INNER JOIN actor.card AS "588bc483fd97f3945eab29f2daf080cb" ON ("379254aff37da471bdf2bdf0c407e586"."card" = "588bc483fd97f3945eab29f2daf080cb"."id")',
                                                                                                                                                                                                                                               '_right_col' => 'id',
                                                                                                                                                                                                                                               '_right_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'588bc483fd97f3945eab29f2daf080cb'}
                                                                                                                                                                                                                                             }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                         '_table' => 'actor.usr'
                                                                                                                                                                                                                       }, 'OpenILS::Reporter::SQLBuilder::Relation' )
                                                                                                                                                                                              }, 'OpenILS::Reporter::SQLBuilder::Join::inner' ),
                                                                                                                                                                                       bless( {
                                                                                                                                                                                                '_right_rel' => bless( {
                                                                                                                                                                                                                         '_is_join' => 1,
                                                                                                                                                                                                                         '_sql' => 'action.circulation AS "67efd3520f8b5644d70d5ec0b9bbdb5c"',
                                                                                                                                                                                                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                         '_columns' => [],
                                                                                                                                                                                                                         '_join' => [
                                                                                                                                                                                                                                      bless( {
                                                                                                                                                                                                                                               '_sql' => '
	INNER JOIN asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba" ON ("67efd3520f8b5644d70d5ec0b9bbdb5c"."target_copy" = "ba6bd3b37b8e15f615ad51e1e87502ba"."id")
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")',
                                                                                                                                                                                                                                               '_right_col' => 'id',
                                                                                                                                                                                                                                               '_right_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'ba6bd3b37b8e15f615ad51e1e87502ba'},
                                                                                                                                                                                                                                               '_left_col' => 'target_copy',
                                                                                                                                                                                                                                               '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[2]{'_right_rel'},
                                                                                                                                                                                                                                               '_join_type' => 'i'
                                                                                                                                                                                                                                             }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                         '_table' => 'action.circulation',
                                                                                                                                                                                                                         '_nullable' => undef,
                                                                                                                                                                                                                         '_alias' => '67efd3520f8b5644d70d5ec0b9bbdb5c',
                                                                                                                                                                                                                         '_join_type' => 'inner'
                                                                                                                                                                                                                       }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                                                                '_right_col' => 'id',
                                                                                                                                                                                                '_sql' => '
	INNER JOIN action.circulation AS "67efd3520f8b5644d70d5ec0b9bbdb5c" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "67efd3520f8b5644d70d5ec0b9bbdb5c"."id")
	INNER JOIN asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba" ON ("67efd3520f8b5644d70d5ec0b9bbdb5c"."target_copy" = "ba6bd3b37b8e15f615ad51e1e87502ba"."id")
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")',
                                                                                                                                                                                                '_join_type' => 'i',
                                                                                                                                                                                                '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'},
                                                                                                                                                                                                '_left_col' => 'id'
                                                                                                                                                                                              }, 'OpenILS::Reporter::SQLBuilder::Join::inner' ),
                                                                                                                                                                                       bless( {
                                                                                                                                                                                                '_right_rel' => bless( {
                                                                                                                                                                                                                         '_join' => [
                                                                                                                                                                                                                                      bless( {
                                                                                                                                                                                                                                               '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[3]{'_right_rel'},
                                                                                                                                                                                                                                               '_left_col' => 'btype',
                                                                                                                                                                                                                                               '_join_type' => 'i',
                                                                                                                                                                                                                                               '_right_col' => 'id',
                                                                                                                                                                                                                                               '_sql' => '
	INNER JOIN config.billing_type AS "dd443e81e6f9130c6e95815f086654ee" ON ("d8660a7e6615416a025e8163b4f716cf"."btype" = "dd443e81e6f9130c6e95815f086654ee"."id")',
                                                                                                                                                                                                                                               '_right_rel' => bless( {
                                                                                                                                                                                                                                                                        '_join_type' => 'inner',
                                                                                                                                                                                                                                                                        '_alias' => 'dd443e81e6f9130c6e95815f086654ee',
                                                                                                                                                                                                                                                                        '_table' => 'config.billing_type',
                                                                                                                                                                                                                                                                        '_join' => [],
                                                                                                                                                                                                                                                                        '_columns' => [],
                                                                                                                                                                                                                                                                        '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                                                                        '_sql' => 'config.billing_type AS "dd443e81e6f9130c6e95815f086654ee"',
                                                                                                                                                                                                                                                                        '_is_join' => 1
                                                                                                                                                                                                                                                                      }, 'OpenILS::Reporter::SQLBuilder::Relation' )
                                                                                                                                                                                                                                             }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                                                                                                                    ],
                                                                                                                                                                                                                         '_table' => 'money.billing',
                                                                                                                                                                                                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                         '_columns' => [],
                                                                                                                                                                                                                         '_is_join' => 1,
                                                                                                                                                                                                                         '_sql' => 'money.billing AS "d8660a7e6615416a025e8163b4f716cf"',
                                                                                                                                                                                                                         '_alias' => 'd8660a7e6615416a025e8163b4f716cf',
                                                                                                                                                                                                                         '_join_type' => 'inner',
                                                                                                                                                                                                                         '_nullable' => undef
                                                                                                                                                                                                                       }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                                                                '_right_col' => 'xact',
                                                                                                                                                                                                '_sql' => '
	INNER JOIN money.billing AS "d8660a7e6615416a025e8163b4f716cf" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "d8660a7e6615416a025e8163b4f716cf"."xact")
	INNER JOIN config.billing_type AS "dd443e81e6f9130c6e95815f086654ee" ON ("d8660a7e6615416a025e8163b4f716cf"."btype" = "dd443e81e6f9130c6e95815f086654ee"."id")',
                                                                                                                                                                                                '_join_type' => 'i',
                                                                                                                                                                                                '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'},
                                                                                                                                                                                                '_left_col' => 'id'
                                                                                                                                                                                              }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                                                                     ],
                                                                                                                                                                          '_table' => 'money.billable_xact',
                                                                                                                                                                          '_nullable' => undef,
                                                                                                                                                                          '_alias' => '2343919e3d697fc9e5a447952686eac8',
                                                                                                                                                                          '_join_type' => 'inner'
                                                                                                                                                                        }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                 '_sql' => '
	INNER JOIN money.billable_xact AS "2343919e3d697fc9e5a447952686eac8" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."xact" = "2343919e3d697fc9e5a447952686eac8"."id")
	INNER JOIN money.materialized_billable_xact_summary AS "f8673f032e87d533b6f18c54fd7b15a2" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "f8673f032e87d533b6f18c54fd7b15a2"."id")
	INNER JOIN actor.usr AS "379254aff37da471bdf2bdf0c407e586" ON ("2343919e3d697fc9e5a447952686eac8"."usr" = "379254aff37da471bdf2bdf0c407e586"."id")
	INNER JOIN actor.card AS "588bc483fd97f3945eab29f2daf080cb" ON ("379254aff37da471bdf2bdf0c407e586"."card" = "588bc483fd97f3945eab29f2daf080cb"."id")
	INNER JOIN action.circulation AS "67efd3520f8b5644d70d5ec0b9bbdb5c" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "67efd3520f8b5644d70d5ec0b9bbdb5c"."id")
	INNER JOIN asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba" ON ("67efd3520f8b5644d70d5ec0b9bbdb5c"."target_copy" = "ba6bd3b37b8e15f615ad51e1e87502ba"."id")
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")
	INNER JOIN money.billing AS "d8660a7e6615416a025e8163b4f716cf" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "d8660a7e6615416a025e8163b4f716cf"."xact")
	INNER JOIN config.billing_type AS "dd443e81e6f9130c6e95815f086654ee" ON ("d8660a7e6615416a025e8163b4f716cf"."btype" = "dd443e81e6f9130c6e95815f086654ee"."id")',
                                                                                                                                                 '_right_col' => 'id',
                                                                                                                                                 '_join_type' => 'i',
                                                                                                                                                 '_left_col' => 'xact',
                                                                                                                                                 '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}
                                                                                                                                               }, 'OpenILS::Reporter::SQLBuilder::Join::inner' ),
                                                                                                                                        bless( {
                                                                                                                                                 '_right_col' => 'id',
                                                                                                                                                 '_sql' => '
	INNER JOIN money.payment_view AS "3aca099d9a5406728ed99a8a34cddb92" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."id" = "3aca099d9a5406728ed99a8a34cddb92"."id")',
                                                                                                                                                 '_right_rel' => bless( {
                                                                                                                                                                          '_columns' => [],
                                                                                                                                                                          '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                          '_sql' => 'money.payment_view AS "3aca099d9a5406728ed99a8a34cddb92"',
                                                                                                                                                                          '_is_join' => 1,
                                                                                                                                                                          '_table' => 'money.payment_view',
                                                                                                                                                                          '_join' => [],
                                                                                                                                                                          '_join_type' => 'inner',
                                                                                                                                                                          '_alias' => '3aca099d9a5406728ed99a8a34cddb92'
                                                                                                                                                                        }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                 '_left_col' => 'id',
                                                                                                                                                 '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'},
                                                                                                                                                 '_join_type' => 'i'
                                                                                                                                               }, 'OpenILS::Reporter::SQLBuilder::Join::inner' ),
                                                                                                                                        bless( {
                                                                                                                                                 '_right_rel' => bless( {
                                                                                                                                                                          '_nullable' => undef,
                                                                                                                                                                          '_join_type' => 'inner',
                                                                                                                                                                          '_alias' => 'd4efd8a6eb4e6069135ebc98c8a04134',
                                                                                                                                                                          '_sql' => 'actor.usr AS "d4efd8a6eb4e6069135ebc98c8a04134"',
                                                                                                                                                                          '_is_join' => 1,
                                                                                                                                                                          '_columns' => [],
                                                                                                                                                                          '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                          '_table' => 'actor.usr',
                                                                                                                                                                          '_join' => [
                                                                                                                                                                                       bless( {
                                                                                                                                                                                                '_right_col' => 'id',
                                                                                                                                                                                                '_sql' => '
	INNER JOIN actor.org_unit AS "2fba6895e3b95c8e311666d0e8c243cb" ON ("d4efd8a6eb4e6069135ebc98c8a04134"."home_ou" = "2fba6895e3b95c8e311666d0e8c243cb"."id")',
                                                                                                                                                                                                '_right_rel' => bless( {
                                                                                                                                                                                                                         '_join' => [],
                                                                                                                                                                                                                         '_table' => 'actor.org_unit',
                                                                                                                                                                                                                         '_is_join' => 1,
                                                                                                                                                                                                                         '_sql' => 'actor.org_unit AS "2fba6895e3b95c8e311666d0e8c243cb"',
                                                                                                                                                                                                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                                                                                                                                                                                                         '_columns' => [],
                                                                                                                                                                                                                         '_alias' => '2fba6895e3b95c8e311666d0e8c243cb',
                                                                                                                                                                                                                         '_join_type' => 'inner'
                                                                                                                                                                                                                       }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                                                                '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[2]{'_right_rel'},
                                                                                                                                                                                                '_left_col' => 'home_ou',
                                                                                                                                                                                                '_join_type' => 'i'
                                                                                                                                                                                              }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                                                                     ]
                                                                                                                                                                        }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                                                                                                 '_right_col' => 'id',
                                                                                                                                                 '_sql' => '
	INNER JOIN actor.usr AS "d4efd8a6eb4e6069135ebc98c8a04134" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."accepting_usr" = "d4efd8a6eb4e6069135ebc98c8a04134"."id")
	INNER JOIN actor.org_unit AS "2fba6895e3b95c8e311666d0e8c243cb" ON ("d4efd8a6eb4e6069135ebc98c8a04134"."home_ou" = "2fba6895e3b95c8e311666d0e8c243cb"."id")',
                                                                                                                                                 '_join_type' => 'i',
                                                                                                                                                 '_left_rel' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'},
                                                                                                                                                 '_left_col' => 'accepting_usr'
                                                                                                                                               }, 'OpenILS::Reporter::SQLBuilder::Join::inner' )
                                                                                                                                      ],
                                                                                                                           '_alias' => 'b27fa2c9836b0e0aca9dd6e1a27ac044'
                                                                                                                         }, 'OpenILS::Reporter::SQLBuilder::Relation' ),
                                                                            '2fba6895e3b95c8e311666d0e8c243cb' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[2]{'_right_rel'}{'_join'}[0]{'_right_rel'},
                                                                            'b2928f30a98075ec403c153e1e1edbbf' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'ba6bd3b37b8e15f615ad51e1e87502ba'}{'_join'}[0]{'_right_rel'},
                                                                            '379254aff37da471bdf2bdf0c407e586' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[1]{'_right_rel'},
                                                                            '3aca099d9a5406728ed99a8a34cddb92' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[1]{'_right_rel'},
                                                                            'f8673f032e87d533b6f18c54fd7b15a2' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[0]{'_right_rel'},
                                                                            '2ed14f7a771a3e0d9afdf271614247e2' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'ba6bd3b37b8e15f615ad51e1e87502ba'}{'_join'}[0]{'_right_rel'}{'_join'}[0]{'_right_rel'},
                                                                            'd4efd8a6eb4e6069135ebc98c8a04134' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[2]{'_right_rel'},
                                                                            '2343919e3d697fc9e5a447952686eac8' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'},
                                                                            'd8660a7e6615416a025e8163b4f716cf' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[3]{'_right_rel'},
                                                                            'dd443e81e6f9130c6e95815f086654ee' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[3]{'_right_rel'}{'_join'}[0]{'_right_rel'},
                                                                            '67efd3520f8b5644d70d5ec0b9bbdb5c' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}{'_join'}[0]{'_right_rel'}{'_join'}[2]{'_right_rel'}
                                                                          },
                                                               '_relative_time' => '2020-06-09 19:49:20.9345-04',
                                                               '_sql' => undef,
                                                               '_params' => {
                                                                              'P2' => [
                                                                                        '165',
                                                                                        '166',
                                                                                        '167',
                                                                                        '176',
                                                                                        '375',
                                                                                        '352',
                                                                                        '168',
                                                                                        '358',
                                                                                        '349',
                                                                                        '169',
                                                                                        '164',
                                                                                        '170',
                                                                                        '171',
                                                                                        '320',
                                                                                        '172',
                                                                                        '173',
                                                                                        '174',
                                                                                        '372',
                                                                                        '175',
                                                                                        '319'
                                                                                      ],
                                                                              'P0' => [
                                                                                        '2020-06-05',
                                                                                        '2020-06-09'
                                                                                      ],
                                                                              'P1' => [
                                                                                        '165',
                                                                                        '166',
                                                                                        '167',
                                                                                        '176',
                                                                                        '375',
                                                                                        '352',
                                                                                        '168',
                                                                                        '358',
                                                                                        '349',
                                                                                        '169',
                                                                                        '164',
                                                                                        '170',
                                                                                        '171',
                                                                                        '320',
                                                                                        '172',
                                                                                        '173',
                                                                                        '174',
                                                                                        '372',
                                                                                        '175',
                                                                                        '319'
                                                                                      ]
                                                                            }
                                                             }, 'OpenILS::Reporter::SQLBuilder' ),
                                        '_transform' => 'Bare'
                                      }, 'OpenILS::Reporter::SQLBuilder::Column::Where' ),
                               bless( {
                                        '_column' => {
                                                       'transform' => 'date',
                                                       'colname' => 'payment_ts',
                                                       'transform_label' => 'Date'
                                                     },
                                        '_condition' => {
                                                          'between' => '::P0'
                                                        },
                                        '_relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                                        '_sql' => 'date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") BETWEEN $_36017$2020-06-05$_36017$ AND $_36017$2020-06-09$_36017$',
                                        '_aggregate' => undef,
                                        '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                        '_transform' => 'GenericTransform'
                                      }, 'OpenILS::Reporter::SQLBuilder::Column::Where' ),
                               bless( {
                                        '_aggregate' => undef,
                                        '_sql' => '"2fba6895e3b95c8e311666d0e8c243cb"."id" NOT IN ($_36017$165$_36017$,$_36017$166$_36017$,$_36017$167$_36017$,$_36017$176$_36017$,$_36017$375$_36017$,$_36017$352$_36017$,$_36017$168$_36017$,$_36017$358$_36017$,$_36017$349$_36017$,$_36017$169$_36017$,$_36017$164$_36017$,$_36017$170$_36017$,$_36017$171$_36017$,$_36017$320$_36017$,$_36017$172$_36017$,$_36017$173$_36017$,$_36017$174$_36017$,$_36017$372$_36017$,$_36017$175$_36017$,$_36017$319$_36017$)',
                                        '_relation' => '2fba6895e3b95c8e311666d0e8c243cb',
                                        '_transform' => 'Bare',
                                        '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                        '_column' => {
                                                       'colname' => 'id',
                                                       'transform' => 'Bare',
                                                       'transform_label' => 'Raw Data'
                                                     },
                                        '_condition' => {
                                                          'not in' => '::P1'
                                                        }
                                      }, 'OpenILS::Reporter::SQLBuilder::Column::Where' ),
                               bless( {
                                        '_condition' => {
                                                          'in' => '::P2'
                                                        },
                                        '_column' => {
                                                       'transform_label' => 'Raw Data',
                                                       'transform' => 'Bare',
                                                       'colname' => 'id'
                                                     },
                                        '_transform' => 'Bare',
                                        '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                        '_aggregate' => undef,
                                        '_sql' => '"2ed14f7a771a3e0d9afdf271614247e2"."id" IN ($_36017$165$_36017$,$_36017$166$_36017$,$_36017$167$_36017$,$_36017$176$_36017$,$_36017$375$_36017$,$_36017$352$_36017$,$_36017$168$_36017$,$_36017$358$_36017$,$_36017$349$_36017$,$_36017$169$_36017$,$_36017$164$_36017$,$_36017$170$_36017$,$_36017$171$_36017$,$_36017$320$_36017$,$_36017$172$_36017$,$_36017$173$_36017$,$_36017$174$_36017$,$_36017$372$_36017$,$_36017$175$_36017$,$_36017$319$_36017$)',
                                        '_relation' => '2ed14f7a771a3e0d9afdf271614247e2'
                                      }, 'OpenILS::Reporter::SQLBuilder::Column::Where' ),
                               bless( {
                                        '_transform' => 'Bare',
                                        '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                        '_aggregate' => undef,
                                        '_relation' => 'dd443e81e6f9130c6e95815f086654ee',
                                        '_sql' => '"dd443e81e6f9130c6e95815f086654ee"."id" IN ($_36017$7$_36017$,$_36017$8$_36017$,$_36017$106$_36017$,$_36017$2$_36017$,$_36017$148$_36017$,$_36017$10$_36017$,$_36017$11$_36017$,$_36017$162$_36017$,$_36017$3$_36017$,$_36017$4$_36017$,$_36017$161$_36017$)',
                                        '_condition' => {
                                                          'in' => [
                                                                    '7',
                                                                    '8',
                                                                    '106',
                                                                    '2',
                                                                    '148',
                                                                    '10',
                                                                    '11',
                                                                    '162',
                                                                    '3',
                                                                    '4',
                                                                    '161'
                                                                  ]
                                                        },
                                        '_column' => {
                                                       'colname' => 'id',
                                                       'transform' => 'Bare',
                                                       'transform_label' => 'Raw Data'
                                                     }
                                      }, 'OpenILS::Reporter::SQLBuilder::Column::Where' ),
                               bless( {
                                        '_condition' => {
                                                          '=' => 'f'
                                                        },
                                        '_column' => {
                                                       'transform_label' => 'Raw Data',
                                                       'transform' => 'Bare',
                                                       'colname' => 'voided'
                                                     },
                                        '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                        '_transform' => 'Bare',
                                        '_sql' => '"3aca099d9a5406728ed99a8a34cddb92"."voided" = $_36017$f$_36017$',
                                        '_relation' => '3aca099d9a5406728ed99a8a34cddb92',
                                        '_aggregate' => undef
                                      }, 'OpenILS::Reporter::SQLBuilder::Column::Where' )
                             ],
                 '_sql' => 'SELECT * FROM (SELECT	"2fba6895e3b95c8e311666d0e8c243cb"."shortname" AS "Library Receiving Payment",
	"2ed14f7a771a3e0d9afdf271614247e2"."shortname" AS "Item-Owning Library",
	"588bc483fd97f3945eab29f2daf080cb"."barcode" AS "Patron Barcode",
	"f8673f032e87d533b6f18c54fd7b15a2"."last_billing_note" AS "Last Billing Note",
	"379254aff37da471bdf2bdf0c407e586"."first_given_name" AS "First Name",
	"379254aff37da471bdf2bdf0c407e586"."second_given_name" AS "Middle Name",
	"379254aff37da471bdf2bdf0c407e586"."family_name" AS "Last Name",
	"2343919e3d697fc9e5a447952686eac8"."id" AS "Bill #",
	date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") AS "Payment Date",
	"f8673f032e87d533b6f18c54fd7b15a2"."last_payment_note" AS "Last Payment Note"
  FROM	money.credit_card_payment AS "b27fa2c9836b0e0aca9dd6e1a27ac044"
	INNER JOIN money.billable_xact AS "2343919e3d697fc9e5a447952686eac8" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."xact" = "2343919e3d697fc9e5a447952686eac8"."id")
	INNER JOIN money.materialized_billable_xact_summary AS "f8673f032e87d533b6f18c54fd7b15a2" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "f8673f032e87d533b6f18c54fd7b15a2"."id")
	INNER JOIN actor.usr AS "379254aff37da471bdf2bdf0c407e586" ON ("2343919e3d697fc9e5a447952686eac8"."usr" = "379254aff37da471bdf2bdf0c407e586"."id")
	INNER JOIN actor.card AS "588bc483fd97f3945eab29f2daf080cb" ON ("379254aff37da471bdf2bdf0c407e586"."card" = "588bc483fd97f3945eab29f2daf080cb"."id")
	INNER JOIN action.circulation AS "67efd3520f8b5644d70d5ec0b9bbdb5c" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "67efd3520f8b5644d70d5ec0b9bbdb5c"."id")
	INNER JOIN asset.copy AS "ba6bd3b37b8e15f615ad51e1e87502ba" ON ("67efd3520f8b5644d70d5ec0b9bbdb5c"."target_copy" = "ba6bd3b37b8e15f615ad51e1e87502ba"."id")
	INNER JOIN asset.call_number AS "b2928f30a98075ec403c153e1e1edbbf" ON ("ba6bd3b37b8e15f615ad51e1e87502ba"."call_number" = "b2928f30a98075ec403c153e1e1edbbf"."id")
	INNER JOIN actor.org_unit AS "2ed14f7a771a3e0d9afdf271614247e2" ON ("b2928f30a98075ec403c153e1e1edbbf"."owning_lib" = "2ed14f7a771a3e0d9afdf271614247e2"."id")
	INNER JOIN money.billing AS "d8660a7e6615416a025e8163b4f716cf" ON ("2343919e3d697fc9e5a447952686eac8"."id" = "d8660a7e6615416a025e8163b4f716cf"."xact")
	INNER JOIN config.billing_type AS "dd443e81e6f9130c6e95815f086654ee" ON ("d8660a7e6615416a025e8163b4f716cf"."btype" = "dd443e81e6f9130c6e95815f086654ee"."id")
	INNER JOIN money.payment_view AS "3aca099d9a5406728ed99a8a34cddb92" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."id" = "3aca099d9a5406728ed99a8a34cddb92"."id")
	INNER JOIN actor.usr AS "d4efd8a6eb4e6069135ebc98c8a04134" ON ("b27fa2c9836b0e0aca9dd6e1a27ac044"."accepting_usr" = "d4efd8a6eb4e6069135ebc98c8a04134"."id")
	INNER JOIN actor.org_unit AS "2fba6895e3b95c8e311666d0e8c243cb" ON ("d4efd8a6eb4e6069135ebc98c8a04134"."home_ou" = "2fba6895e3b95c8e311666d0e8c243cb"."id")
  WHERE	"b27fa2c9836b0e0aca9dd6e1a27ac044"."cash_drawer" is NULL
	AND date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") BETWEEN $_36017$2020-06-05$_36017$ AND $_36017$2020-06-09$_36017$
	AND "2fba6895e3b95c8e311666d0e8c243cb"."id" NOT IN ($_36017$165$_36017$,$_36017$166$_36017$,$_36017$167$_36017$,$_36017$176$_36017$,$_36017$375$_36017$,$_36017$352$_36017$,$_36017$168$_36017$,$_36017$358$_36017$,$_36017$349$_36017$,$_36017$169$_36017$,$_36017$164$_36017$,$_36017$170$_36017$,$_36017$171$_36017$,$_36017$320$_36017$,$_36017$172$_36017$,$_36017$173$_36017$,$_36017$174$_36017$,$_36017$372$_36017$,$_36017$175$_36017$,$_36017$319$_36017$)
	AND "2ed14f7a771a3e0d9afdf271614247e2"."id" IN ($_36017$165$_36017$,$_36017$166$_36017$,$_36017$167$_36017$,$_36017$176$_36017$,$_36017$375$_36017$,$_36017$352$_36017$,$_36017$168$_36017$,$_36017$358$_36017$,$_36017$349$_36017$,$_36017$169$_36017$,$_36017$164$_36017$,$_36017$170$_36017$,$_36017$171$_36017$,$_36017$320$_36017$,$_36017$172$_36017$,$_36017$173$_36017$,$_36017$174$_36017$,$_36017$372$_36017$,$_36017$175$_36017$,$_36017$319$_36017$)
	AND "dd443e81e6f9130c6e95815f086654ee"."id" IN ($_36017$7$_36017$,$_36017$8$_36017$,$_36017$106$_36017$,$_36017$2$_36017$,$_36017$148$_36017$,$_36017$10$_36017$,$_36017$11$_36017$,$_36017$162$_36017$,$_36017$3$_36017$,$_36017$4$_36017$,$_36017$161$_36017$)
	AND "3aca099d9a5406728ed99a8a34cddb92"."voided" = $_36017$f$_36017$
  GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
  ORDER BY "2fba6895e3b95c8e311666d0e8c243cb"."shortname" ASC, "2ed14f7a771a3e0d9afdf271614247e2"."shortname" ASC, "588bc483fd97f3945eab29f2daf080cb"."barcode" ASC, "f8673f032e87d533b6f18c54fd7b15a2"."last_billing_note" ASC, "379254aff37da471bdf2bdf0c407e586"."first_given_name" ASC, "379254aff37da471bdf2bdf0c407e586"."second_given_name" ASC, "379254aff37da471bdf2bdf0c407e586"."family_name" ASC, "2343919e3d697fc9e5a447952686eac8"."id" ASC, date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") ASC, "f8673f032e87d533b6f18c54fd7b15a2"."last_payment_note" ASC
) limited_to_1048575_hits LIMIT 1048575
',
                 '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                 '_order_by' => [
                                  bless( {
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                           '_aggregate' => undef,
                                           '_relation' => '2fba6895e3b95c8e311666d0e8c243cb',
                                           '_sql' => '"2fba6895e3b95c8e311666d0e8c243cb"."shortname" ASC',
                                           '_direction' => 'ascending',
                                           '_column' => {
                                                          'transform_label' => 'Raw Data',
                                                          'transform' => 'Bare',
                                                          'colname' => 'shortname'
                                                        }
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_aggregate' => undef,
                                           '_relation' => '2ed14f7a771a3e0d9afdf271614247e2',
                                           '_sql' => '"2ed14f7a771a3e0d9afdf271614247e2"."shortname" ASC',
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                           '_column' => {
                                                          'transform_label' => 'Raw Data',
                                                          'colname' => 'shortname',
                                                          'transform' => 'Bare'
                                                        },
                                           '_direction' => 'ascending'
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_column' => {
                                                          'colname' => 'barcode',
                                                          'transform' => 'Bare',
                                                          'transform_label' => 'Raw Data'
                                                        },
                                           '_direction' => 'ascending',
                                           '_aggregate' => undef,
                                           '_relation' => '588bc483fd97f3945eab29f2daf080cb',
                                           '_sql' => '"588bc483fd97f3945eab29f2daf080cb"."barcode" ASC',
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'}
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_aggregate' => undef,
                                           '_sql' => '"f8673f032e87d533b6f18c54fd7b15a2"."last_billing_note" ASC',
                                           '_relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                           '_column' => {
                                                          'transform_label' => 'Raw Data',
                                                          'transform' => 'Bare',
                                                          'colname' => 'last_billing_note'
                                                        },
                                           '_direction' => 'ascending'
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                           '_aggregate' => undef,
                                           '_relation' => '379254aff37da471bdf2bdf0c407e586',
                                           '_sql' => '"379254aff37da471bdf2bdf0c407e586"."first_given_name" ASC',
                                           '_direction' => 'ascending',
                                           '_column' => {
                                                          'transform_label' => 'Raw Data',
                                                          'transform' => 'Bare',
                                                          'colname' => 'first_given_name'
                                                        }
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_direction' => 'ascending',
                                           '_column' => {
                                                          'transform_label' => 'Raw Data',
                                                          'transform' => 'Bare',
                                                          'colname' => 'second_given_name'
                                                        },
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                           '_transform' => 'Bare',
                                           '_relation' => '379254aff37da471bdf2bdf0c407e586',
                                           '_sql' => '"379254aff37da471bdf2bdf0c407e586"."second_given_name" ASC',
                                           '_aggregate' => undef
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_column' => {
                                                          'transform' => 'Bare',
                                                          'colname' => 'family_name',
                                                          'transform_label' => 'Raw Data'
                                                        },
                                           '_direction' => 'ascending',
                                           '_aggregate' => undef,
                                           '_relation' => '379254aff37da471bdf2bdf0c407e586',
                                           '_sql' => '"379254aff37da471bdf2bdf0c407e586"."family_name" ASC',
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'}
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_column' => {
                                                          'transform' => 'Bare',
                                                          'colname' => 'id',
                                                          'transform_label' => 'Raw Data'
                                                        },
                                           '_direction' => 'ascending',
                                           '_aggregate' => undef,
                                           '_sql' => '"2343919e3d697fc9e5a447952686eac8"."id" ASC',
                                           '_relation' => '2343919e3d697fc9e5a447952686eac8',
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'}
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                           '_transform' => 'GenericTransform',
                                           '_relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                                           '_sql' => 'date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") ASC',
                                           '_aggregate' => undef,
                                           '_direction' => 'ascending',
                                           '_column' => {
                                                          'colname' => 'payment_ts',
                                                          'transform' => 'date',
                                                          'transform_label' => 'Date'
                                                        }
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' ),
                                  bless( {
                                           '_column' => {
                                                          'transform_label' => 'Raw Data',
                                                          'colname' => 'last_payment_note',
                                                          'transform' => 'Bare'
                                                        },
                                           '_direction' => 'ascending',
                                           '_aggregate' => undef,
                                           '_sql' => '"f8673f032e87d533b6f18c54fd7b15a2"."last_payment_note" ASC',
                                           '_relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                           '_transform' => 'Bare',
                                           '_builder' => $VAR1->{'_where'}[0]{'_builder'}
                                         }, 'OpenILS::Reporter::SQLBuilder::Column::OrderBy' )
                                ],
                 '_select' => [
                                bless( {
                                         '_relation' => '2fba6895e3b95c8e311666d0e8c243cb',
                                         '_sql' => '"2fba6895e3b95c8e311666d0e8c243cb"."shortname" AS "Library Receiving Payment"',
                                         '_aggregate' => undef,
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_transform' => 'Bare',
                                         '_column' => $VAR1->{'_order_by'}[0]{'_column'},
                                         '_alias' => 'Library Receiving Payment'
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_column' => $VAR1->{'_order_by'}[1]{'_column'},
                                         '_alias' => 'Item-Owning Library',
                                         '_aggregate' => undef,
                                         '_relation' => '2ed14f7a771a3e0d9afdf271614247e2',
                                         '_sql' => '"2ed14f7a771a3e0d9afdf271614247e2"."shortname" AS "Item-Owning Library"',
                                         '_transform' => 'Bare',
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'}
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_aggregate' => undef,
                                         '_relation' => '588bc483fd97f3945eab29f2daf080cb',
                                         '_sql' => '"588bc483fd97f3945eab29f2daf080cb"."barcode" AS "Patron Barcode"',
                                         '_transform' => 'Bare',
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_column' => $VAR1->{'_order_by'}[2]{'_column'},
                                         '_alias' => 'Patron Barcode'
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_transform' => 'Bare',
                                         '_sql' => '"f8673f032e87d533b6f18c54fd7b15a2"."last_billing_note" AS "Last Billing Note"',
                                         '_relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                         '_aggregate' => undef,
                                         '_alias' => 'Last Billing Note',
                                         '_column' => $VAR1->{'_order_by'}[3]{'_column'}
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_aggregate' => undef,
                                         '_relation' => '379254aff37da471bdf2bdf0c407e586',
                                         '_sql' => '"379254aff37da471bdf2bdf0c407e586"."first_given_name" AS "First Name"',
                                         '_transform' => 'Bare',
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_column' => $VAR1->{'_order_by'}[4]{'_column'},
                                         '_alias' => 'First Name'
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_alias' => 'Middle Name',
                                         '_column' => $VAR1->{'_order_by'}[5]{'_column'},
                                         '_transform' => 'Bare',
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_aggregate' => undef,
                                         '_sql' => '"379254aff37da471bdf2bdf0c407e586"."second_given_name" AS "Middle Name"',
                                         '_relation' => '379254aff37da471bdf2bdf0c407e586'
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_transform' => 'Bare',
                                         '_sql' => '"379254aff37da471bdf2bdf0c407e586"."family_name" AS "Last Name"',
                                         '_relation' => '379254aff37da471bdf2bdf0c407e586',
                                         '_aggregate' => undef,
                                         '_alias' => 'Last Name',
                                         '_column' => $VAR1->{'_order_by'}[6]{'_column'}
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_aggregate' => undef,
                                         '_relation' => '2343919e3d697fc9e5a447952686eac8',
                                         '_sql' => '"2343919e3d697fc9e5a447952686eac8"."id" AS "Bill #"',
                                         '_transform' => 'Bare',
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_column' => $VAR1->{'_order_by'}[7]{'_column'},
                                         '_alias' => 'Bill #'
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_column' => $VAR1->{'_order_by'}[8]{'_column'},
                                         '_alias' => 'Payment Date',
                                         '_relation' => 'b27fa2c9836b0e0aca9dd6e1a27ac044',
                                         '_sql' => 'date("b27fa2c9836b0e0aca9dd6e1a27ac044"."payment_ts") AS "Payment Date"',
                                         '_aggregate' => undef,
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_transform' => 'GenericTransform'
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' ),
                                bless( {
                                         '_transform' => 'Bare',
                                         '_builder' => $VAR1->{'_where'}[0]{'_builder'},
                                         '_aggregate' => undef,
                                         '_relation' => 'f8673f032e87d533b6f18c54fd7b15a2',
                                         '_sql' => '"f8673f032e87d533b6f18c54fd7b15a2"."last_payment_note" AS "Last Payment Note"',
                                         '_alias' => 'Last Payment Note',
                                         '_column' => $VAR1->{'_order_by'}[9]{'_column'}
                                       }, 'OpenILS::Reporter::SQLBuilder::Column::Select' )
                              ],
                 '_having' => [],
                 '_from' => $VAR1->{'_where'}[0]{'_builder'}{'_rels'}{'b27fa2c9836b0e0aca9dd6e1a27ac044'}
               }, 'OpenILS::Reporter::SQLBuilder::ResultSet' );
</pre><a href='report-data.html'>Back to output index</a></body></html>